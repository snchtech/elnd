function buildMenu(menuItem, encounteredLabels = new Set()) {
  let html = '<ul>';

  for (const key in menuItem) {
    const item = menuItem[key];

    // Check if the item has a label and if it's already encountered
    if (item.label && !encounteredLabels.has(item.label)) {
      html += '<li>';

      // Check if the item has a link property
      if (item.link) {
        html += `<a href="${item.link}">${item.label}</a>`;
      } else {
        html += item.label;
      }

      // Add the label to the encountered set
      encounteredLabels.add(item.label);

      // Check if the item has nested submenus
      if (typeof item === 'object') {
        html += buildMenu(item, encounteredLabels);
      }

      html += '</li>';
    }
  }

  html += '</ul>';
  return html;
}