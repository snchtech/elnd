const axios = require('axios');

// Assuming you have the session ID stored in a variable called 'sessionId'
const sessionId = 'your-session-id';

// Define the endpoint URL
const endpointUrl = 'https://your-api.com/check-session';

// Create a data object to send in the request body
const data = {
  sessionId: sessionId
};

// Make the HTTP request to the endpoint
axios.post(endpointUrl, data)
  .then(response => {
    // Handle the response from the server
    console.log(response.data);
    // Process the response data as needed
  })
  .catch(error => {
    // Handle any errors that occur during the request
    console.error(error);
  });






// In your Electron main process file (e.g., main.js)

const { app, BrowserWindow, session } = require('electron');

// Create a new Electron window
let mainWindow;

app.on('ready', () => {
  mainWindow = new BrowserWindow();

  // Load your site URL in the Electron window
  mainWindow.loadURL('https://your-site-url.com');

  // Retrieve the session ID once the page finishes loading
  mainWindow.webContents.on('did-finish-load', () => {
    const ses = mainWindow.webContents.session;

    // Get the session ID
    const sessionId = ses.fromPartition('persist:your-partition-name').cookies.get({ url: 'https://your-site-url.com', name: 'your-session-cookie-name' }).sessionId;

    // Use the session ID as needed
    console.log('Session ID:', sessionId);
  });
});


const cookieParser = require("cookie-parser");

const app = express();
app.use(cookieParser())



const app = require('express')();
app.use('/', (req, res) => {
    var cookie = getcookie(req);
    console.log(cookie);
});

function getcookie(req) {
    var cookie = req.headers.cookie;
    // user=someone; session=mySessionID
    return cookie.split('; ');
}