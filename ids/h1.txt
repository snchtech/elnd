–¶–µ–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤ Oracle APEX, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏:
- **–î–æ–¥–∞—Ç–∫–æ–≤—É —Ç–∞–±–ª–∏—Ü—é –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**  
- **–î–∏–Ω–∞–º—ñ—á–Ω—ñ —Å—Ç–∞—Ç—É—Å–∏ –≤ –∑–≤—ñ—Ç—ñ (Report/Grid)**  
- **PL/SQL –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è**  
- **–ú–µ—Ö–∞–Ω—ñ–∑–º —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏–≤ —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó —Å—Ç–∞—Ç—É—Å–∏**

---

### üîπ **1. –¢–∞–±–ª–∏—Ü—è –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è**
–°—Ç–≤–æ—Ä–∏–º–æ —Ç–∞–±–ª–∏—Ü—é –¥–ª—è —Ñ—ñ–∫—Å–∞—Ü—ñ—ó —Ñ–∞–∫—Ç—É –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

```sql
CREATE TABLE USER_READ_STATUS (
    id NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    user_id NUMBER, -- ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    record_id NUMBER, -- ID –∑–∞–ø–∏—Å—É, –∑ —è–∫–∏–º –≤—ñ–Ω –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π
    read_date TIMESTAMP DEFAULT SYSTIMESTAMP, -- –î–∞—Ç–∞ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è
    CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES users(id),
    CONSTRAINT fk_record FOREIGN KEY (record_id) REFERENCES main_table(id),
    CONSTRAINT uq_user_record UNIQUE (user_id, record_id) -- –£–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞–ø–∏—Å—É
);
```
–¶—è —Ç–∞–±–ª–∏—Ü—è –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ, —Ö—Ç–æ —ñ –∫–æ–ª–∏ –æ–∑–Ω–∞–π–æ–º–∏–≤—Å—è –∑ –ø–µ–≤–Ω–∏–º –∑–∞–ø–∏—Å–æ–º.

---

### üîπ **2. –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –≤ –∑–≤—ñ—Ç**
–£ –≤–∞—à–æ–º—É –∑–≤—ñ—Ç—ñ –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –∫–æ–ª–æ–Ω–∫—É `–°—Ç–∞—Ç—É—Å`, —è–∫–∞ –±—É–¥–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏:  
‚úÖ **–û–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π** (—è–∫—â–æ —î –∑–∞–ø–∏—Å —É `USER_READ_STATUS`)  
‚ùå **–ù–µ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π** (—è–∫—â–æ –∑–∞–ø–∏—Å—É –Ω–µ–º–∞)

```sql
SELECT 
    mt.id, 
    mt.name, 
    CASE 
        WHEN urs.read_date IS NOT NULL THEN '‚úÖ –û–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π (' || TO_CHAR(urs.read_date, 'DD.MM.YYYY HH24:MI') || ')'
        ELSE '‚ùå –ù–µ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π'
    END AS status
FROM main_table mt
LEFT JOIN USER_READ_STATUS urs 
    ON mt.id = urs.record_id 
    AND urs.user_id = :APP_USER_ID -- –§—ñ–ª—å—Ç—Ä –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
ORDER BY mt.id DESC;
```
**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?**  
- –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î –∑–∞–ø–∏—Å —É `USER_READ_STATUS`.
- –Ø–∫—â–æ —î ‚Äì –ø–æ–∫–∞–∑—É—î–º–æ –¥–∞—Ç—É –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è.
- –Ø–∫—â–æ –Ω–µ–º–∞ ‚Äì —Å—Ç–∞—Ç—É—Å "–ù–µ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π".

---

### üîπ **3. –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è**
–°—Ç–≤–æ—Ä–∏–º–æ PL/SQL –ø—Ä–æ—Ü–µ–¥—É—Ä—É, —è–∫–∞ –±—É–¥–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –∑–∞–ø–∏—Å –ø—Ä–æ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è:

```sql
CREATE OR REPLACE PROCEDURE mark_as_read (p_user_id NUMBER, p_record_id NUMBER) AS
BEGIN
    MERGE INTO USER_READ_STATUS urs
    USING (SELECT p_user_id AS user_id, p_record_id AS record_id FROM dual) src
    ON (urs.user_id = src.user_id AND urs.record_id = src.record_id)
    WHEN MATCHED THEN 
        UPDATE SET read_date = SYSTIMESTAMP
    WHEN NOT MATCHED THEN
        INSERT (user_id, record_id, read_date)
        VALUES (p_user_id, p_record_id, SYSTIMESTAMP);
END;
```
- **–Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∂–µ –æ–∑–Ω–∞–π–æ–º–ª—é–≤–∞–≤—Å—è**, –æ–Ω–æ–≤–ª—é—î–º–æ –¥–∞—Ç—É.  
- **–Ø–∫—â–æ —â–µ –Ω–µ –æ–∑–Ω–∞–π–æ–º–ª—é–≤–∞–≤—Å—è**, –¥–æ–¥–∞—î–º–æ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å.

---

### üîπ **4. –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ "–û–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—å"**
–í `Interactive Report` –∞–±–æ `Grid` –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É `–û–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—å` –∑ –¥—ñ—î—é:

#### **JavaScript-–∫–æ–¥ –¥–ª—è –≤–∏–∫–ª–∏–∫—É PL/SQL-–ø—Ä–æ—Ü–µ–¥—É—Ä–∏**
```javascript
function markRecordAsRead(recordId) {
    apex.server.process("MARK_AS_READ", {
        x01: recordId
    }, {
        success: function() {
            location.reload(); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –ø—ñ—Å–ª—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è
        }
    });
}
```

#### **PL/SQL-–ø—Ä–æ—Ü–µ—Å "MARK_AS_READ"**
```sql
BEGIN
    mark_as_read(:APP_USER_ID, :APEX_APPLICATION.G_X01);
END;
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?**  
- –ù–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ –≤–∏–∫–ª–∏–∫–∞—î `markRecordAsRead(recordId)`.  
- –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è AJAX-–∑–∞–ø–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä.  
- PL/SQL –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –∑–∞–ø–∏—Å—É—î —Ñ–∞–∫—Ç –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è.

---

### üîπ **5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –ø–æ—è–≤—ñ –Ω–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤**
–©–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏–≤, —è–∫—ñ **–Ω–æ–≤—ñ –∑–∞–ø–∏—Å–∏** –∑'—è–≤–∏–ª–∏—Å—è, –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ —É –∑–≤—ñ—Ç –∫–æ–ª–æ–Ω–∫—É `–ù–æ–≤—ñ –∑–∞–ø–∏—Å–∏ –∑ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤—Ö–æ–¥—É`:

```sql
SELECT 
    mt.id, 
    mt.name, 
    CASE 
        WHEN urs.read_date IS NOT NULL THEN '‚úÖ –û–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π (' || TO_CHAR(urs.read_date, 'DD.MM.YYYY HH24:MI') || ')'
        ELSE '‚ùå –ù–µ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π'
    END AS status,
    CASE 
        WHEN mt.created_at > (SELECT MAX(read_date) FROM USER_READ_STATUS WHERE user_id = :APP_USER_ID) 
        THEN 'üî• –ù–æ–≤–∏–π –∑–∞–ø–∏—Å!'
        ELSE ''
    END AS new_record
FROM main_table mt
LEFT JOIN USER_READ_STATUS urs 
    ON mt.id = urs.record_id 
    AND urs.user_id = :APP_USER_ID
ORDER BY mt.id DESC;
```

üí° **–©–æ —Ü–µ –¥–∞—î?**  
- –Ø–∫—â–æ –∑'—è–≤–ª—è—î—Ç—å—Å—è –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è ‚Äì –¥–æ–¥–∞—î—Ç—å—Å—è –ø–æ–∑–Ω–∞—á–∫–∞ "üî• –ù–æ–≤–∏–π –∑–∞–ø–∏—Å!"

---

### üîπ **6. –û–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è –∑ —É—Å—ñ–º–∞ –∑–∞–ø–∏—Å–∞–º–∏**
–ú–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –∫–Ω–æ–ø–∫—É `–û–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—å –∑ —É—Å—ñ–º–∞`, —è–∫–∞ –≤–∏–∫–ª–∏—á–µ PL/SQL-–ø—Ä–æ—Ü–µ–¥—É—Ä—É:

```sql
CREATE OR REPLACE PROCEDURE mark_all_as_read (p_user_id NUMBER) AS
BEGIN
    INSERT INTO USER_READ_STATUS (user_id, record_id, read_date)
    SELECT p_user_id, id, SYSTIMESTAMP 
    FROM main_table
    WHERE id NOT IN (SELECT record_id FROM USER_READ_STATUS WHERE user_id = p_user_id);
END;
```

üîπ **–ö–Ω–æ–ø–∫–∞ –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ AJAX-–∑–∞–ø–∏—Ç –∑ JavaScript:**
```javascript
function markAllAsRead() {
    apex.server.process("MARK_ALL_AS_READ", {}, {
        success: function() {
            location.reload(); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        }
    });
}
```

üîπ **PL/SQL-–ø—Ä–æ—Ü–µ—Å –≤ APEX "MARK_ALL_AS_READ":**
```sql
BEGIN
    mark_all_as_read(:APP_USER_ID);
END;
```

---

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —É –∑–≤—ñ—Ç—ñ, –∑ —è–∫–∏–º–∏ –∑–∞–ø–∏—Å–∞–º–∏ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π** (–∑ –¥–∞—Ç–æ—é).
- **–Ø–∫—â–æ –∑'—è–≤–ª—è—é—Ç—å—Å—è –Ω–æ–≤—ñ –∑–∞–ø–∏—Å–∏ ‚Äì –≤–æ–Ω–∏ –ø—ñ–¥—Å–≤—ñ—á—É—é—Ç—å—Å—èüî•**.
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –æ–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—è –∑ –æ–¥–Ω–∏–º –∞–±–æ –≤—Å—ñ–º–∞ –∑–∞–ø–∏—Å–∞–º–∏ –æ–¥–Ω–∏–º –∫–ª—ñ–∫–æ–º**.
- **–ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω—É —ñ—Å—Ç–æ—Ä—ñ—é –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è**.

üîπ –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –¥–∞—î **–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –Ω–æ–≤–∏–º–∏ –∑–∞–ø–∏—Å–∞–º–∏ —Ç–∞ —ó—Ö –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è–º.  
–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —â–µ —è–∫—ñ—Å—å –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è ‚Äì –ø–∏—Ç–∞–π! üöÄ