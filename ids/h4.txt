## üîπ **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –º–æ–¥—É–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å —É APEX Oracle**
### **–ú–µ—Ç–∞:**  
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —â–æ–¥–Ω—è –æ–Ω–æ–≤–ª—é—é—Ç—å:  
‚úÖ **–°–ø–∏—Å–æ–∫ –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤** (–º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è)  
‚úÖ **–ö–µ—Ä—ñ–≤–Ω–∏–∫–∞ –±—Ä–∏–≥–∞–¥–∏** (–º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è)  
‚úÖ **–°—Ç–∞—Ç—É—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏**  

**üöÄ –û–Ω–æ–≤–ª–µ–Ω–Ω—è:**  
‚úÖ –î–æ–¥–∞—î–º–æ –∑–≤'—è–∑–æ–∫ –º—ñ–∂ –±—Ä–∏–≥–∞–¥–∞–º–∏ —Ç–∞ –≤–∏–∫–æ–Ω–∞–≤—Ü—è–º–∏  
‚úÖ –ö–æ–∂–µ–Ω –∫–µ—Ä—ñ–≤–Ω–∏–∫ –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—é –±—Ä–∏–≥–∞–¥—É  
‚úÖ –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —ñ—Å—Ç–æ—Ä—ñ—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è  

---

## üîπ **1. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**
–©–æ–± –∫–æ–∂–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –º–∞–ª–æ –æ–∫—Ä–µ–º—ñ –±—Ä–∏–≥–∞–¥–∏ –∑ –≤–∏–∫–æ–Ω–∞–≤—Ü—è–º–∏, –¥–æ–¥–∞—î–º–æ –Ω–æ–≤—ñ —Ç–∞–±–ª–∏—Ü—ñ.

---

### üìå **–¢–∞–±–ª–∏—Ü—è `TASK_TEAMS` (–ë—Ä–∏–≥–∞–¥–∏ —É –∑–∞–≤–¥–∞–Ω–Ω—ñ)**
–ó–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ **–∫–µ—Ä—ñ–≤–Ω–∏–∫—ñ–≤ –±—Ä–∏–≥–∞–¥** —Ç–∞ –∑–≤'—è–∑–æ–∫ —ñ–∑ –∑–∞–≤–¥–∞–Ω–Ω—è–º.
```sql
CREATE TABLE TASK_TEAMS (
    id NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    task_id NUMBER NOT NULL,  -- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–∞–≤–¥–∞–Ω–Ω—è
    team_leader VARCHAR2(100) NOT NULL,  -- –õ–æ–≥—ñ–Ω –±—Ä–∏–≥–∞–¥–∏—Ä–∞
    created_at TIMESTAMP DEFAULT SYSTIMESTAMP,  -- –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±—Ä–∏–≥–∞–¥–∏
    CONSTRAINT fk_task FOREIGN KEY (task_id) REFERENCES TASKS(id)
);
```

‚úÖ **–ö–æ–∂–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –º–æ–∂–µ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –±—Ä–∏–≥–∞–¥**  
‚úÖ **–ö–æ–∂–Ω–∞ –±—Ä–∏–≥–∞–¥–∞ –º–∞—î —Å–≤–æ–≥–æ –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞**  

---

### üìå **–¢–∞–±–ª–∏—Ü—è `TEAM_EXECUTORS` (–í–∏–∫–æ–Ω–∞–≤—Ü—ñ –≤ –±—Ä–∏–≥–∞–¥—ñ)**
–ó–±–µ—Ä—ñ–≥–∞—î –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤, —è–∫—ñ –Ω–∞–ª–µ–∂–∞—Ç—å –¥–æ –ø–µ–≤–Ω–æ—ó –±—Ä–∏–≥–∞–¥–∏.
```sql
CREATE TABLE TEAM_EXECUTORS (
    id NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    team_id NUMBER NOT NULL,  -- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±—Ä–∏–≥–∞–¥—É
    executor VARCHAR2(100) NOT NULL,  -- –õ–æ–≥—ñ–Ω –≤–∏–∫–æ–Ω–∞–≤—Ü—è
    assigned_at TIMESTAMP DEFAULT SYSTIMESTAMP,  -- –î–∞—Ç–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
    status VARCHAR2(50) DEFAULT 'ASSIGNED' CHECK (status IN ('ASSIGNED', 'IN_PROGRESS', 'DONE')),  -- –°—Ç–∞—Ç—É—Å
    comment CLOB NULL,  -- –ö–æ–º–µ–Ω—Ç–∞—Ä –≤–∏–∫–æ–Ω–∞–≤—Ü—è
    CONSTRAINT fk_team FOREIGN KEY (team_id) REFERENCES TASK_TEAMS(id)
);
```
‚úÖ **–ö–æ–∂–Ω–∞ –±—Ä–∏–≥–∞–¥–∞ –º–æ–∂–µ –º–∞—Ç–∏ —Å–≤–æ—ó—Ö –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤**  
‚úÖ **–°—Ç–∞—Ç—É—Å –≤–∏–∫–æ–Ω–∞–≤—Ü—è –∑–º—ñ–Ω—é—î—Ç—å—Å—è –æ–∫—Ä–µ–º–æ**  

---

### üìå **–¢–∞–±–ª–∏—Ü—è `TEAM_HISTORY` (–Ü—Å—Ç–æ—Ä—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —É –±—Ä–∏–≥–∞–¥—ñ)**
–ó–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–≤—Ü—è.
```sql
CREATE TABLE TEAM_HISTORY (
    id NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    team_executor_id NUMBER NOT NULL,  -- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∏–∫–æ–Ω–∞–≤—Ü—è
    action_date TIMESTAMP DEFAULT SYSTIMESTAMP,  -- –î–∞—Ç–∞ –∑–∞–ø–∏—Å—É
    status VARCHAR2(50) NOT NULL CHECK (status IN ('REVIEW', 'WORK_IN_PROGRESS', 'PAUSED', 'DONE')),  -- –°—Ç–∞—Ç—É—Å —Ä–æ–±–æ—Ç–∏
    comment CLOB NULL,  -- –û–ø–∏—Å –ø—Ä–æ–≥—Ä–µ—Å—É
    CONSTRAINT fk_executor FOREIGN KEY (team_executor_id) REFERENCES TEAM_EXECUTORS(id)
);
```
‚úÖ **–ö–æ–∂–µ–Ω –≤–∏–∫–æ–Ω–∞–≤–µ—Ü—å —â–æ–¥–Ω—è –∑–∞–ª–∏—à–∞—î –∑–∞–ø–∏—Å –ø—Ä–æ –≤–∏–∫–æ–Ω–∞–Ω—É —Ä–æ–±–æ—Ç—É**  

---

## üîπ **2. –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —É APEX**
### **üìå 1. –î–æ–¥–∞–≤–∞–Ω–Ω—è –±—Ä–∏–≥–∞–¥–∏ —Ç–∞ –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞**
1. –°—Ç–≤–æ—Ä—é—î–º–æ **—Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –±—Ä–∏–≥–∞–¥–∏** (APEX Form, —Ç–∞–±–ª–∏—Ü—è `TASK_TEAMS`).
2. –ü–æ–ª—è:
   - **–í–∏–±—ñ—Ä –∑–∞–≤–¥–∞–Ω–Ω—è** (LOV –∑ `TASKS`)
   - **–í–∏–±—ñ—Ä –±—Ä–∏–≥–∞–¥–∏—Ä–∞** (LOV –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
3. –ö–Ω–æ–ø–∫–∞ `–°—Ç–≤–æ—Ä–∏—Ç–∏ –±—Ä–∏–≥–∞–¥—É` –¥–æ–¥–∞—î –∑–∞–ø–∏—Å —É `TASK_TEAMS`.

---

### **üìå 2. –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤ –¥–æ –±—Ä–∏–≥–∞–¥–∏**
1. –°—Ç–≤–æ—Ä—é—î–º–æ **Interactive Grid** –Ω–∞ –æ—Å–Ω–æ–≤—ñ `TEAM_EXECUTORS`
2. –ü–æ–ª—è:
   - **–í–∏–±—ñ—Ä –±—Ä–∏–≥–∞–¥–∏** (LOV –∑ `TASK_TEAMS`)
   - **–í–∏–±—ñ—Ä –≤–∏–∫–æ–Ω–∞–≤—Ü—è** (LOV –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
   - **–°—Ç–∞—Ç—É—Å**
   - **–ö–æ–º–µ–Ω—Ç–∞—Ä**
3. –ö–Ω–æ–ø–∫–∞ `–î–æ–¥–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–≤—Ü—è` –¥–æ–¥–∞—î –∑–∞–ø–∏—Å —É `TEAM_EXECUTORS`.

---

### **üìå 3. –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó —Ä–æ–±–æ—Ç–∏**
–°—Ç–≤–æ—Ä—é—î–º–æ **Interactive Report** –Ω–∞ –æ—Å–Ω–æ–≤—ñ `TEAM_HISTORY`, –¥–µ:  
- –í–∏–∫–æ–Ω–∞–≤—Ü—ñ –±–∞—á–∞—Ç—å **—Å–≤–æ—é —ñ—Å—Ç–æ—Ä—ñ—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**  
- –ë—Ä–∏–≥–∞–¥–∏—Ä–∏ –±–∞—á–∞—Ç—å **–≤—Å—ñ –∑–∞–ø–∏—Å–∏ —Å–≤–æ—î—ó –±—Ä–∏–≥–∞–¥–∏**  
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å  

üìå **SQL-–∑–∞–ø–∏—Ç:**
```sql
SELECT h.id, 
       e.executor, 
       h.status, 
       h.comment, 
       h.action_date
FROM TEAM_HISTORY h
JOIN TEAM_EXECUTORS e ON h.team_executor_id = e.id
WHERE e.executor = :APP_USER OR EXISTS (
    SELECT 1 FROM TASK_TEAMS t WHERE t.team_leader = :APP_USER AND t.id = e.team_id
)
ORDER BY h.action_date DESC;
```
‚úÖ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –ª–∏—à–µ —Å–≤–æ—ó –∑–∞–ø–∏—Å–∏ –∞–±–æ –∑–∞–ø–∏—Å–∏ –±—Ä–∏–≥–∞–¥–∏**  

---

### **üìå 4. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –≤–∏–∫–æ–Ω–∞–≤—Ü—è (–ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ)**
–ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏ "–û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å" —É –≥—Ä—ñ–¥—ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ.

#### **HTML-–∫–æ–¥ –∫–Ω–æ–ø–∫–∏ –≤ –∫–æ–ª–æ–Ω—Ü—ñ IG**
```sql
SELECT id, executor, status,
       '<button class="update-status" data-id="' || id || '">
            <i class="fa fa-edit"></i> –û–Ω–æ–≤–∏—Ç–∏
        </button>' AS action_button
FROM TEAM_EXECUTORS
WHERE team_id = :P1_TEAM_ID;
```

#### **JavaScript –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞**
```javascript
$(".update-status").click(function () {
    var executorId = $(this).data("id");
    $("#modal-update-status").modal("show");
    $("#executor-id").val(executorId);
});
```

#### **–§–æ—Ä–º–∞ —É –º–æ–¥–∞–ª—å–Ω–æ–º—É –≤—ñ–∫–Ω—ñ**
- **–í–∏–±—ñ—Ä —Å—Ç–∞—Ç—É—Å—É** (Select List: `WORK_IN_PROGRESS`, `PAUSED`, `DONE`)  
- **–¢–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ –¥–ª—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è**  

#### **–ö–Ω–æ–ø–∫–∞ "–ó–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–∞—Ç—É—Å" –≤–∏–∫–ª–∏–∫–∞—î AJAX-–ø—Ä–æ—Ü–µ–¥—É—Ä—É**
```javascript
$("#save-status").click(function () {
    var executorId = $("#executor-id").val();
    var newStatus = $("#new-status").val();
    var comment = $("#comment").val();

    apex.server.process("UPDATE_TEAM_STATUS", {
        x01: executorId,
        x02: newStatus,
        x03: comment
    }, {
        success: function() {
            location.reload();
        }
    });
});
```

#### **PL/SQL-–ø—Ä–æ—Ü–µ—Å "UPDATE_TEAM_STATUS"**
```sql
BEGIN
    -- –î–æ–¥–∞—î–º–æ –∑–∞–ø–∏—Å –≤ —ñ—Å—Ç–æ—Ä—ñ—é
    INSERT INTO TEAM_HISTORY (team_executor_id, status, comment)
    VALUES (:APEX_APPLICATION.G_X01, :APEX_APPLICATION.G_X02, :APEX_APPLICATION.G_X03);

    -- –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç—É—Å –≤–∏–∫–æ–Ω–∞–≤—Ü—è
    UPDATE TEAM_EXECUTORS 
    SET status = :APEX_APPLICATION.G_X02
    WHERE id = :APEX_APPLICATION.G_X01;
END;
```

---

## **üîπ 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ —É "–ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è"**
–ó–∞–≤–¥–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É `DONE`, –∫–æ–ª–∏ –≤—Å—ñ –±—Ä–∏–≥–∞–¥–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∏ —Ä–æ–±–æ—Ç—É.

üìå **–¢—Ä–∏–≥–µ—Ä –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∑–∞–≤–¥–∞–Ω–Ω—è**
```sql
CREATE OR REPLACE TRIGGER trg_update_task_status
AFTER UPDATE ON TEAM_EXECUTORS
FOR EACH ROW
BEGIN
    IF :NEW.status = 'DONE' THEN
        UPDATE TASKS 
        SET status = 'DONE'
        WHERE id = (SELECT task_id FROM TASK_TEAMS WHERE id = :NEW.team_id)
        AND NOT EXISTS (
            SELECT 1 FROM TEAM_EXECUTORS 
            WHERE team_id = :NEW.team_id AND status != 'DONE'
        );
    END IF;
END;
```

---

## ‚úÖ **–í–∏—Å–Ω–æ–≤–æ–∫**
üîπ **–ö–æ–∂–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –º–æ–∂–µ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –±—Ä–∏–≥–∞–¥**  
üîπ **–ë—Ä–∏–≥–∞–¥–∏—Ä–∏ –∫–µ—Ä—É—é—Ç—å –≤–∏–∫–æ–Ω–∞–≤—Ü—è–º–∏ —É —Å–≤–æ—ó–π –±—Ä–∏–≥–∞–¥—ñ**  
üîπ **–©–æ–¥–Ω—è –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ –∑–∞–ª–∏—à–∞—é—Ç—å —ñ—Å—Ç–æ—Ä—ñ—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**  
üîπ **–Ø–∫—â–æ –≤—Å—ñ –±—Ä–∏–≥–∞–¥–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∏, –∑–∞–≤–¥–∞–Ω–Ω—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è**  

üöÄ **–¶—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Ç—Ä–æ–ª—é—î –ø—Ä–æ—Ü–µ—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏!**  
–Ø–∫—â–æ —î –ø–∏—Ç–∞–Ω–Ω—è ‚Äì –∑–∞–ø–∏—Ç—É–π—Ç–µ! üòÉ