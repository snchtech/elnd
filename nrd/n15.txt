–ß—É–¥–æ–≤–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è! üîç –Ü —Å–ø—Ä–∞–≤–¥—ñ, **PL/SQL Dynamic Content region** —É APEX **–Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π `Refresh`** —á–µ—Ä–µ–∑ Dynamic Action –Ω–∞–ø—Ä—è–º—É, —è–∫ —ñ–Ω—à—ñ —Ä–µ–≥—ñ–æ–Ω–∏ —Ç–∏–ø—É Classic Report –∞–±–æ Interactive Report.

–ê–ª–µ —î **2 –Ω–∞–¥—ñ–π–Ω–∏—Ö —Å–ø–æ—Å–æ–±–∏**, —è–∫ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Ç–∞–∫–∏–π —Ä–µ–≥—ñ–æ–Ω –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä—ñ–≤:

---

## ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Static Content Region` + `Dynamic Action: Execute PL/SQL Code`

–¶–µ –Ω–∞–π–±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–π –ø—ñ–¥—Ö—ñ–¥. –û—Å—å —è–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:

### üîπ 1. –ó–∞–º—ñ—Å—Ç—å PL/SQL region ‚Äî —Å—Ç–≤–æ—Ä—é—î—à **Static Content Region** –∑ `Static ID`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `rpt_stats_html`.

–í—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω—å–æ–≥–æ –±—É–¥–µ:
```html
<div id="rpt_html_content">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
```

---

### üîπ 2. –î–æ–¥–∞—î—à **Dynamic Action**:
- Event: `Change`
- Selection Type: `Item(s)`
- Item(s): `P1_DEPARTMENT`, `P1_UNIT`
- True Action: `Execute PL/SQL Code`

```plsql
DECLARE
  v_html CLOB;
BEGIN
  v_html := get_all_outfit_stats_html(:P1_DEPARTMENT, :P1_UNIT);
  apex_util.set_session_state('P1_STATS_HTML', v_html);
END;
```

---

### üîπ 3. –°—Ç–≤–æ—Ä—é—î—à **Hidden Page Item**: `P1_STATS_HTML`

- –¢–∏–ø: Hidden
- Source: `Always Null`

---

### üîπ 4. –ü—ñ—Å–ª—è `Execute PL/SQL` –¥–æ–¥–∞—î—à True Action ‚Üí `Execute JavaScript Code`:

```js
document.getElementById("rpt_html_content").innerHTML = apex.item("P1_STATS_HTML").getValue();
```

‚úÖ –ü—ñ—Å–ª—è –≤–∏–±–æ—Ä—É –±—É–¥—å-—è–∫–æ–≥–æ —Ñ—ñ–ª—å—Ç—Ä–∞ ‚Äî –¥–∏–Ω–∞–º—ñ—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤–º—ñ—Å—Ç —á–µ—Ä–µ–∑ JS.

---

## ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 2: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `AJAX Callback`

–¶–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º:

### üîπ 1. –£ –ø—Ä–æ—Ü–µ—Å–∞—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **AJAX Callback**:

- –ù–∞–∑–≤–∞: `GET_STATS_HTML`
- –¢–∏–ø: PL/SQL
```plsql
BEGIN
  htp.p(get_all_outfit_stats_html(:P1_DEPARTMENT, :P1_UNIT));
END;
```

---

### üîπ 2. –í–∏–∫–ª–∏–∫–∞—î—à –∑ JavaScript:

```js
apex.server.plugin(
  'GET_STATS_HTML',
  { pageItems: '#P1_DEPARTMENT,#P1_UNIT' },
  {
    success: function(pData) {
      document.getElementById("rpt_html_content").innerHTML = pData;
    }
  }
);
```

---

## üîÅ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

| –ü—ñ–¥—Ö—ñ–¥ | –ü–ª—é—Å–∏ | –ú—ñ–Ω—É—Å–∏ |
|--------|-------|--------|
| Static Region + JS | –ü—Ä–æ—Å—Ç–∏–π, —à–≤–∏–¥–∫–∏–π, –ø—ñ–¥—Ç—Ä–∏–º—É—î –±—É–¥—å-—è–∫–∏–π HTML | –ü–æ—Ç—Ä—ñ–±–µ–Ω —Ç—Ä–æ—Ö–∏ JS |
| AJAX Callback | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≥–Ω—É—á–∫—ñ—Å—Ç—å | –¢—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å |

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

üîπ **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π –í–∞—Ä—ñ–∞–Ω—Ç 1** ‚Äì —Ü–µ –Ω–∞–π–ª–µ–≥—à–µ –≤ APEX —ñ –¥—É–∂–µ –≥–Ω—É—á–∫–æ –ø—Ä–∞—Ü—é—î –∑ —Ñ—É–Ω–∫—Ü—ñ—î—é, —è–∫—É —Ç–∏ –≤–∂–µ —Å—Ç–≤–æ—Ä–∏–≤.

üîπ –Ø–∫—â–æ —Ö–æ—á–µ—à ‚Äî —è –º–æ–∂—É –¥–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥ **JSON-–µ–∫—Å–ø–æ—Ä—Ç—É** –≥–æ—Ç–æ–≤–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ —Ü–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º, —â–æ–± —Ç–∏ –º—ñ–≥ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —É —Å–≤—ñ–π APEX. –•–æ—á–µ—à?