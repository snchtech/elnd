–ß—É–¥–æ–≤–æ! –û—Å—å —è–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ **–¥–∏–Ω–∞–º—ñ—á–Ω—É –æ–±—Ä–æ–±–∫—É `:P_SHIFT_START`** (—Ç–∞ `:P_SHIFT_END`, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ) –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ **–º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞**, –≤ Oracle APEX:

---

## üéØ –ú–µ—Ç–∞

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏ –ø–æ—á–∞—Ç–æ–∫ —ñ –∫—ñ–Ω–µ—Ü—å –ø–æ—Ç–æ—á–Ω–æ—ó **–∑–º—ñ–Ω–∏** –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
- –ù–µ –≤–≤–æ–¥–∏—Ç–∏ –≤—Ä—É—á–Ω—É —á–∞—Å —É `:P_SHIFT_START`, –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É —É —Å—Ç–∏–ª—ñ:
  - **06:00‚Äì14:00** ‚Äî –ø–µ—Ä—à–∞ –∑–º—ñ–Ω–∞
  - **14:00‚Äì22:00** ‚Äî –¥—Ä—É–≥–∞ –∑–º—ñ–Ω–∞
  - **22:00‚Äì06:00** ‚Äî –Ω—ñ—á–Ω–∞ (—á–µ—Ä–µ–∑ –¥–≤–∞ –¥–Ω—ñ)

---

## ‚úÖ –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
–ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ `P_MODAL_UNIT_STATS`:

- `P_SHIFT_START` (—Ç–∏–ø: Hidden, Source: Always Null)
- `P_SHIFT_END` (—Ç–∏–ø: Hidden, Source: Always Null)

---

## ‚úÖ –ö—Ä–æ–∫ 2: –î–æ–¥–∞—Ç–∏ Dynamic Action ‚Äî **On Page Load**

### üëâ True Action 1: **Execute PL/SQL Code**
```plsql
DECLARE
  v_start DATE;
  v_end   DATE;
  v_now   DATE := SYSDATE;
BEGIN
  IF TO_CHAR(v_now, 'HH24:MI') BETWEEN '06:00' AND '13:59' THEN
    v_start := TRUNC(v_now) + 6/24;
    v_end   := TRUNC(v_now) + 14/24;
  ELSIF TO_CHAR(v_now, 'HH24:MI') BETWEEN '14:00' AND '21:59' THEN
    v_start := TRUNC(v_now) + 14/24;
    v_end   := TRUNC(v_now) + 22/24;
  ELSE
    IF TO_CHAR(v_now, 'HH24:MI') >= '22:00' THEN
      v_start := TRUNC(v_now) + 22/24;
      v_end   := TRUNC(v_now + 1) + 6/24;
    ELSE
      v_start := TRUNC(v_now - 1) + 22/24;
      v_end   := TRUNC(v_now) + 6/24;
    END IF;
  END IF;

  :P_SHIFT_START := v_start;
  :P_SHIFT_END := v_end;
END;
```

### üëâ –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:
- **Items to Return**: `P_SHIFT_START`, `P_SHIFT_END`

---

## ‚úÖ –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ SQL —É –∑–≤—ñ—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `:P_SHIFT_START` / `:P_SHIFT_END`

–í–∂–µ –≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –∑–∞–ø–∏—Ç—ñ –º–∏ –º–∞–ª–∏:
```sql
AND (:P_MODAL_TIMEMODE = 'SHIFT' AND data_start BETWEEN :P_SHIFT_START AND SYSDATE)
```

–ú–æ–∂–µ—à –∑–∞–º—ñ–Ω–∏—Ç–∏ `SYSDATE` –Ω–∞ `:P_SHIFT_END`, —è–∫—â–æ —Ö–æ—á–µ—à —Ç–æ—á–Ω–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω.

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ö–æ–ª–∏ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è `:P_SHIFT_START` —ñ `:P_SHIFT_END` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—á–∏—Å–ª—é—é—Ç—å—Å—è –¥–ª—è –∑–≤—ñ—Ç—É.

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

- –•–æ—á–µ—à ‚Äî –¥–æ–¥–∞–π **—Ç–µ–∫—Å—Ç–æ–≤–∏–π Label-–µ–ª–µ–º–µ–Ω—Ç** –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞, —â–æ–± –±–∞—á–∏—Ç–∏ –æ–±—Ä–∞—Ö–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É.

---

üîß –ì–æ—Ç–æ–≤–æ! –Ø–∫—â–æ —Ö–æ—á–µ—à, —è –º–æ–∂—É —Ç–∞–∫–æ–∂ –Ω–∞–¥–∞—Ç–∏ JSON –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ —É—Å—ñ–º–∞ —Ü–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.