–¢–∞–∫, –¥—É–∂–µ –≤–ª—É—á–Ω–µ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è: **–ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏**, —è–∫—ñ —Å–ø—Ä–∞–≤–¥—ñ –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å —É `outfit` –≤ –æ–¥–∏–Ω —ñ–∑ –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø—Ä–æ–º—ñ–∂–∫—ñ–≤ ‚Äî —Ü–µ –Ω–µ —Ç—ñ–ª—å–∫–∏ –∑—Ä—É—á–Ω–æ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –∞ –π –∑–∞–±–µ–∑–ø–µ—á—É—î **–ø—Ä–∞–≤–∏–ª—å–Ω—É —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –∑–≤—ñ—Ç—ñ–≤**. –û—Å—å –∫—ñ–ª—å–∫–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤, –∞ –ø–æ—Ç—ñ–º –¥–µ—Ç–∞–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ–≥–æ.

---

### ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥** ‚Äì SQL, —è–∫–∏–π –≤—Ä–∞—Ö–æ–≤—É—î —É—Å—ñ 3 —á–∞—Å–æ–≤—ñ –ø—Ä–æ–º—ñ–∂–∫–∏ (`NOW`, `DAY`, `SHIFT`) —Ç–∞ –æ–±'—î–¥–Ω—É—î —É–Ω—ñ–∫–∞–ª—å–Ω—ñ `department`

#### 1. **–û–ø–∏—Å –ª–æ–≥—ñ–∫–∏:**
- **NOW** ‚Äî `status_start_date < SYSDATE AND status_end_date IS NULL`
- **DAY** ‚Äî `status_start_date < SYSDATE AND (status_end_date IS NULL OR status_end_date >= TRUNC(SYSDATE))`
- **SHIFT** ‚Äî `status_start_date < SYSDATE AND (status_end_date IS NULL OR status_end_date >= :P_SHIFT_START)`

---

### üß© **SQL –¥–ª—è Checkbox Group LOV**

```sql
SELECT DISTINCT department AS display_value, department AS return_value
FROM (
  SELECT department FROM TEST_OUTFIT_DATA
  WHERE outfit_open = 6
    AND status_start_date < SYSDATE
    AND status_end_date IS NULL

  UNION

  SELECT department FROM TEST_OUTFIT_DATA
  WHERE outfit_open = 6
    AND status_start_date < SYSDATE
    AND (status_end_date IS NULL OR status_end_date >= TRUNC(SYSDATE))

  UNION

  SELECT department FROM TEST_OUTFIT_DATA
  WHERE outfit_open = 6
    AND status_start_date < SYSDATE
    AND (status_end_date IS NULL OR status_end_date >= :P_SHIFT_START)
)
WHERE department IS NOT NULL
ORDER BY department
```

---

### ‚úÖ **–ß–æ–º—É —Ü–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π:**
- –ü–æ–∫–∞–∑—É—î **–ª–∏—à–µ —Ç—ñ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏**, —è–∫—ñ –º–∞—é—Ç—å —Å—Ç–∞—Ç—É—Å 6 –≤ –æ–¥–Ω–æ–º—É –∑ 3 —á–∞—Å–æ–≤–∏—Ö –ø–µ—Ä—ñ–æ–¥—ñ–≤.
- –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–æ –ª–æ–≥—ñ–∫–∏ **—Ñ—É–Ω–∫—Ü—ñ—ó `get_unit_matrix_html`**, –¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç–µ–∂ —Ç—Ä–∏ –ø–µ—Ä—ñ–æ–¥–∏.
- –ß–∏—Å—Ç–æ SQL-–ø—ñ–¥—Ö—ñ–¥ ‚Äî –ª–µ–≥–∫–æ –≤–±—É–¥–æ–≤—É—î—Ç—å—Å—è –≤ APEX checkbox group.

---

### üìå **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ):**
| –í–∞—Ä—ñ–∞–Ω—Ç | –ù–µ–¥–æ–ª—ñ–∫ |
|--------|----------|
| –§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ —á–µ—Ä–µ–∑ JS | –î–∞–Ω—ñ –≤—Å–µ –æ–¥–Ω–æ –≤—Å—ñ –±—É–¥—É—Ç—å –≤ DOM |
| –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –≤—Å—ñ department —ñ –ø—ñ–¥–ø–∏—Å—É–≤–∞—Ç–∏ ‚Äú–Ω–µ–∞–∫—Ç–∏–≤–Ω—ñ‚Äù | –°—Ç–≤–æ—Ä—é—î –ø–ª—É—Ç–∞–Ω–∏–Ω—É |
| –ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ REST/JS —Ñ—É–Ω–∫—Ü—ñ—é –æ–∫—Ä–µ–º–æ | –°–∫–ª–∞–¥–Ω—ñ—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏, –Ω—ñ–∂ —á–∏—Å—Ç–∏–π SQL |

---

üîÅ **–í–∏—Å–Ω–æ–≤–æ–∫:**  
–†–µ–∫–æ–º–µ–Ω–¥—É—é –∑–∞–º—ñ–Ω–∏—Ç–∏ SQL –¥–∂–µ—Ä–µ–ª–æ –¥–ª—è `checkbox_group` –Ω–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏–π –≤–∏—â–µ –∫–æ–¥ ‚Äî –≤—ñ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–∞—à—ñ–π –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ—Ü—ñ, –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π, —ñ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —É–∑–≥–æ–¥–∂–µ–Ω–æ –∑ —ñ–Ω—à–∏–º–∏ —á–∞—Å—Ç–∏–Ω–∞–º–∏ –∑–≤—ñ—Ç—É.  

–Ø–∫—â–æ —Ç—Ä–µ–±–∞ ‚Äî –º–æ–∂–µ–º–æ —Ç–∞–∫–æ–∂ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –π–æ–≥–æ, —â–æ–±, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ–¥–∞–≤–∞—Ç–∏ `org_txt` –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–±–æ –≥—Ä—É–ø—É–≤–∞—Ç–∏ –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö.