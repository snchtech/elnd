–û—Å—å –æ–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `filterData`, —è–∫–∞ –≤—Ä–∞—Ö–æ–≤—É—î `PERMITION_ID` –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Ç–≤–æ—ó—Ö –≤–∏–º–æ–≥:

```javascript
function filterData(data, position, department, unit) {
  const uniqueSourceIDs = new Set();

  return data.filter(function (el) {
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å SOURCE_ID
    if (uniqueSourceIDs.has(el.SOURCE_ID)) {
      return false;
    }
    uniqueSourceIDs.add(el.SOURCE_ID);

    let matches = true;

    // –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ POSITION_ID, DEPARTMENT_ID, U_ID
    if (position !== null && position !== undefined) {
      matches = matches && el.POSITION_ID === position;
    }
    if (department !== null && department !== undefined) {
      matches = matches && el.DEPARTMENT_ID === department;
    }
    if (unit !== null && unit !== undefined) {
      matches = matches && el.U_ID === unit;
    }

    // –Ø–∫—â–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —É–º–æ–≤–∏ –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è, –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ PERMITION_ID
    if (!matches) {
      return false;
    }

    // –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ PERMITION_ID
    if ([545, 812].includes(el.POSITION_ID)) {
      // –Ø–∫—â–æ POSITION_ID = 545 –∞–±–æ 812 ‚Üí –∑–∞–ª–∏—à–∞—î–º–æ –ª–∏—à–µ —Ç—ñ, –¥–µ PERMITION_ID –º—ñ—Å—Ç–∏—Ç—å 2
      matches = el.PERMITION_ID.includes(2);
    } else {
      // –î–ª—è –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö POSITION_ID ‚Üí –∑–∞–ª–∏—à–∞—î–º–æ, —è–∫—â–æ PERMITION_ID –º—ñ—Å—Ç–∏—Ç—å 2 –∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è DEPARTMENT_ID
      matches = el.PERMITION_ID.includes(2) || (el.DEPARTMENT_ID !== null && el.PERMITION_ID.includes(el.DEPARTMENT_ID));
    }

    return matches;
  });
}

// –ü—Ä–∏–∫–ª–∞–¥ –¥–∞–Ω–∏—Ö
const dataTest = [
  { SOURCE_ID: 100, POSITION_ID: 545, DEPARTMENT_ID: 1100, U_ID: 1, PERMITION_ID: [2, 15] },
  { SOURCE_ID: 100, POSITION_ID: 654, DEPARTMENT_ID: 1100, U_ID: 1, PERMITION_ID: [2, 17] },
  { SOURCE_ID: 101, POSITION_ID: 545, DEPARTMENT_ID: null, U_ID: 2, PERMITION_ID: [2, 15] },
  { SOURCE_ID: 101, POSITION_ID: 812, DEPARTMENT_ID: null, U_ID: 2, PERMITION_ID: [2, 17] },
  { SOURCE_ID: 107, POSITION_ID: null, DEPARTMENT_ID: 1100, U_ID: null, PERMITION_ID: [2, 10] },
];

// –í–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó
const filteredData = filterData(dataTest, null, 1100, null);
console.log(filteredData);
```

---

### üîç **–û–ø–∏—Å –ª–æ–≥—ñ–∫–∏**
1. **–ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å `SOURCE_ID`**, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤.
2. **–§—ñ–ª—å—Ç—Ä—É—î–º–æ –ø–æ `POSITION_ID`, `DEPARTMENT_ID`, `U_ID`**, —è–∫—â–æ –≤–æ–Ω–∏ –ø–µ—Ä–µ–¥–∞–Ω—ñ.
3. **–§—ñ–ª—å—Ç—Ä—É—î–º–æ –ø–æ `PERMITION_ID`**:
   - –Ø–∫—â–æ `POSITION_ID` –¥–æ—Ä—ñ–≤–Ω—é—î **545 –∞–±–æ 812**, –∑–∞–ª–∏—à–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ —Ç—ñ, —É —è–∫–∏—Ö `PERMITION_ID` –º—ñ—Å—Ç–∏—Ç—å `2`.
   - –î–ª—è –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö `POSITION_ID` –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ `PERMITION_ID` –º—ñ—Å—Ç–∏—Ç—å **`2` –∞–±–æ `DEPARTMENT_ID`**.
4. –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω–∏–π –º–∞—Å–∏–≤.

---

### ‚úÖ **–ß–æ–º—É —Ü–µ–π –∫–æ–¥ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π?**
‚úî –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `Set()` –¥–ª—è —É—Å—É–Ω–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤.  
‚úî –ü–µ—Ä–µ–≤—ñ—Ä—è—î `PERMITION_ID` —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ç–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —è–∫—ñ –ø—Ä–æ–π—à–ª–∏ –ø–µ—Ä—à–∏–π —Ä—ñ–≤–µ–Ω—å —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó.  
‚úî –ì–Ω—É—á–∫–∞ –ª–æ–≥—ñ–∫–∞ ‚Äì –º–æ–∂–Ω–∞ –ª–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞.  

–¢–µ–ø–µ—Ä `filterData` –ø—Ä–∞—Ü—é—î —Ç–∞–∫, —è–∫ —Ç–æ–±—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ! üöÄ