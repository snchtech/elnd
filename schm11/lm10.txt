–ü–æ–º–∏–ª–∫–∞:

```
Type error: cannot destructure property 'login' of (0, _context_AuthContext_Webpack_imported_module_2__.useAuth) (...) as it is undefined.
```

### üìå **–ü—Ä–∏—á–∏–Ω–∞ –ø–æ–º–∏–ª–∫–∏:**
–¶—è –ø–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ —Ö—É–∫ `useAuth()` –ø–æ–≤–µ—Ä—Ç–∞—î **`undefined`**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ **`AuthProvider`** –Ω–µ –æ–±–≥–æ—Ä—Ç–∞—î –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **LoginPage**, —ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç **`AuthContext`** –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π.

### ‚úÖ **–†—ñ—à–µ–Ω–Ω—è:**

---

### 1Ô∏è‚É£ **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É –≤ `AuthProvider`**

–£ —Ñ–∞–π–ª—ñ **`_app.js`** (–∞–±–æ **`layout.js`** –¥–ª—è Next.js 13+), –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ —Ç–≤—ñ–π –¥–æ–¥–∞—Ç–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–∏–π —É **`AuthProvider`**:

#### **–î–ª—è Next.js 12:**
```javascript
// pages/_app.js
'use client';
import { AuthProvider } from '../context/AuthContext';

export default function MyApp({ Component, pageProps }) {
  return (
    <AuthProvider>
      <Component {...pageProps} />
    </AuthProvider>
  );
}
```

#### **–î–ª—è Next.js 13+ (App Router):**
```javascript
// app/layout.js
'use client';
import { AuthProvider } from '../context/AuthContext';

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>
        <AuthProvider>
          {children}
        </AuthProvider>
      </body>
    </html>
  );
}
```

---

### 2Ô∏è‚É£ **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —à–ª—è—Ö—É —ñ–º–ø–æ—Ä—Ç—É `AuthContext`**

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ —ñ–º–ø–æ—Ä—Ç **`useAuth`** —É **LoginPage** –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π.

```javascript
import { useAuth } from '../context/AuthContext'; 
```

üîé –Ø–∫—â–æ —Ñ–∞–π–ª **`AuthContext.js`** –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —ñ–Ω—à—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –≤–∏–ø—Ä–∞–≤ —à–ª—è—Ö –¥–æ –Ω—å–æ–≥–æ.

---

### 3Ô∏è‚É£ **–î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤ `useAuth`**

–î–æ–¥–∞–π –ø–µ—Ä–µ–≤—ñ—Ä–∫—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ:

```javascript
export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ AuthProvider');
  }
  return context;
};
```

---

### 4Ô∏è‚É£ **–û–Ω–æ–≤–ª–µ–Ω–∏–π `AuthProvider`**

–î–æ–¥–∞–π –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏:

```javascript
'use client';
import { createContext, useContext, useState, useEffect } from 'react';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);

  useEffect(() => {
    const storedUser = localStorage.getItem('user');
    if (storedUser) {
      setUser(JSON.parse(storedUser));
    }
  }, []);

  const login = (userData) => {
    setUser(userData);
    localStorage.setItem('user', JSON.stringify(userData));
  };

  const logout = () => {
    setUser(null);
    localStorage.removeItem('user');
  };

  return (
    <AuthContext.Provider value={{ user, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    console.error('‚ùó useAuth –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø–æ–∑–∞ AuthProvider');
  }
  return context;
};
```

---

### üèÜ **–©–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —è–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –∑–∞–ª–∏—à–∏–ª–∞—Å—å:**

1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —ñ–º–ø–æ—Ä—Ç** `useAuth` —É LoginPage.  
2. **`AuthProvider` –æ–±–≥–æ—Ä—Ç–∞—î** —É—Å—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤ `_app.js` –∞–±–æ `layout.js`.  
3. **–í–∏–¥–∞–ª–∏—Ç–∏ –∫–µ—à** Next.js:  
   ```
   npm run build
   npm run dev
   ```

üîé **–ü–µ—Ä–µ–≤—ñ—Ä –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ —â–µ —Ä–∞–∑.**