### ‚úÖ **üìå –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `customFetch` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É `departments`**

–û—Å—å —è–∫ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `customFetch` –¥–ª—è –∑–∞–ø–∏—Ç—É –¥–æ `/department` –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–º—É API.

---

### üîπ **üìå –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ Next.js API `/api/departments.js`**
```javascript
import { NextResponse } from "next/server";
import { POST } from "./getdata"; // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ customFetch –∑ getdata.js

export async function GET(req) {
  try {
    const response = await POST(new Request(req.url, {
      method: "POST",
      body: JSON.stringify({ url: "/department", options: { method: "GET" } }),
    }));

    return response;
  } catch (error) {
    console.error("Error fetching departments:", error);
    return NextResponse.json({ error: "Failed to fetch departments" }, { status: 500 });
  }
}
```

---

### üîπ **üìå –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ (React)**
```javascript
const fetchDepartments = async () => {
  try {
    const response = await fetch("/api/departments", {
      method: "GET",
      credentials: "include",
      headers: { "Content-Type": "application/json" },
    });

    if (!response.ok) throw new Error("Failed to fetch departments");

    const data = await response.json();
    console.log("Departments:", data);
  } catch (error) {
    console.error("Error:", error);
  }
};

// –í–∏–∫–ª–∏–∫–∞—î–º–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
useEffect(() => {
  fetchDepartments();
}, []);
```

---

### ‚úÖ **üìå –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?**
1. **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤–∏–∫–ª–∏–∫–∞—î `/api/departments`** ‚Üí —è–∫–∏–π –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ `customFetch`.
2. **`customFetch` –¥–æ–¥–∞—î `accessToken`** ‚Üí —ñ –≤–∏–∫–æ–Ω—É—î –∑–∞–ø–∏—Ç –¥–æ `REMOTE_API/department`.
3. **–Ø–∫—â–æ `accessToken` –Ω–µ–¥—ñ–π—Å–Ω–∏–π** ‚Üí –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è `refreshToken` —Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∏–π –∑–∞–ø–∏—Ç.
4. **–Ø–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ** ‚Üí –æ—Ç—Ä–∏–º–∞–Ω—ñ `departments` –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å.

üîπ **–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä —Ç–∏ –º–æ–∂–µ—à –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `customFetch` –¥–ª—è –±—É–¥—å-—è–∫–∏—Ö API-–∑–∞–ø–∏—Ç—ñ–≤! üöÄ**