### ‚úÖ **–û–Ω–æ–≤–ª–µ–Ω–∏–π `AuthContext.js` –∑ `jose` —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω–∏–º –æ—Ç—Ä–∏–º–∞–Ω–Ω—è–º `userDataEtls`**
–¢–æ–±—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ `userDataEtls` –∑ `HTTP-only cookies`**, –∞ —Ç–∞–∫–æ–∂ **–∑–º—ñ–Ω–∏—Ç–∏ `jsonwebtoken` –Ω–∞ `jose`** –¥–ª—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞.

---

## üîπ **üìå –û–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥ `AuthContext.js`**
```javascript
"use client";

import { createContext, useContext, useEffect, useState } from "react";
import { jwtVerify } from "jose";

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);

  useEffect(() => {
    const fetchUserData = async () => {
      try {
        // üîπ –í–∏–∫–ª–∏–∫–∞—î–º–æ API Next.js, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ `userDataEtls` —ñ–∑ cookies
        const res = await fetch("/api/auth/get-user", { credentials: "include" });

        if (!res.ok) {
          throw new Error("Failed to fetch user data");
        }

        const { userData } = await res.json();
        setUser(userData);
      } catch (error) {
        console.error("Error fetching user data:", error);
      }
    };

    fetchUserData();
  }, []);

  return <AuthContext.Provider value={{ user, setUser }}>{children}</AuthContext.Provider>;
};

export const useAuth = () => useContext(AuthContext);
```

---

## üîπ **üìå –°—Ç–≤–æ—Ä—é—î–º–æ `/api/auth/get-user.js`**
–û—Å–∫—ñ–ª—å–∫–∏ `document.cookie` **–Ω–µ –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º–∞—Ç–∏ `HttpOnly cookies`**, —Ç—Ä–µ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ Next.js API-–µ–Ω–¥–ø–æ—ó–Ω—Ç `/api/auth/get-user`, —è–∫–∏–π –±—É–¥–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ `userDataEtls` —ñ–∑ cookies —Ç–∞ –¥–µ–∫–æ–¥—É–≤–∞—Ç–∏ –π–æ–≥–æ.

```javascript
import { NextResponse } from "next/server";
import { cookies } from "next/headers";
import { jwtVerify } from "jose";

const ETLS_ACCESS = new TextEncoder().encode(process.env.ETLS_ACCESS);

export async function GET() {
  try {
    const cookieStore = cookies();
    const userDataEtls = cookieStore.get("userDataEtls")?.value;

    if (!userDataEtls) {
      return NextResponse.json({ error: "No user data available" }, { status: 401 });
    }

    // üîπ –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è `userDataEtls` —á–µ—Ä–µ–∑ `jose`
    const { payload } = await jwtVerify(userDataEtls, ETLS_ACCESS);

    return NextResponse.json({ userData: payload });
  } catch (error) {
    console.error("Error verifying userDataEtls:", error);
    return NextResponse.json({ error: "Invalid user data" }, { status: 401 });
  }
}
```

---

## ‚úÖ **üìå –©–æ –∑–º—ñ–Ω–µ–Ω–æ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ**
| ‚ùå –ë—É–ª–æ (–ü–æ–º–∏–ª–∫–∞) | ‚úÖ –°—Ç–∞–ª–æ (–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ) |
|------------------|------------------|
| –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ `jsonwebtoken` | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `jose` (`jwtVerify`) |
| `document.cookie` –Ω–µ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ `HttpOnly cookies` | –¢–µ–ø–µ—Ä –æ—Ç—Ä–∏–º—É—î–º–æ `userDataEtls` —á–µ—Ä–µ–∑ Next.js API |
| –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è `accessToken`, –∞ –Ω–µ `userDataEtls` | –¢–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `userDataEtls` |

---

## ‚úÖ **üìå –Ø–∫ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î `AuthContext.js`?**
1Ô∏è‚É£ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `AuthProvider` –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è**  
2Ô∏è‚É£ **Next.js API `/api/auth/get-user` –æ—Ç—Ä–∏–º—É—î `userDataEtls` —ñ–∑ cookies**  
3Ô∏è‚É£ **–î–µ–∫–æ–¥—É—î `userDataEtls` —á–µ—Ä–µ–∑ `jose`**  
4Ô∏è‚É£ **–ü–æ–≤–µ—Ä—Ç–∞—î `userData`, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É `AuthContext`**  
5Ô∏è‚É£ **–î–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ –≤ `useAuth()`**

---

## ‚úÖ **üìå –í–∏—Å–Ω–æ–≤–æ–∫**
‚úî **–¢–µ–ø–µ—Ä `AuthContext.js` –æ—Ç—Ä–∏–º—É—î `userDataEtls` –∫–æ—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ Next.js API.**  
‚úî **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `jose`, –∞ –Ω–µ `jsonwebtoken`.**  
‚úî **–ë—ñ–ª—å—à–µ –Ω–µ–º–∞—î –ø—Ä–æ–±–ª–µ–º —ñ–∑ `document.cookie` —ñ `HttpOnly cookies`.**  

üöÄ **–¢–µ–ø–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—î –±–µ–∑–ø–µ—á–Ω–æ —Ç–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–æ! üî•**