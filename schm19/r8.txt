### ‚úÖ **üìå –Ø–∫ –æ—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ —á–µ—Ä–µ–∑ `customFetch` –±—ñ–ª—å—à —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ?**

–û—Å–∫—ñ–ª—å–∫–∏ —Ç–∏ —Ö–æ—á–µ—à **–º–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤ —á–µ—Ä–µ–∑ `customFetch`**, –Ω–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ ‚Äî **–≤–∏–Ω–µ—Å—Ç–∏ API-–∑–∞–ø–∏—Ç–∏ —É –æ–∫—Ä–µ–º–∏–π –º–æ–¥—É–ª—å**. –¶–µ –ø–æ–∫—Ä–∞—â–∏—Ç—å **—á–∏—Å—Ç–æ—Ç—É –∫–æ–¥—É, –∑–º–µ–Ω—à–∏—Ç—å –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∞ —Å–ø—Ä–æ—Å—Ç–∏—Ç—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ø–∏—Ç–∞–º–∏**.

---

## üîπ **üìå 1. –°—Ç–≤–æ—Ä—é—î–º–æ –æ–∫—Ä–µ–º–∏–π API-–º–æ–¥—É–ª—å —É `utils/api.js`**
üìå **–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª `utils/api.js`**, –¥–µ –±—É–¥—É—Ç—å **—Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤**.

```javascript
export const fetchData = async (url, options = {}) => {
  try {
    const res = await fetch("/api/rest/customfetch", {
      method: "POST",
      credentials: "include",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ url, options }),
    });

    if (!res.ok) {
      throw new Error(`Failed to fetch ${url}`);
    }

    return await res.json();
  } catch (error) {
    console.error(`Error fetching ${url}:`, error);
    return [];
  }
};

// üîπ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ñ–≤
export const fetchDepartments = async () => {
  return fetchData("/departments", { method: "GET" });
};

// üîπ –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤ (unit)
export const fetchUnits = async () => {
  return fetchData("/units", { method: "GET" });
};

// üîπ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
export const fetchUsers = async () => {
  return fetchData("/users", { method: "GET" });
};
```

‚úî **–§—É–Ω–∫—Ü—ñ—è `fetchData()` —î —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ—é —Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–æ—é –¥–ª—è –±—É–¥—å-—è–∫–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤.**  
‚úî **–û–∫—Ä–µ–º—ñ —Ñ—É–Ω–∫—Ü—ñ—ó `fetchDepartments`, `fetchUnits`, `fetchUsers` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `fetchData()` –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤.**  
‚úî **–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ `POST`, `PUT` –∞–±–æ `DELETE`, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–π `body` —É `options`.**  

---

## üîπ **üìå 2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `fetchDepartments` —É `DepartmentsPage.js`**
üìå **–¢–µ–ø–µ—Ä —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ –∫–æ–¥ —Å—Ç–∞—î —á–∏—Å—Ç—ñ—à–∏–º —Ç–∞ –∑—Ä–æ–∑—É–º—ñ–ª—ñ—à–∏–º.**

```javascript
import { useEffect, useState } from "react";
import { fetchDepartments } from "@/utils/api";

export default function DepartmentsPage() {
  const [departments, setDepartments] = useState([]);

  useEffect(() => {
    fetchDepartments().then(setDepartments);
  }, []);

  return (
    <div>
      <h1>Departments</h1>
      <ul>
        {departments.map((dep) => (
          <li key={dep.id}>{dep.name}</li>
        ))}
      </ul>
    </div>
  );
}
```

‚úî **–ö–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—Ç–∞–≤ –∑–Ω–∞—á–Ω–æ —á–∏—Å—Ç—ñ—à–∏–º!**  
‚úî **–ú–∏ –ª–µ–≥–∫–æ –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ —ñ–Ω—à—ñ –∑–∞–ø–∏—Ç–∏ (`fetchUnits`, `fetchUsers`) –±–µ–∑ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É.**  

---

## üîπ **üìå 3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `fetchUnits` —É `UnitsPage.js`**
üìå **–¢–µ–ø–µ—Ä –º–∏ –º–æ–∂–µ–º–æ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `fetchUnits()`.**

```javascript
import { useEffect, useState } from "react";
import { fetchUnits } from "@/utils/api";

export default function UnitsPage() {
  const [units, setUnits] = useState([]);

  useEffect(() => {
    fetchUnits().then(setUnits);
  }, []);

  return (
    <div>
      <h1>Units</h1>
      <ul>
        {units.map((unit) => (
          <li key={unit.id}>{unit.name}</li>
        ))}
      </ul>
    </div>
  );
}
```

‚úî **–õ–æ–≥—ñ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–∞–π–∂–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∞, –∞–ª–µ —Ç–µ–ø–µ—Ä –¥–ª—è `units`.**  
‚úî **–ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–¥ –¥–ª—è `fetch()`, –º–∏ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞—î–º–æ `fetchUnits()`.**  

---

## ‚úÖ **üìå –ü—ñ–¥—Å—É–º–æ–∫**
| **–©–æ –∑—Ä–æ–±–ª–µ–Ω–æ?** | **–†–µ–∑—É–ª—å—Ç–∞—Ç** |
|------------------|--------------|
| **–í–∏–Ω–µ—Å–ª–∏ –ª–æ–≥—ñ–∫—É API —É `utils/api.js`** | –ö–æ–¥ —Å—Ç–∞–≤ —á–∏—Å—Ç—ñ—à–∏–º, –Ω–µ–º–∞—î –¥—É–±–ª—é–≤–∞–Ω—å |
| **–°—Ç–≤–æ—Ä–∏–ª–∏ `fetchData()` —è–∫ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é** | –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ |
| **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ API-–∑–∞–ø–∏—Ç–∏ —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö (`fetchDepartments`, `fetchUnits`)** | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å—Ç–∞–ª–∏ –∑—Ä–æ–∑—É–º—ñ–ª—ñ—à–∏–º–∏ —Ç–∞ –ª–µ–≥—à–∏–º–∏ –¥–ª—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è |

üöÄ **–¢–µ–ø–µ—Ä —Ç–∏ –º–æ–∂–µ—à –ª–µ–≥–∫–æ –∫–µ—Ä—É–≤–∞—Ç–∏ API-–∑–∞–ø–∏—Ç–∞–º–∏ –±–µ–∑ –∑–∞–π–≤–æ–≥–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è! üî•**