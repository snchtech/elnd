–ü–æ—á–Ω–µ–º–æ —Ä–æ–∑—Ä–æ–±–∫—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏ `/albums` –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º Material-UI, Next.js —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `mode`.

### **–ï—Ç–∞–ø–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:**
1. **–î–æ–¥–∞–≤–∞–Ω–Ω—è API-–∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö**  
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥–¥—ñ–ª—ñ–≤ (`departments`)
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤ (`units`)
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–ª—å–±–æ–º—ñ–≤ (`albums`)
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ö–µ–º (`schemes`)
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—ñ–≤ (`ALBUM_STATUS`)
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω

2. **–†–æ–∑—Ä–æ–±–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ `/albums`**  
   - **–õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å (–¥–µ—Ä–µ–≤–æ–≤–∏–¥–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è)**  
   - **–û—Å–Ω–æ–≤–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏**  
     - –ë–ª–æ–∫ –ø–æ—à—É–∫—É  
     - –§—ñ–ª—å—Ç—Ä–∏  
     - –¢–∞–±–ª–∏—Ü—è –∞–ª—å–±–æ–º—ñ–≤ (–∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é)  
     - –ë–ª–æ–∫ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω  

---

## **1. –î–æ–¥–∞–≤–∞–Ω–Ω—è API-–∑–∞–ø–∏—Ç—ñ–≤ (`utils/api.js`)**

–î–æ–¥–∞–º–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ `utils/api.js`:

```javascript
// –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –≤—ñ–¥–¥—ñ–ª—ñ–≤
export const fetchDepartments = async () => {
  return fetchData("/departments", { method: "GET" });
};

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤ (unit)
export const fetchUnits = async () => {
  return fetchData("/units", { method: "GET" });
};

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –∞–ª—å–±–æ–º—ñ–≤
export const fetchAlbums = async () => {
  return fetchData("/albums", { method: "GET" });
};

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É —Å—Ö–µ–º
export const fetchSchemes = async () => {
  return fetchData("/schemes", { method: "GET" });
};

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—ñ–≤ –∞–ª—å–±–æ–º—ñ–≤
export const fetchAlbumStatuses = async () => {
  return fetchData("/album_statuses", { method: "GET" });
};

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 5 –∑–º—ñ–Ω –≤ –∞–ª—å–±–æ–º–∞—Ö
export const fetchRecentChanges = async () => {
  return fetchData("/recent_changes", { method: "GET" });
};
```

---

## **2. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ `/albums`**

–°—Ç–≤–æ—Ä—é—î–º–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É `/albums.tsx` –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º Material-UI.

```javascript
import { useEffect, useState } from "react";
import { useRouter } from "next/router";
import { fetchDepartments, fetchUnits, fetchAlbums, fetchSchemes, fetchAlbumStatuses, fetchRecentChanges } from "@/utils/api";
import { Container, Grid, Button, TextField, MenuItem, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, IconButton } from "@mui/material";
import { Add, Print, Visibility, Edit, Delete, Description } from "@mui/icons-material";

export default function AlbumsPage() {
  const router = useRouter();
  const { mode } = router.query; // –û—Ç—Ä–∏–º—É—î–º–æ mode –∑ URL
  const [departments, setDepartments] = useState([]);
  const [units, setUnits] = useState([]);
  const [albums, setAlbums] = useState([]);
  const [schemes, setSchemes] = useState([]);
  const [statuses, setStatuses] = useState([]);
  const [recentChanges, setRecentChanges] = useState([]);

  useEffect(() => {
    async function loadData() {
      setDepartments(await fetchDepartments());
      setUnits(await fetchUnits());
      setAlbums(await fetchAlbums());
      setSchemes(await fetchSchemes());
      setStatuses(await fetchAlbumStatuses());
      setRecentChanges(await fetchRecentChanges());
    }
    loadData();
  }, []);

  return (
    <Container maxWidth="xl">
      <Grid container spacing={3}>
        
        {/* –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å (–¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó) */}
        <Grid item xs={3}>
          <Paper style={{ padding: 16 }}>
            <h3>–ù–∞–≤—ñ–≥–∞—Ü—ñ—è</h3>
            {/* –¢—É—Ç –±—É–¥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞ (TreeView) */}
          </Paper>
        </Grid>

        {/* –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
        <Grid item xs={9}>
          
          {/* –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å */}
          <Grid container spacing={2} alignItems="center">
            <Grid item xs={8}>
              <TextField label="–ü–æ—à—É–∫" variant="outlined" fullWidth />
            </Grid>
            {mode === "editor" && (
              <Grid item xs={4} style={{ textAlign: "right" }}>
                <Button variant="contained" color="success" startIcon={<Add />}>
                  –ù–æ–≤–∏–π –∞–ª—å–±–æ–º
                </Button>
              </Grid>
            )}
          </Grid>

          {/* –§—ñ–ª—å—Ç—Ä–∏ */}
          <Grid container spacing={2} style={{ marginTop: 16 }}>
            <Grid item xs={6}>
              <TextField select label="–í—ñ–¥–¥—ñ–ª" fullWidth>
                {departments.map((dep) => (
                  <MenuItem key={dep.id} value={dep.id}>{dep.name}</MenuItem>
                ))}
              </TextField>
            </Grid>
            <Grid item xs={6}>
              <TextField select label="–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª" fullWidth>
                {units.map((unit) => (
                  <MenuItem key={unit.id} value={unit.id}>{unit.name}</MenuItem>
                ))}
              </TextField>
            </Grid>
          </Grid>

          {/* –¢–∞–±–ª–∏—Ü—è –∞–ª—å–±–æ–º—ñ–≤ */}
          <TableContainer component={Paper} style={{ marginTop: 16 }}>
            <Table>
              <TableHead>
                <TableRow>
                  <TableCell>ID</TableCell>
                  <TableCell>–í—ñ–¥–¥—ñ–ª</TableCell>
                  <TableCell>Unit</TableCell>
                  <TableCell>–ù–∞–∑–≤–∞</TableCell>
                  <TableCell>–û–ø–∏—Å</TableCell>
                  <TableCell>–î–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è</TableCell>
                  <TableCell>–°—Ç–∞—Ç—É—Å</TableCell>
                  <TableCell>–î—ñ—ó</TableCell>
                </TableRow>
              </TableHead>
              <TableBody>
                {albums.map((album) => (
                  <TableRow key={album.id}>
                    <TableCell>{album.id}</TableCell>
                    <TableCell>{album.department_name}</TableCell>
                    <TableCell>{album.unit_name}</TableCell>
                    <TableCell>{album.name}</TableCell>
                    <TableCell>{album.description}</TableCell>
                    <TableCell>{album.date_update || album.date_create}</TableCell>
                    <TableCell>{statuses.find((s) => s.id === album.status_id)?.name}</TableCell>
                    <TableCell>
                      <IconButton color="primary"><Print /></IconButton>
                      <IconButton color="secondary"><Description /></IconButton>
                      {mode === "viewer" && <IconButton color="info"><Visibility /></IconButton>}
                      {mode === "editor" && <>
                        <IconButton color="warning"><Edit /></IconButton>
                        <IconButton color="error"><Delete /></IconButton>
                      </>}
                    </TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </TableContainer>

          {/* –ë–ª–æ–∫ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω */}
          <Paper style={{ marginTop: 16, padding: 16 }}>
            <h3>–û—Å—Ç–∞–Ω–Ω—ñ 5 –∑–º—ñ–Ω</h3>
            <TableContainer>
              <Table>
                <TableHead>
                  <TableRow>
                    <TableCell>–î–∞—Ç–∞</TableCell>
                    <TableCell>ID</TableCell>
                    <TableCell>–í—ñ–¥–¥—ñ–ª</TableCell>
                    <TableCell>Unit</TableCell>
                    <TableCell>–ù–∞–∑–≤–∞</TableCell>
                    <TableCell>–ó–º—ñ–Ω–∏ –≤–∏–∫–æ–Ω–∞–≤</TableCell>
                  </TableRow>
                </TableHead>
                <TableBody>
                  {recentChanges.map((change) => (
                    <TableRow key={change.id}>
                      <TableCell>{change.date}</TableCell>
                      <TableCell>{change.album_id}</TableCell>
                      <TableCell>{change.department_name}</TableCell>
                      <TableCell>{change.unit_name}</TableCell>
                      <TableCell>{change.name}</TableCell>
                      <TableCell>{change.editor_name}</TableCell>
                    </TableRow>
                  ))}
                </TableBody>
              </Table>
            </TableContainer>
          </Paper>

        </Grid>
      </Grid>
    </Container>
  );
}
```

–¶–µ –±–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –î–∞–ª—ñ –º–æ–∂–µ–º–æ –¥–µ—Ç–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ—à—É–∫, –¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó —Ç–∞ —ñ–Ω—à—ñ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ. üöÄ