### **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –ø–µ—Ä–µ–≥–ª—è–¥—É —Å—Ö–µ–º –∞–ª—å–±–æ–º—É (`/albums/[albumId]`)**  

–û—Å—å —è–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É —É Next.js, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ **Material-UI**.  

---

### **üìå 1. –í–∏–Ω–µ—Å–µ–º–æ –¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –≤ –æ–∫—Ä–µ–º–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
–û—Å–∫—ñ–ª—å–∫–∏ **–¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ `/albums`, —Ç–∞–∫ —ñ –Ω–∞ `/albums/[albumId]`, –º–∞—î —Å–µ–Ω—Å –∑—Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ **—Å–ø—ñ–ª—å–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º**.

#### **–°—Ç–≤–æ—Ä–∏–º–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `NavigationTree.js`** (`components/NavigationTree.js`)
```javascript
import { useEffect, useState } from "react";
import { TreeView, TreeItem } from "@mui/lab";
import { ExpandMore, ChevronRight } from "@mui/icons-material";
import { fetchDepartments, fetchAlbums, fetchSchemes } from "@/utils/api";

export default function NavigationTree({ selectedAlbumId }) {
  const [departments, setDepartments] = useState([]);
  const [albums, setAlbums] = useState([]);
  const [schemes, setSchemes] = useState([]);
  const [expanded, setExpanded] = useState([]);

  useEffect(() => {
    async function loadData() {
      setDepartments(await fetchDepartments());
      setAlbums(await fetchAlbums());
      setSchemes(await fetchSchemes());
    }
    loadData();
  }, []);

  const buildTree = () => {
    return departments.map((department) => {
      const departmentAlbums = albums.filter(album => album.department_id === department.id);

      return (
        <TreeItem key={department.id} nodeId={`dep-${department.id}`} label={department.name}>
          {departmentAlbums.map(album => {
            const albumSchemes = schemes.filter(scheme => scheme.album_id === album.id);

            return (
              <TreeItem 
                key={album.id} 
                nodeId={`album-${album.id}`} 
                label={album.name} 
                onClick={() => window.location.href = `/albums/${album.id}`} // –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∞–ª—å–±–æ–º—É
              >
                {albumSchemes.map(scheme => (
                  <TreeItem key={scheme.id} nodeId={`scheme-${scheme.id}`} label={scheme.name} />
                ))}
              </TreeItem>
            );
          })}
        </TreeItem>
      );
    });
  };

  return (
    <TreeView
      defaultCollapseIcon={<ExpandMore />}
      defaultExpandIcon={<ChevronRight />}
      expanded={expanded}
      onNodeToggle={(event, nodeIds) => setExpanded(nodeIds)}
    >
      {buildTree()}
    </TreeView>
  );
}
```

---

### **üìå 2. –í–∏–Ω–µ—Å–µ–º–æ –ø–æ—à—É–∫ –≤ –æ–∫—Ä–µ–º–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
–û—Å–∫—ñ–ª—å–∫–∏ –ø–æ—à—É–∫ —î —ñ –Ω–∞ `/albums`, —ñ –Ω–∞ `/albums/[albumId]`, –π–æ–≥–æ —Ç–∞–∫–æ–∂ –≤–∞—Ä—Ç–æ –≤–∏–Ω–µ—Å—Ç–∏ –≤ **–∫–æ–º–ø–æ–Ω–µ–Ω—Ç**.

#### **–°—Ç–≤–æ—Ä–∏–º–æ `SearchBar.js`** (`components/SearchBar.js`)
```javascript
import { TextField } from "@mui/material";

export default function SearchBar({ placeholder, onSearch }) {
  return (
    <TextField 
      label={placeholder || "–ü–æ—à—É–∫"} 
      variant="outlined" 
      fullWidth 
      onChange={(e) => onSearch(e.target.value)}
    />
  );
}
```

---

### **üìå 3. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ `/albums/[albumId].js`**
#### **–°—Ç–≤–æ—Ä—é—î–º–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ `pages/albums/[albumId].js`**
```javascript
import { useRouter } from "next/router";
import { useEffect, useState } from "react";
import { Container, Grid, Paper, IconButton, Button } from "@mui/material";
import { ArrowBack, Add } from "@mui/icons-material";
import NavigationTree from "@/components/NavigationTree";
import SearchBar from "@/components/SearchBar";
import { fetchSchemes } from "@/utils/api";

export default function AlbumSchemesPage() {
  const router = useRouter();
  const { albumId } = router.query;
  const [schemes, setSchemes] = useState([]);

  useEffect(() => {
    if (albumId) {
      fetchSchemes().then(data => setSchemes(data.filter(scheme => scheme.album_id == albumId)));
    }
  }, [albumId]);

  return (
    <Container maxWidth="xl">
      <Grid container spacing={3}>
        
        {/* –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å (–¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó) */}
        <Grid item xs={3}>
          <Paper style={{ padding: 16 }}>
            <NavigationTree selectedAlbumId={albumId} />
          </Paper>
        </Grid>

        {/* –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
        <Grid item xs={9}>
          
          {/* –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å */}
          <Grid container spacing={2} alignItems="center">
            {/* –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ */}
            <Grid item xs={1}>
              <IconButton onClick={() => router.push("/albums")}>
                <ArrowBack />
              </IconButton>
            </Grid>

            {/* –ü–æ—à—É–∫ */}
            <Grid item xs={8}>
              <SearchBar placeholder="–ü–æ—à—É–∫ —Å—Ö–µ–º" onSearch={(query) => console.log(query)} />
            </Grid>

            {/* –ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ö–µ–º—É" */}
            <Grid item xs={3} style={{ textAlign: "right" }}>
              <Button variant="contained" color="success" startIcon={<Add />}>
                –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ö–µ–º—É
              </Button>
            </Grid>
          </Grid>

          {/* –¢—É—Ç –±—É–¥–µ —Å–ø–∏—Å–æ–∫ —Å—Ö–µ–º (–¥–æ–¥–∞–º–æ –ø—ñ–∑–Ω—ñ—à–µ) */}
          
        </Grid>
      </Grid>
    </Container>
  );
}
```

---

## **üìå –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ?**
‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `NavigationTree`** ‚Äì —Ç–µ–ø–µ—Ä –¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —ñ –≤ `/albums`, —ñ –≤ `/albums/[albumId]`.  
‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SearchBar`** ‚Äì —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫, —è–∫–∏–π –ª–µ–≥–∫–æ –º–æ–∂–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏ –Ω–∞ —Ä—ñ–∑–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏.  
‚úÖ **–°—Ç–æ—Ä—ñ–Ω–∫–∞ `/albums/[albumId]`**:  
   - **–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–∞ `/albums`**  
   - **–î–∏–Ω–∞–º—ñ—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ö–µ–º**  
   - **–ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ö–µ–º—É"**  
   - **–î–µ—Ä–µ–≤–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –º—ñ–∂ –∞–ª—å–±–æ–º–∞–º–∏**  

---

## **üìå –©–æ –¥–∞–ª—ñ?**
1. **–î–æ–¥–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—é –∑—ñ —Å—Ö–µ–º–∞–º–∏ –¥–ª—è –∞–ª—å–±–æ–º—É.**  
2. **–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∫–Ω–æ–ø–∫–∏ "–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ö–µ–º—É".**  

–ì–æ—Ç–æ–≤–∏–π —Ä—É—Ö–∞—Ç–∏—Å—å –¥–∞–ª—ñ! üöÄ