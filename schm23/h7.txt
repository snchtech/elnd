–¢–≤–æ—è —Ñ—É–Ω–∫—Ü—ñ—è `fetchData` –∑–∞—Ä–∞–∑ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö (`GET`-–∑–∞–ø–∏—Ç–∏), –∞–ª–µ –≤–æ–Ω–∞ —Ç–∞–∫–æ–∂ –º–æ–∂–µ –±—É—Ç–∏ –∞–¥–∞–ø—Ç–æ–≤–∞–Ω–∞ –¥–ª—è **–≤–∏–¥–∞–ª–µ–Ω–Ω—è (DELETE), –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (PUT/PATCH) —Ç–∞ –≤—Å—Ç–∞–≤–∫–∏ (POST) –¥–∞–Ω–∏—Ö**.  

### **üìå –ß–∏ –ø—ñ–¥—ñ–π–¥–µ `fetchData` –¥–ª—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π CRUD?**
–¢–∞–∫, —è–∫—â–æ –¥–æ–¥–∞—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É **–º–µ—Ç–æ–¥—ñ–≤ HTTP (POST, PUT, PATCH, DELETE)**, `fetchData` –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —ñ –¥–ª—è **–æ–Ω–æ–≤–ª–µ–Ω–Ω—è, –≤—Å—Ç–∞–≤–∫–∏ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è** –¥–∞–Ω–∏—Ö.

### **üìå –Ø–∫ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ `fetchData` –¥–ª—è –≤—Å—ñ—Ö CRUD-–æ–ø–µ—Ä–∞—Ü—ñ–π?**
–û–Ω–æ–≤–ª–µ–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç `fetchData`, —è–∫–∏–π –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—Å—ñ –º–µ—Ç–æ–¥–∏:

```javascript
export const fetchData = async (url, method = "GET", data = null) => {
  try {
    const options = {
      method,
      credentials: "include",
      headers: { "Content-Type": "application/json" },
    };

    if (data) {
      options.body = JSON.stringify(data);
    }

    const res = await fetch("/api/rest/customfetch", {
      method: "POST",
      credentials: "include",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ url, options }),
    });

    if (!res.ok) {
      throw new Error(`Failed to fetch ${url}`);
    }

    return await res.json();
  } catch (error) {
    console.error(`Error fetching ${url}:`, error);
    return { error: error.message };
  }
};
```

---

## **üìå –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `fetchData` –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π?**
### üîπ **1. –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö (GET)**
```javascript
const albums = await fetchData("/albums"); // GET-–∑–∞–ø–∏—Ç
```

### üîπ **2. –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (POST)**
```javascript
const newAlbum = {
  name: "–ù–æ–≤–∏–π –∞–ª—å–±–æ–º",
  depart_id: 1,
  unit_id: 2,
  description: "–¢–µ—Å—Ç–æ–≤–∏–π –∞–ª—å–±–æ–º",
  creator_id: 1
};

const response = await fetchData("/albums", "POST", newAlbum);
console.log(response);
```

### üîπ **3. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö –¥–∞–Ω–∏—Ö (PUT)**
```javascript
const updatedAlbum = {
  id: 5,
  name: "–û–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞–∑–≤–∞ –∞–ª—å–±–æ–º—É",
  description: "–û–Ω–æ–≤–ª–µ–Ω–∏–π –æ–ø–∏—Å",
};

const response = await fetchData(`/albums/${updatedAlbum.id}`, "PUT", updatedAlbum);
console.log(response);
```

### üîπ **4. –ß–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (PATCH)**
```javascript
const partialUpdate = { description: "–û–Ω–æ–≤–ª–µ–Ω–∏–π –æ–ø–∏—Å" };

const response = await fetchData("/albums/5", "PATCH", partialUpdate);
console.log(response);
```

### üîπ **5. –í–∏–¥–∞–ª–µ–Ω–Ω—è (DELETE)**
```javascript
const response = await fetchData("/albums/5", "DELETE");
console.log(response);
```

---

## **üìå –í–∏—Å–Ω–æ–≤–æ–∫**
–¢–≤–æ—è —Ñ—É–Ω–∫—Ü—ñ—è `fetchData` **–º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –≤—Å—ñ—Ö CRUD-–æ–ø–µ—Ä–∞—Ü—ñ–π**, —è–∫—â–æ –æ–Ω–æ–≤–∏—Ç–∏ —ó—ó —Ç–∞–∫, —è–∫ —è –ø–æ–∫–∞–∑–∞–≤ –≤–∏—â–µ.  
üîπ **–ü–µ—Ä–µ–≤–∞–≥–∏:** ‚úÖ **–Ñ–¥–∏–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥** –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –∑–∞–ø–∏—Ç—ñ–≤, ‚úÖ **–ú–µ–Ω—à–µ –¥—É–±–ª—ñ–∫–∞—Ü—ñ—ó –∫–æ–¥—É**.  
üîπ **–ù–µ–¥–æ–ª—ñ–∫–∏:** üî∏ –Ø–∫—â–æ —Å–µ—Ä–≤–µ—Ä–Ω—ñ API –∑–º—ñ–Ω—è—Ç—å—Å—è, –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ `fetchData`.  

–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ–±—Ä–µ –ø—Ä–∞—Ü—é—î, —è–∫—â–æ –≤—Å—ñ –∑–∞–ø–∏—Ç–∏ –π–¥—É—Ç—å —á–µ—Ä–µ–∑ `/api/rest/customfetch`. –Ø–∫—â–æ –±—É–¥–µ —Å–∫–ª–∞–¥–Ω–∞ –ª–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ Next.js API, –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –æ–∫—Ä–µ–º—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó (`createAlbum.js`, `deleteAlbum.js`, —Ç–æ—â–æ). üöÄ