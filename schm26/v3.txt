–û—Å—å **PL/SQL-–±–ª–æ–∫–∏** –¥–ª—è **—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∞–ª—å–±–æ–º—É —Ç–∞ —Å—Ö–µ–º–∏**, —è–∫—ñ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å –ø–µ—Ä—à—É –≤–µ—Ä—Å—ñ—é** (`version_number = 1`) —É `SCHEME_VERSION` –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–ø–∏—Å—É –≤ `ALBUM` –∞–±–æ `SCHEME`.

---

### **1Ô∏è‚É£ –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –∞–ª—å–±–æ–º—É + —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—à–æ—ó –≤–µ—Ä—Å—ñ—ó**
```sql
DECLARE v_album_id NUMBER;
DECLARE v_version_id NUMBER;
BEGIN
    -- –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –∞–ª—å–±–æ–º—É
    INSERT INTO ALBUM (name, depart_id, unit_id, description, status_id)
    VALUES (:new_name, :new_depart_id, :new_unit_id, :new_description, :new_status_id)
    RETURNING id INTO v_album_id;

    -- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—à–æ—ó –≤–µ—Ä—Å—ñ—ó –∞–ª—å–±–æ–º—É (version_number = 1, is_stable = 1)
    INSERT INTO SCHEME_VERSION (album_id, version_number, is_stable, is_archived, created_by, created_at)
    VALUES (v_album_id, 1, 1, 0, :created_by, SYSDATE)
    RETURNING id INTO v_version_id;
    
    COMMIT;
END;
/
```
‚úÖ **–©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥?**  
1. **–°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –∞–ª—å–±–æ–º** —É —Ç–∞–±–ª–∏—Ü—ñ `ALBUM`.  
2. **–û–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å—Ç–≤–æ—Ä—é—î –ø–µ—Ä—à—É –≤–µ—Ä—Å—ñ—é –∞–ª—å–±–æ–º—É** (`version_number = 1`, `is_stable = 1`).  
3. **–ó–±–µ—Ä—ñ–≥–∞—î –∞–≤—Ç–æ—Ä–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (`created_by`) —Ç–∞ –¥–∞—Ç—É (`created_at`).**  

---

### **2Ô∏è‚É£ –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–æ—ó —Å—Ö–µ–º–∏ + —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—à–æ—ó –≤–µ—Ä—Å—ñ—ó**
```sql
DECLARE v_scheme_id NUMBER;
DECLARE v_version_id NUMBER;
BEGIN
    -- –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–æ—ó —Å—Ö–µ–º–∏
    INSERT INTO SCHEME (name, album_id, depart_id, unit_id, description, format, system, shifr)
    VALUES (:new_name, :album_id, :new_depart_id, :new_unit_id, :new_description, :new_format, :new_system, :new_shifr)
    RETURNING id INTO v_scheme_id;

    -- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—à–æ—ó –≤–µ—Ä—Å—ñ—ó —Å—Ö–µ–º–∏ (version_number = 1, is_stable = 1)
    INSERT INTO SCHEME_VERSION (scheme_id, version_number, is_stable, is_archived, created_by, created_at)
    VALUES (v_scheme_id, 1, 1, 0, :created_by, SYSDATE)
    RETURNING id INTO v_version_id;
    
    COMMIT;
END;
/
```
‚úÖ **–©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥?**  
1. **–°—Ç–≤–æ—Ä—é—î –Ω–æ–≤—É —Å—Ö–µ–º—É** –≤ `SCHEME`.  
2. **–û–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å—Ç–≤–æ—Ä—é—î –ø–µ—Ä—à—É –≤–µ—Ä—Å—ñ—é —Å—Ö–µ–º–∏** (`version_number = 1`, `is_stable = 1`).  
3. **–§—ñ–∫—Å—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (`created_by`) —ñ –¥–∞—Ç—É (`created_at`).**  

---

### **üìå –í–∏—Å–Ω–æ–≤–æ–∫**
- ‚úÖ –ü—ñ–¥ —á–∞—Å **—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–ª—å–±–æ–º—É –∞–±–æ —Å—Ö–µ–º–∏** **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —ó—Ö–Ω—è –ø–µ—Ä—à–∞ –≤–µ—Ä—Å—ñ—è**.
- ‚úÖ –£ `SCHEME_VERSION` –∑‚Äô—è–≤–ª—è—î—Ç—å—Å—è –∑–∞–ø–∏—Å **–∑ –Ω–æ–º–µ—Ä–æ–º –≤–µ—Ä—Å—ñ—ó `1`** —ñ —Å—Ç–∞—Ç—É—Å–æ–º `is_stable = 1`.
- ‚úÖ **–î–∞–Ω—ñ –ø—Ä–æ –∞–≤—Ç–æ—Ä–∞ —Ç–∞ –¥–∞—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è**, —â–æ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω.

üöÄ **–¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –≤–µ—Ä—Å—ñ—ó —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–∞–º–∏ –∞–ª—å–±–æ–º—ñ–≤ —Ç–∞ —Å—Ö–µ–º –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è!**  
–Ø–∫—â–æ —î –ø–∏—Ç–∞–Ω–Ω—è —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ ‚Äî –ø–∏—Ç–∞–π! üòä