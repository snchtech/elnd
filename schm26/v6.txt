–û—Å—å –æ–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥ –¥–ª—è **–≤–∏–¥–∞–ª–µ–Ω–Ω—è –∞–ª—å–±–æ–º—É**, –≤–∫–ª—é—á–∞—é—á–∏:  
‚úÖ **API-–∑–∞–ø–∏—Ç –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∞–ª—å–±–æ–º—É**  
‚úÖ **–§—É–Ω–∫—Ü—ñ—é `handleDeleteClick`**  
‚úÖ **–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É–≤–∞–ª—å–Ω–µ –¥—ñ–∞–ª–æ–≥–æ–≤–µ –≤—ñ–∫–Ω–æ –ø–µ—Ä–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º**  

---

## **üìå 1. –û–Ω–æ–≤–ª–µ–Ω–Ω—è API-–∑–∞–ø–∏—Ç—É —É `api.js`**
–î–æ–¥–∞—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∞–ª—å–±–æ–º—É:
```javascript
export const deleteAlbum = async (id) => {
  const response = await fetch(`/api/albums/${id}`, {
    method: "DELETE",
  });

  if (!response.ok) {
    throw new Error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∞–ª—å–±–æ–º—É");
  }

  return response.json();
};
```
‚úÖ **–©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥?**  
- –í–∏–∫–æ–Ω—É—î `DELETE`-–∑–∞–ø–∏—Ç –¥–æ `/api/albums/{id}`.  
- –Ø–∫—â–æ —Å–µ—Ä–≤–µ—Ä –ø–æ–≤–µ—Ä–Ω–µ –ø–æ–º–∏–ª–∫—É, –≤–æ–Ω–∞ –±—É–¥–µ –æ–±—Ä–æ–±–ª–µ–Ω–∞.

---

## **üìå 2. –û–Ω–æ–≤–ª–µ–Ω–Ω—è `AlbumsPage.js` (–¥–æ–¥–∞—î–º–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è)**
–î–æ–¥–∞—î–º–æ —Å—Ç–∞–Ω –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è.

```javascript
import { useEffect, useState } from "react";
import { useRouter } from "next/router";
import { fetchAlbums, fetchAlbumStatuses, deleteAlbum } from "@/utils/api";
import { Container, Box, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, IconButton, Dialog, DialogTitle, DialogContent, DialogActions, Button } from "@mui/material";
import { Edit, Delete } from "@mui/icons-material";
import NewAlbumModal from "@/components/NewAlbumModal";

export default function AlbumsPage() {
  const router = useRouter();
  const { mode } = router.query;
  const [albums, setAlbums] = useState([]);
  const [statuses, setStatuses] = useState([]);
  const [selectedAlbum, setSelectedAlbum] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [albumToDelete, setAlbumToDelete] = useState(null);

  useEffect(() => {
    async function loadData() {
      setAlbums(await fetchAlbums());
      setStatuses(await fetchAlbumStatuses());
    }
    loadData();
  }, []);

  const handleEditClick = (album) => {
    setSelectedAlbum(album);
    setIsModalOpen(true);
  };

  const handleDeleteClick = (album) => {
    setAlbumToDelete(album);
    setIsDeleteDialogOpen(true);
  };

  const confirmDelete = async () => {
    try {
      await deleteAlbum(albumToDelete.id);
      setAlbums(albums.filter((a) => a.id !== albumToDelete.id)); // –í–∏–¥–∞–ª—è—î–º–æ –∞–ª—å–±–æ–º –∑—ñ —Å–ø–∏—Å–∫—É
    } catch (error) {
      console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ:", error);
    } finally {
      setIsDeleteDialogOpen(false);
      setAlbumToDelete(null);
    }
  };

  return (
    <Container maxWidth="xl">
      <Box>
        <TableContainer component={Paper}>
          <Table>
            <TableHead>
              <TableRow>
                <TableCell>ID</TableCell>
                <TableCell>–ù–∞–∑–≤–∞</TableCell>
                <TableCell>–û–ø–∏—Å</TableCell>
                <TableCell>–î–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è</TableCell>
                <TableCell>–°—Ç–∞—Ç—É—Å</TableCell>
                <TableCell>–î—ñ—ó</TableCell>
              </TableRow>
            </TableHead>
            <TableBody>
              {albums.map((album) => (
                <TableRow key={album.id}>
                  <TableCell>{album.id}</TableCell>
                  <TableCell>{album.name}</TableCell>
                  <TableCell>{album.description}</TableCell>
                  <TableCell>{album.date_update || album.date_create}</TableCell>
                  <TableCell>{statuses.find((s) => s.id === album.status_id)?.name}</TableCell>
                  <TableCell>
                    <IconButton color="warning" onClick={() => handleEditClick(album)}>
                      <Edit />
                    </IconButton>
                    <IconButton color="error" onClick={() => handleDeleteClick(album)}>
                      <Delete />
                    </IconButton>
                  </TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </TableContainer>
      </Box>

      {/* –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∞–ª—å–±–æ–º—É */}
      <NewAlbumModal
        open={isModalOpen}
        onClose={() => setIsModalOpen(false)}
        onAlbumCreated={() => setAlbums([...albums])}
        album={selectedAlbum}
      />

      {/* –î—ñ–∞–ª–æ–≥–æ–≤–µ –≤—ñ–∫–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è */}
      <Dialog open={isDeleteDialogOpen} onClose={() => setIsDeleteDialogOpen(false)}>
        <DialogTitle>–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è</DialogTitle>
        <DialogContent>–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –∞–ª—å–±–æ–º "{albumToDelete?.name}"?</DialogContent>
        <DialogActions>
          <Button onClick={() => setIsDeleteDialogOpen(false)} color="secondary">–°–∫–∞—Å—É–≤–∞—Ç–∏</Button>
          <Button onClick={confirmDelete} color="error" variant="contained">–í–∏–¥–∞–ª–∏—Ç–∏</Button>
        </DialogActions>
      </Dialog>
    </Container>
  );
}
```

---

## **üìå 3. –û–Ω–æ–≤–ª–µ–Ω–Ω—è `pages/api/albums/[id].js` (—Å–µ—Ä–≤–µ—Ä–Ω–∞ –æ–±—Ä–æ–±–∫–∞ DELETE-–∑–∞–ø–∏—Ç—É)**
```javascript
export default async function handler(req, res) {
  const { id } = req.query;

  if (req.method === "DELETE") {
    try {
      const response = await fetch(`https://external-api.com/albums/${id}`, { method: "DELETE" });

      if (!response.ok) {
        return res.status(response.status).json({ error: "–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∞–ª—å–±–æ–º—É" });
      }

      return res.status(200).json({ message: "–ê–ª—å–±–æ–º —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–∏–π" });
    } catch (error) {
      return res.status(500).json({ error: "–í–Ω—É—Ç—Ä—ñ—à–Ω—è –ø–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞" });
    }
  }

  return res.status(405).json({ error: "–ú–µ—Ç–æ–¥ –Ω–µ –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π" });
}
```

---

## **‚úÖ –©–æ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î?**
üîπ **–ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏ Delete** –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è.  
üîπ **–ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è** –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è `DELETE`-–∑–∞–ø–∏—Ç.  
üîπ **–Ø–∫—â–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–µ**, –∞–ª—å–±–æ–º **–≤–∏–¥–∞–ª—è—î—Ç—å—Å—è –∑ UI –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**.  
üîπ **API Next.js** –ø–µ—Ä–µ—Å–∏–ª–∞—î `DELETE`-–∑–∞–ø–∏—Ç –¥–æ **—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–≥–æ API**.

üöÄ **–¢–µ–ø–µ—Ä —Ç–∏ –º–æ–∂–µ—à —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ –∞–ª—å–±–æ–º–∏ –ø—Ä—è–º–æ –∑ —Ç–∞–±–ª–∏—Ü—ñ!**  
–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —â–æ—Å—å –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ ‚Äì –ø–∏—Ç–∞–π! üòä