–û—Å—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ `/albums/[albumId]` —É Next.js, —è–∫–∞ –∑–±–∏—Ä–∞—î –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

- **–õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å**:
  - –î–µ—Ä–µ–≤–æ–≤–∏–¥–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è.
  - –í–∫–ª–∞–¥–∫–∞ –∑ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è–º –∞–ª—å–±–æ–º—É (–∑–≥–æ—Ä–Ω—É—Ç–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º).

- **–û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç**:
  - –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å —ñ–∑ –∫–Ω–æ–ø–∫–∞–º–∏ (`–ù–∞–∑–∞–¥`, `–í–µ—Ä—Å—ñ—ó`, `–î–æ–∫—É–º–µ–Ω—Ç–∏`, `PDF`, `–î—Ä—É–∫`, `–ù–æ–≤–∏–π –∞—Ä–∫—É—à`).
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–°–ø–∏—Å–æ–∫ —Å—Ö–µ–º –∞–ª—å–±–æ–º—É [–ù–∞–∑–≤–∞ –∞–ª—å–±–æ–º—É]".
  - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SchemeReport`.

---

### **–ö–æ–¥ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ `/albums/[albumId].tsx`**
```tsx
import { useState, useEffect } from "react";
import { useRouter } from "next/router";
import { Box, Button, Typography, IconButton, Paper, Tab, Tabs } from "@mui/material";
import { ArrowBack, Description, PictureAsPdf, Print, Add, Layers } from "@mui/icons-material";
import NavigationTree from "@/components/NavigationTree";
import AlbumEditForm from "@/components/AlbumEditForm";
import SchemeReport from "@/components/SchemeReport";
import SearchComponent from "@/components/SearchComponent";
import { fetchAlbumById } from "@/utils/api";

const AlbumPage = () => {
  const router = useRouter();
  const { albumId, mode } = router.query;
  const [album, setAlbum] = useState(null);
  const [activeTab, setActiveTab] = useState(0);

  useEffect(() => {
    if (albumId) {
      const loadAlbum = async () => {
        try {
          const data = await fetchAlbumById(albumId);
          setAlbum(data);
        } catch (error) {
          console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–ª—å–±–æ–º—É:", error);
        }
      };

      loadAlbum();
    }
  }, [albumId]);

  if (!album) {
    return <Typography variant="h6">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</Typography>;
  }

  return (
    <Box display="flex" height="100vh">
      {/* –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å */}
      <Box width="300px" p={2} borderRight="1px solid #ddd">
        <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)} variant="fullWidth">
          <Tab label="–ù–∞–≤—ñ–≥–∞—Ü—ñ—è" />
          <Tab label="–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∞–ª—å–±–æ–º—É" />
        </Tabs>

        <Box hidden={activeTab !== 0}>
          <NavigationTree albumId={albumId} />
        </Box>
        <Box hidden={activeTab !== 1}>
          <AlbumEditForm albumId={albumId} />
        </Box>
      </Box>

      {/* –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
      <Box flexGrow={1} p={3}>
        {/* –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å */}
        <Box display="flex" alignItems="center" mb={2} gap={1}>
          <IconButton onClick={() => router.push("/albums")} title="–î–æ –∫–∞—Ç–∞–ª–æ–≥—É –∞–ª—å–±–æ–º—ñ–≤">
            <ArrowBack />
          </IconButton>
          <SearchComponent />
          <IconButton title="–í–µ—Ä—Å—ñ—ó –∞–ª—å–±–æ–º—É">
            <Layers />
          </IconButton>
          <IconButton title="–î–æ–∫—É–º–µ–Ω—Ç–∏ –∞–ª—å–±–æ–º—É">
            <Description />
          </IconButton>
          <IconButton title="–ï–∫—Å–ø–æ—Ä—Ç –∞–ª—å–±–æ–º—É">
            <PictureAsPdf />
          </IconButton>
          <IconButton title="–î—Ä—É–∫ –∞–ª—å–±–æ–º—É">
            <Print />
          </IconButton>
          <Button variant="contained" startIcon={<Add />} title="–ù–æ–≤–∏–π –∞—Ä–∫—É—à –∞–ª—å–±–æ–º—É —Å—Ö–µ–º">
            –ù–æ–≤–∏–π –∞—Ä–∫—É—à
          </Button>
        </Box>

        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
        <Paper sx={{ p: 2, mb: 2, textAlign: "center" }}>
          <Typography variant="h5">–°–ø–∏—Å–æ–∫ —Å—Ö–µ–º –∞–ª—å–±–æ–º—É {album.name}</Typography>
        </Paper>

        {/* –ë–ª–æ–∫ –∑–≤—ñ—Ç—É */}
        <SchemeReport albumId={albumId} userRole={album.userRole} mode={mode} />
      </Box>
    </Box>
  );
};

export default AlbumPage;
```

---

### **–ü–æ—è—Å–Ω–µ–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**
‚úÖ **–õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å**  
- –ú–∞—î **Tabs** –¥–ª—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ **–î–µ—Ä–µ–≤–æ–≤–∏–¥–Ω–æ—é –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é** —Ç–∞ **–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è–º –∞–ª—å–±–æ–º—É**.  
- –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤—ñ–¥–∫—Ä–∏—Ç–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è, –∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∞–ª—å–±–æ–º—É –ø—Ä–∏—Ö–æ–≤–∞–Ω–µ.

‚úÖ **–í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å**  
- –ö–Ω–æ–ø–∫–∞ `–ù–∞–∑–∞–¥` (`ArrowBack`) ‚Äì –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–∞ `/albums`.  
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ—à—É–∫—É** (—Ç–æ–π —Å–∞–º–∏–π, —â–æ —ñ –≤ `/albums`).  
- **–ö–Ω–æ–ø–∫–∏ –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É**: `–í–µ—Ä—Å—ñ—ó`, `–î–æ–∫—É–º–µ–Ω—Ç–∏`, `PDF`, `–î—Ä—É–∫`, `–ù–æ–≤–∏–π –∞—Ä–∫—É—à`.  

‚úÖ **–ë–ª–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫—É**  
- –í—ñ–¥–æ–±—Ä–∞–∂–∞—î **–Ω–∞–∑–≤—É –∞–ª—å–±–æ–º—É** –≤ –∑–∞–≥–æ–ª–æ–≤–∫—É `–°–ø–∏—Å–æ–∫ —Å—Ö–µ–º –∞–ª—å–±–æ–º—É [–ù–∞–∑–≤–∞]`.

‚úÖ **–ë–ª–æ–∫ –∑–≤—ñ—Ç—É (`SchemeReport`)**  
- –ü–µ—Ä–µ–¥–∞—î `albumId`, `userRole` —Ç–∞ `mode` (`viewer` –∞–±–æ `editor`) –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ö–µ–º.

---

### **–©–æ –¥–∞–ª—ñ?**
1Ô∏è‚É£ –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è –∫–Ω–æ–ø–æ–∫ **–í–µ—Ä—Å—ñ—ó**, **–î–æ–∫—É–º–µ–Ω—Ç–∏**, **PDF**, **–î—Ä—É–∫**, **–ù–æ–≤–∏–π –∞—Ä–∫—É—à**.  
2Ô∏è‚É£ –ü–æ–ª—ñ–ø—à–∏—Ç–∏ —Å—Ç–∏–ª—å —ñ –∞–¥–∞–ø—Ç–∞—Ü—ñ—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—ñ–¥ —Ä—ñ–∑–Ω—ñ –µ–∫—Ä–∞–Ω–∏.  
3Ô∏è‚É£ –î–æ–¥–∞—Ç–∏ **WebSocket** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É —Å—Ö–µ–º —É `SchemeReport`. üöÄ

–Ø–∫ —Ç–æ–±—ñ —Ç–∞–∫–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è? üòä