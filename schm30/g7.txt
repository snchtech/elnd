### **üìå –û–Ω–æ–≤–ª–µ–Ω–Ω—è `AlbumsFilters.js`**
‚úÖ **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∑ `SCHEME`**  
‚úÖ **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ `MUI: You have provided an out-of-range value`**  
‚úÖ **–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å –ø–æ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—é**  

---

## **üìå –û–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `AlbumsFilters.js`**
```javascript
import { useState, useEffect } from "react";
import { Box, TextField, MenuItem, Paper } from "@mui/material";
import { fetchAlbumFilterOptions } from "@/utils/api";

export default function AlbumsFilters({ onFilterChange }) {
  const [departments, setDepartments] = useState([]);
  const [units, setUnits] = useState([]);
  const [statuses, setStatuses] = useState([]);

  const [selectedDepartment, setSelectedDepartment] = useState("");
  const [selectedUnit, setSelectedUnit] = useState("");
  const [selectedStatus, setSelectedStatus] = useState(""); // –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

  useEffect(() => {
    async function loadFilterData() {
      const data = await fetchAlbumFilterOptions();
      setDepartments(data.departments);
      setUnits(data.units);
      setStatuses(data.statuses);
    }
    loadFilterData();
  }, []);

  useEffect(() => {
    onFilterChange({ department: selectedDepartment, unit: selectedUnit, status: selectedStatus });
  }, [selectedDepartment, selectedUnit, selectedStatus]);

  return (
    <Paper sx={{ p: 2, mb: 2 }}>
      <Box display="flex" gap={2}>
        {/* –§—ñ–ª—å—Ç—Ä –ø–æ –≤—ñ–¥–¥—ñ–ª—É */}
        <TextField
          select
          label="–í—ñ–¥–¥—ñ–ª"
          fullWidth
          value={selectedDepartment}
          onChange={(e) => setSelectedDepartment(e.target.value)}
        >
          <MenuItem value="">–í—Å—ñ</MenuItem>
          {departments.map((dep) => (
            <MenuItem key={dep.id} value={dep.id}>
              {dep.name}
            </MenuItem>
          ))}
        </TextField>

        {/* –§—ñ–ª—å—Ç—Ä –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É */}
        <TextField
          select
          label="–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª"
          fullWidth
          value={selectedUnit}
          onChange={(e) => setSelectedUnit(e.target.value)}
        >
          <MenuItem value="">–í—Å—ñ</MenuItem>
          {units.map((unit) => (
            <MenuItem key={unit.id} value={unit.id}>
              {unit.name}
            </MenuItem>
          ))}
        </TextField>

        {/* –§—ñ–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É */}
        <TextField
          select
          label="–°—Ç–∞—Ç—É—Å"
          fullWidth
          value={selectedStatus}
          onChange={(e) => setSelectedStatus(e.target.value)}
        >
          <MenuItem value="">–í—Å—ñ</MenuItem>
          {statuses.map((status) => (
            <MenuItem key={status.id} value={status.id}>
              {status.name}
            </MenuItem>
          ))}
        </TextField>
      </Box>
    </Paper>
  );
}
```

---

## **üìå SQL-–∑–∞–ø–∏—Ç –¥–ª—è —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ `SCHEME`**
–°—Ç–≤–æ—Ä—é—î–º–æ API `/pages/api/rest/getAlbumFilterOptions.js`, —è–∫–µ –æ—Ç—Ä–∏–º–∞—î **–ª–∏—à–µ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è** –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤.

```javascript
import { queryDatabase } from "@/utils/db";

export default async function handler(req, res) {
  if (req.method !== "GET") {
    return res.status(405).json({ error: "Method Not Allowed" });
  }

  try {
    const sql = `
      SELECT DISTINCT d.id AS department_id, d.name AS department_name,
                      u.id AS unit_id, u.name AS unit_name,
                      s.status_id, es.name AS status_name
      FROM SCHEME s
      JOIN ALBUM a ON s.album_id = a.id
      JOIN DEPARTMENT d ON s.depart_id = d.id
      JOIN UNIT u ON s.unit_id = u.id
      JOIN ENTRY_STATUS es ON s.status_id = es.id
      ORDER BY d.name, u.name, es.name
    `;

    const rows = await queryDatabase(sql);

    // –§–æ—Ä–º—É—î–º–æ —Å–ø–∏—Å–∫–∏
    const departments = [];
    const units = [];
    const statuses = [];

    const departmentMap = new Map();
    const unitMap = new Map();
    const statusMap = new Map();

    rows.forEach((row) => {
      if (!departmentMap.has(row.department_id)) {
        departmentMap.set(row.department_id, { id: row.department_id, name: row.department_name });
        departments.push(departmentMap.get(row.department_id));
      }
      if (!unitMap.has(row.unit_id)) {
        unitMap.set(row.unit_id, { id: row.unit_id, name: row.unit_name });
        units.push(unitMap.get(row.unit_id));
      }
      if (!statusMap.has(row.status_id)) {
        statusMap.set(row.status_id, { id: row.status_id, name: row.status_name });
        statuses.push(statusMap.get(row.status_id));
      }
    });

    res.status(200).json({ departments, units, statuses });
  } catch (error) {
    console.error("Error fetching filter options:", error);
    res.status(500).json({ error: "Internal Server Error" });
  }
}
```

---

## **üìå –û–Ω–æ–≤–ª–µ–Ω–Ω—è `utils/api.js` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤**
```javascript
export const fetchAlbumFilterOptions = async () => {
  return fetchData("/api/rest/getAlbumFilterOptions", { method: "GET" });
};
```

---

## **üìå –Ø–∫ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π `MUI: You have provided an out-of-range value`?**
- –ü—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞ —É —Ç–æ–º—É, —â–æ **`useState(1)`** –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞–≤ –∑–Ω–∞—á–µ–Ω–Ω—è **–¥–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è** `statuses`, —â–æ –≤–∏–∫–ª–∏–∫–∞–ª–æ –ø–æ–º–∏–ª–∫—É.
- **–†—ñ—à–µ–Ω–Ω—è:** —Ç–µ–ø–µ—Ä `selectedStatus` –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è —è–∫ `""` —ñ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.

---

## **üìå –©–æ –ø–æ–∫—Ä–∞—â–µ–Ω–æ?**
‚úÖ **–§—ñ–ª—å—Ç—Ä–∏ —Ñ–æ—Ä–º—É—é—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –∑ `SCHEME`**  
‚úÖ **–î–∞–Ω—ñ –≥—Ä—É–ø—É—é—Ç—å—Å—è –ø–æ –≤—ñ–¥–¥—ñ–ª—É, –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É —Ç–∞ —Å—Ç–∞—Ç—É—Å—É**  
‚úÖ **–§—ñ–ª—å—Ç—Ä–∏ –º—ñ—Å—Ç—è—Ç—å –ª–∏—à–µ **–∞–∫—Ç—É–∞–ª—å–Ω—ñ** –¥–∞–Ω—ñ, —è–∫—ñ —î —É –∑–≤—ñ—Ç—ñ**  
‚úÖ **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ `MUI: out-of-range value`**  

üöÄ **–¢–µ–ø–µ—Ä `AlbumsFilters.js` –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∞—Ü—é—î –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ª–∏—à–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –¥–∞–Ω—ñ!**