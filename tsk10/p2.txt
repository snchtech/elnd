–¢–∞–∫, –¥–æ–±—Ä–µ —â–æ —Ç–∏ –∑–≤–µ—Ä–Ω—É–≤ —É–≤–∞–≥—É!

‚úÖ –î—ñ–π—Å–Ω–æ: –≤ Oracle 12c **–∞—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω—ñ –º–∞—Å–∏–≤–∏** (`INDEX BY`) –≤–∏–º–∞–≥–∞—é—Ç—å, —â–æ–± —Ç–∏–ø —ñ–Ω–¥–µ–∫—Å—É –±—É–≤ `PLS_INTEGER` –∞–±–æ `BINARY_INTEGER`, –∞ –Ω–µ `NUMBER`.

–£ —Ç–µ–±–µ –∑–∞—Ä–∞–∑:

```plsql
TYPE t_id_map IS TABLE OF NUMBER INDEX BY NUMBER;
```
–ê –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ –Ω–∞:
```plsql
TYPE t_id_map IS TABLE OF NUMBER INDEX BY PLS_INTEGER;
```

---

# –û–Ω–æ–≤–ª–µ–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Ç–≤–æ–≥–æ –ø–æ—á–∞—Ç–∫—É –∫–æ–¥—É:

```plsql
DECLARE
  -- –ó–∞–≥–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
  v_new_task_id TASKS.ID%TYPE;
  v_new_template_id TASK_TEMPLATES.ID%TYPE;

  -- –ú–∞–ø–∞ —Å—Ç–∞—Ä–∏–π ID ‚Üí –Ω–æ–≤–∏–π ID
  TYPE t_id_map IS TABLE OF NUMBER INDEX BY PLS_INTEGER;
  l_id_map t_id_map;

  -- –ö—É—Ä—Å–æ—Ä–∏
  CURSOR c_task_subtasks IS
    SELECT ID, PARENT_ID, SUBTASK_CONTENT, STATUS_ID, PLANNING_DATE_END, SUBTASK_ORDER, TEMPLATE_SUBTASK_ID
    FROM TASK_SUBTASKS
    WHERE TASK_ID = :P5_TASK_ID;

  CURSOR c_template_subtasks IS
    SELECT ID, PARENT_ID, SUBTASK_CONTENT, STATUS_ID, SUBTASK_ORDER
    FROM TASK_TEMPLATE_SUBTASKS
    WHERE TEMPLATE_ID = :P5_TASK_ID;

  v_new_subtask_id NUMBER;
BEGIN
  ...
```

---

# ‚ùó –í–∞–∂–ª–∏–≤–æ:

- `PLS_INTEGER` –ø—Ä–∞—Ü—é—î —à–≤–∏–¥—à–µ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ PL/SQL, —Ç–æ–º—É —Ü–µ –Ω–∞–≤—ñ—Ç—å –∫—Ä–∞—â–µ –Ω—ñ–∂ `NUMBER` –¥–ª—è —ñ–Ω–¥–µ–∫—Å—É –∞—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω–æ–≥–æ –º–∞—Å–∏–≤—É.
- –í Oracle 12c —ñ –≤–∏—â–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `PLS_INTEGER` –∞–±–æ `BINARY_INTEGER`** –≤ `INDEX BY`.

---

# üî• –©–µ –∫—ñ–ª—å–∫–∞ –¥—Ä—ñ–±–Ω–∏—Ö –ø–æ—Ä–∞–¥:
- –Ø–∫—â–æ —Ö–æ—á–µ—à –≤–∑–∞–≥–∞–ª—ñ –∑—Ä–æ–±–∏—Ç–∏ —â–µ –∞–∫—É—Ä–∞—Ç–Ω—ñ—à–µ ‚Äî –º–æ–∂–Ω–∞ –æ–≥–æ–ª–æ—Å–∏—Ç–∏ `TYPE t_id_map` **–ø–æ–∑–∞ –±–ª–æ–∫–æ–º DECLARE**, —É –≤–ª–∞—Å–Ω–æ–º—É –ø–∞–∫–µ—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `your_package_types`) —ñ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏ —á–µ—Ä–µ–∑ `your_package_types.t_id_map`. –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–¥ —â–µ —á–∏—Å—Ç—ñ—à–∏–º –ø—Ä–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—ñ.
- –Ü —è–∫—â–æ —Ö–æ—á–µ—à, –º–æ–∂–µ–º–æ —Ç–∞–∫–æ–∂ –≤–∏–Ω–µ—Å—Ç–∏ —á–∞—Å—Ç–∏–Ω—É –¥—É–±–ª—é—é—á–æ–≥–æ –∫–æ–¥—É –ø–æ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è—Ö –≤ –æ–∫—Ä–µ–º—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –≤—Å–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç–æ.

---

### –û—Ç–∂–µ:  
‚úÖ –ü—Ä–æ—Å—Ç–æ –∑–∞–º—ñ–Ω–∏ `INDEX BY NUMBER` ‚ûî –Ω–∞ `INDEX BY PLS_INTEGER`, —ñ —Ç–≤—ñ–π –∫–æ–¥ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–æ –≤ Oracle 12c.  

---

–•–æ—á–µ—à, —è —â–µ –ø–æ–∫–∞–∂—É **–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—É –≤–µ—Ä—Å—ñ—é** —Ü—å–æ–≥–æ –¥—É–±–ª—é—é—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É –∑ –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—î—é –∫–æ–¥—É —ñ –ø–æ–∫—Ä–∞—â–µ–Ω–æ—é –æ–±—Ä–æ–±–∫–æ—é –ø–æ–º–∏–ª–æ–∫? üöÄ  
(–ë—É–¥–µ –∫–æ—Ä–æ—Ç—à–∏–π, —á–∏—Å—Ç—ñ—à–∏–π —ñ –ª–µ–≥—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏).  
–ü–æ–∫–∞–∑–∞—Ç–∏? üî•
