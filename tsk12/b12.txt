–ß—É–¥–æ–≤–∏–π –ø—ñ–¥—Ö—ñ–¥! –î–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤ —É Oracle APEX —ñ –ø–æ–¥–∞–ª—å—à–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å —á–µ—Ä–µ–∑ Oracle DB JOBS, –ø—Ä–æ–ø–æ–Ω—É—é:

---

## üîπ 1. **–†–µ–∂–∏–º ¬´–ó–∞ –¥–Ω—è–º–∏ —Ç–∏–∂–Ω—è —ñ —á–∞—Å–æ–º¬ª**

**–ù–∞–∑–≤–∞ —Ä–µ–∂–∏–º—É**: `WEEKLY_TIME_SCHEDULE`

### üìã –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

* **Checkbox –≥—Ä—É–ø–∞** ‚Äî 7 –¥–Ω—ñ–≤ —Ç–∏–∂–Ω—è (`–ü–ù`‚Äì`–ù–î`), –∫–æ–∂–µ–Ω —ñ–∑ –∑–Ω–∞—á–µ–Ω–Ω—è–º –≤—ñ–¥ `1` –¥–æ `7` (Oracle: 1 = Sunday, 2 = Monday, ..., 7 = Saturday).

  * –¢–∏–ø: `Checkbox Group`
  * Multiple values: Yes
* **–ü–æ–ª–µ —á–∞—Å—É** ‚Äî input type `time`

  * APEX Item Type: Text Field —ñ–∑ HTML5 input type = `time`

---

## üîπ 2. **–†–µ–∂–∏–º ¬´–ü–æ–≤—Ç–æ—Ä –∫–æ–∂–Ω—ñ N –¥–Ω—ñ–≤ —É –≤–∏–±—Ä–∞–Ω—ñ –≥–æ–¥–∏–Ω–∏¬ª**

**–ù–∞–∑–≤–∞ —Ä–µ–∂–∏–º—É**: `INTERVAL_DAYS_MULTITIME`

### üìã –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

* **–ü–æ–ª–µ "–ö–æ–∂–Ω—ñ N –¥–Ω—ñ–≤"** ‚Äî Number
* **–°–ø–∏—Å–æ–∫ –≥–æ–¥–∏–Ω (multi-select)** ‚Äî –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `06:00`, `09:00`, `12:00`, ...

  * APEX Item Type: Select List (Multiple)
  * Source: Static LOV –∞–±–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π LOV –≤—ñ–¥ `00:00` –¥–æ `23:00`

---

## üì¶ –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤ –ë–î

```sql
PERIOD_MODE         -- 'WEEKLY_TIME_SCHEDULE' –∞–±–æ 'INTERVAL_DAYS_MULTITIME'
PERIOD_INTERVAL     -- –¥–ª—è INTERVAL_DAYS_MULTITIME ‚Üí —á–∏—Å–ª–æ –¥–Ω—ñ–≤
PERIOD_TIME         -- –¥–ª—è WEEKLY_TIME_SCHEDULE ‚Üí –æ–¥–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —á–∞—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 09:00)
HOURLY_TIMES        -- –¥–ª—è INTERVAL_DAYS_MULTITIME ‚Üí —Å–ø–∏—Å–æ–∫ –≥–æ–¥–∏–Ω ('06:00,09:00')
WEEKLY_DAYS         -- –Ω–æ–≤–∞ –∫–æ–ª–æ–Ω–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ VARCHAR2(20)) ‚Üí –∑–±–µ—Ä—ñ–≥–∞—î –¥–Ω—ñ —Ç–∏–∂–Ω—è —è–∫: '2,4,6'
DATE_END            -- –∫—ñ–Ω–µ—Ü—å –¥—ñ—ó —à–∞–±–ª–æ–Ω—É
```

---

## ‚öôÔ∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó JOB

### Oracle Scheduler Job –ª–æ–≥—ñ–∫–∞:

* JOB –±—É–¥–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—å 1 —Ä–∞–∑ –Ω–∞ –¥–µ–Ω—å.
* –í—ñ–Ω –∞–Ω–∞–ª—ñ–∑—É—î –≤—Å—ñ –∞–∫—Ç–∏–≤–Ω—ñ —à–∞–±–ª–æ–Ω–∏ (–¥–µ `NEXT_RUN_DATE <= SYSDATE` —ñ `DATE_END >= SYSDATE`).
* –î–∞–ª—ñ:

  * –Ø–∫—â–æ `PERIOD_MODE = WEEKLY_TIME_SCHEDULE`:

    * –ø–µ—Ä–µ–≤—ñ—Ä—è—î `TO_CHAR(SYSDATE, 'D')` ‚àà `WEEKLY_DAYS`
    * –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ –ø–æ—Ç–æ—á–Ω–∏–π —á–∞—Å = `PERIOD_TIME`
  * –Ø–∫—â–æ `PERIOD_MODE = INTERVAL_DAYS_MULTITIME`:

    * –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ `SYSDATE - LAST_EXEC_DATE` % `PERIOD_INTERVAL = 0`
    * –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–æ—Ç–æ—á–Ω–∏–π —á–∞—Å ‚àà `HOURLY_TIMES`

---

## üìå –©–æ —â–µ –≤—Ä–∞—Ö—É–≤–∞—Ç–∏?

1. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ —à–∞–±–ª–æ–Ω—É:**

   * `PERIOD_MODE = WEEKLY_TIME_SCHEDULE` ‚Üí `PERIOD_TIME` + `WEEKLY_DAYS` not null
   * `PERIOD_MODE = INTERVAL_DAYS_MULTITIME` ‚Üí `PERIOD_INTERVAL` + `HOURLY_TIMES` not null

2. **–ó—Ä—É—á–Ω—ñ—Å—Ç—å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:**

   * –§–æ—Ä–º—É–π preview-—Ä—è–¥–æ–∫ —Ç–∏–ø—É:

     * `–©–æ–ø–æ–Ω–µ–¥—ñ–ª–∫–∞, —â–æ—Å–µ—Ä–µ–¥–∏ –æ 09:00`
     * `–ö–æ–∂–Ω—ñ 4 –¥–Ω—ñ –æ 06:00, 09:00`

3. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –æ–∫—Ä–µ–º—É —Ç–∞–±–ª–∏—Ü—é –∑–∞–ø—É—Å–∫—ñ–≤ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):**

   * `TASK_TEMPLATE_EXECUTIONS (TEMPLATE_ID, PLANNED_DATE)`

---

## üîß –ü—Ä–∏–∫–ª–∞–¥ –∑–Ω–∞—á–µ–Ω—å:

| PERIOD\_MODE              | WEEKLY\_DAYS | PERIOD\_TIME | PERIOD\_INTERVAL | HOURLY\_TIMES |
| ------------------------- | ------------ | ------------ | ---------------- | ------------- |
| WEEKLY\_TIME\_SCHEDULE    | 2,4,6        | 09:00        | NULL             | NULL          |
| INTERVAL\_DAYS\_MULTITIME | NULL         | NULL         | 4                | 06:00,09:00   |

---

–•–æ—á–µ—à, —è –ø—ñ–¥–≥–æ—Ç—É—é –ø—Ä–∏–∫–ª–∞–¥ SQL –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ –∑ `WEEKLY_DAYS`, –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –∑–Ω–∞—á–µ–Ω—å —ñ –æ–±—Ä–æ–±–∫—É –≤ JOB?
