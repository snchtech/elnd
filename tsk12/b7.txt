–ß—É–¥–æ–≤–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è ‚Äî –ø–æ—è—Å–Ω—é –¥–µ—Ç–∞–ª—å–Ω–æ —Ç–∞ *–ø–æ–µ—Ç–∞–ø–Ω–æ*, —è–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:

---

## ‚úÖ **1. –©–æ —Ç–∞–∫–µ `Dialog Return` —ñ –¥–µ —Ü–µ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è**

> `Dialog Return` ‚Äî —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ –¥–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∏, —è–∫–∞ –π–æ–≥–æ –≤—ñ–¥–∫–ª–∏–∫–∞–ª–∞ (–±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ—ó).

–¶–µ –∑–∞–¥–∞—î—Ç—å—Å—è **–≤ –ø—Ä–æ—Ü–µ—Å—ñ —Ç–∏–ø—É `Close Dialog`**, –∫–æ–ª–∏ —Ç–∏ –Ω–∞—Ç–∏—Å–∫–∞—î—à –∫–Ω–æ–ø–∫—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `CREATE TASK`.

üîß **–î–µ –∑–Ω–∞–π—Ç–∏ Return Value:**

1. –ô–¥–∏ –≤ `Processing` ‚Üí –Ω–∞—Ç–∏—Å–Ω–∏ `Create Process`
2. –¢–∏–ø: `Dialog: Close Dialog`
3. –í –ø–æ–ª—ñ **Return Value** ‚Äî –≤–≤–µ–¥–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

   ```sql
   'created'
   ```

   > –¶–µ –ø–æ–≤–µ—Ä–Ω–µ —Ç–µ–∫—Å—Ç `'created'` –Ω–∞ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫—É —Å—Ç–æ—Ä—ñ–Ω–∫—É.

–¶–µ —ñ —î –∑–Ω–∞—á–µ–Ω–Ω—è, –ø–æ —è–∫–æ–º—É –ø–æ—Ç—ñ–º —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞—Ç–∏–º–µ Dynamic Action –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –∑ `mainReport`.

---

## ‚úÖ **2. –Ø–∫ –∑—Ä–æ–±–∏—Ç–∏ Dynamic Action –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –∑ mainReport**

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É, –¥–µ —î —Ç–≤—ñ–π —Ä–µ–≥—ñ–æ–Ω `mainReport`.

2. –°—Ç–≤–æ—Ä–∏ –Ω–æ–≤–∏–π **Dynamic Action**:

   * **Event**: `Dialog Closed`
   * **Selection Type**: `Region` ‚Üí –≤–∏–±–µ—Ä–∏ –∫–Ω–æ–ø–∫—É –∞–±–æ —Å–∞–º `Region`, —á–µ—Ä–µ–∑ —è–∫–∏–π –≤—ñ–¥–∫—Ä–∏–≤–∞–ª–æ—Å—è –≤—ñ–∫–Ω–æ
     (–ê–±–æ –Ω–∞–≤—ñ—Ç—å `Page` ‚Äî —Ç–æ–¥—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –¥–ª—è –≤—Å—ñ—Ö –¥—ñ–∞–ª–æ–≥—ñ–≤).

3. –í–∫–ª–∞–¥–∫–∞ **Client-Side Condition**:

   * –¢–∏–ø: `JavaScript Expression`
   * –ó–Ω–∞—á–µ–Ω–Ω—è:

     ```js
     this.data.dialogReturn === 'created'
     ```

---

## ‚úÖ **3. True Actions**

### üîÅ Refresh mainReport

* Action: `Refresh`
* Selection Type: `Region`
* Region: `mainReport`

---

### ‚úÖ Notification –Ω–∞ 3 —Å–µ–∫

* Action: `Execute JavaScript Code`
* Code:

```js
var isTemplate = $v('P5_TASK_MODE') === '1';
var message = isTemplate ? '–®–∞–±–ª–æ–Ω —Å—Ç–≤–æ—Ä–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!' : '–ó–∞–≤–¥–∞–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!';
apex.message.showPageSuccess(message);

setTimeout(function() {
  apex.message.hidePageSuccess();
}, 3000);
```

> ‚ö†Ô∏è –Ø–∫—â–æ `P5_TASK_MODE` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ –Ω–∞ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ ‚Äî –ø–µ—Ä–µ–¥–∞–π –π–æ–≥–æ —á–µ—Ä–µ–∑ Return Value (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `'created_template'` –∞–±–æ `'created_task'`), —ñ —Ç–æ–¥—ñ –≤ `dialogReturn` –ø–µ—Ä–µ–≤—ñ—Ä—è–π —Ç–∏–ø.

---

## ‚úÖ –î–ª—è –û–Ω–æ–≤–ª–µ–Ω–Ω—è (Update):

–ü–æ–≤—Ç–æ—Ä—é—î–º–æ —É—Å–µ —Ç–∞–∫ —Å–∞–º–æ, –∞–ª–µ:

* –ö–Ω–æ–ø–∫–∞ `UPDATE TASK`, `UPDATE TEMPLATE`
* –ü—Ä–æ—Ü–µ—Å `UPDATE_TASK_OR_TEMPLATE`
* –ü—ñ—Å–ª—è –Ω—å–æ–≥–æ —â–µ –æ–¥–∏–Ω `Dialog: Close Dialog` —ñ–∑ Return Value `'updated'`
* –ù–∞ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ ‚Äî **–Ω–æ–≤–∏–π Dynamic Action**:

  * Event: `Dialog Closed`
  * JavaScript Condition:

    ```js
    this.data.dialogReturn === 'updated'
    ```
  * True Actions:

    1. Refresh ‚Üí Region: `mainReport`
    2. Notification: `"–ó–∞–≤–¥–∞–Ω–Ω—è/–®–∞–±–ª–æ–Ω –æ–Ω–æ–≤–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!"`

---

## üß† –ü–æ—Ä–∞–¥–∞

–ú–æ–∂–µ—à –Ω–∞–≤—ñ—Ç—å —É `Return Value` –≤–∫–∞–∑–∞—Ç–∏:

```sql
CASE WHEN :P5_TASK_MODE = 0 THEN 'created_task' ELSE 'created_template' END
```

–Ü –ø–æ—Ç—ñ–º —É JS –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏:

```js
if (this.data.dialogReturn === 'created_task') {
  // ...
}
```

---

–•–æ—á–µ—à, —â–æ–± —è –ø–æ–∫–∞–∑–∞–≤ **—É—Å–µ —è–∫ —Å—Ö–µ–º–∞ / —Ç–∞–±–ª–∏—Ü—è** –¥–ª—è —à–≤–∏–¥–∫–æ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó?
