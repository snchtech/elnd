–¢–∞–∫, –≤–∏ –º–∏—Å–ª–∏—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî **–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏ –∑ APEX\_COLLECTIONS –ø—ñ–¥—Ö—ñ–¥ –º–∞—î –±—É—Ç–∏ –≥–Ω—É—á–∫–∏–º –¥–æ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ TASK\_ID –∞–±–æ TEMPLATE\_ID**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –∑‚Äô—è–≤–ª—è—Ç–∏—Å—å –ª–∏—à–µ **–ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É (–∑–∞–≤–¥–∞–Ω–Ω—è –∞–±–æ —à–∞–±–ª–æ–Ω—É)**.

### ‚úÖ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏:

#### üî∏ 1. **–ù–∞ –µ—Ç–∞–ø—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (TASK\_ID —â–µ –Ω–µ–º–∞—î)**:

* –ö–æ–ª–µ–∫—Ü—ñ—è `TASK_SUBTASKS_COLLECTION` –∞–±–æ `TASK_TEMPLATE_SUBTASKS_COLLECTION` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ —Ç–∏–º—á–∞—Å–æ–≤–µ —Å—Ö–æ–≤–∏—â–µ.
* –ó–Ω–∞—á–µ–Ω–Ω—è `TASK_ID` —É –ø–æ–ª—ñ `C001` –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó –±—É–¥–µ `NULL`.
* –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î/—Ä–µ–¥–∞–≥—É—î –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî —É—Å–µ –ø—Ä–∞—Ü—é—î –∑ –∫–æ–ª–µ–∫—Ü—ñ—î—é.
* –ü—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è "–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è":

  * –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∑–∞–≤–¥–∞–Ω–Ω—è.
  * –û—Ç—Ä–∏–º—É—î—Ç–µ –Ω–æ–≤–∏–π `TASK_ID := TASKS_SEQ.NEXTVAL`.
  * –ü—Ä–æ–±—ñ–≥–∞—î—Ç–µ—Å—å –ø–æ –≤—Å—ñ—Ö –∑–∞–ø–∏—Å–∞—Ö —É –∫–æ–ª–µ–∫—Ü—ñ—ó —Ç–∞ **–≤—Å—Ç–∞–≤–ª—è—î—Ç–µ —ó—Ö —É —Ç–∞–±–ª–∏—Ü—é –∑ –ø—Ä–∏–≤‚Äô—è–∑–∫–æ—é –¥–æ –Ω–æ–≤–æ–≥–æ `TASK_ID`**.

#### üî∏ 2. **–ù–∞ –µ—Ç–∞–ø—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (TASK\_ID –≤–∂–µ —î)**:

* –í–∏ –æ—á–∏—â—É—î—Ç–µ —ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç–µ –∫–æ–ª–µ–∫—Ü—ñ—é `TASK_SUBTASKS_COLLECTION` –∑ —Ç–∞–±–ª–∏—Ü—ñ `TASK_SUBTASKS` –ø–æ `TASK_ID`.
* –£—Å—ñ –∑–∞–ø–∏—Å–∏ –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó –≤–∂–µ –º–∞—Ç–∏–º—É—Ç—å `TASK_ID` —É `C001`.
* –í–∏ –º–æ–∂–µ—Ç–µ –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞—Ç–∏:

  * –î–æ–¥–∞–Ω—ñ (–±–µ–∑ `TASK_ID`)
  * –û–Ω–æ–≤–ª–µ–Ω—ñ (–ø–æ–∑–Ω–∞—á–∞—î—Ç–µ `DATE_UPDATE`)
  * –í–∏–¥–∞–ª–µ–Ω—ñ (`C010 = 'DELETE'`)
* –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ "–û–Ω–æ–≤–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è":

  * –í–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ –ø–æ –∫–æ–ª–µ–∫—Ü—ñ—ó:

    * –î–æ–¥–∞—î—Ç–µ –Ω–æ–≤—ñ
    * –û–Ω–æ–≤–ª—é—î—Ç–µ —ñ—Å–Ω—É—é—á—ñ
    * –í–∏–¥–∞–ª—è—î—Ç–µ –ø–æ–∑–Ω–∞—á–µ–Ω—ñ

---

### üîÅ –û—Ç–∂–µ, –æ—Å–Ω–æ–≤–Ω–∏–π **–ø—Ä–∏–Ω—Ü–∏–ø**:

| –°—Ü–µ–Ω–∞—Ä—ñ–π    | TASK\_ID –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó | –î—ñ—è                                          |
| ----------- | ------------------- | -------------------------------------------- |
| –°—Ç–≤–æ—Ä–µ–Ω–Ω—è   | `NULL`              | –ó–∞–ø–∏—Å–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ—Å–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó TASK\_ID |
| –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è | `–ó–Ω–∞—á–µ–Ω–Ω—è —î`        | –í–∏–∑–Ω–∞—á–∞—î–º–æ –¥—ñ—ó: –æ–Ω–æ–≤–∏—Ç–∏, –¥–æ–¥–∞—Ç–∏, –≤–∏–¥–∞–ª–∏—Ç–∏    |
| –ü–µ—Ä–µ–≥–ª—è–¥    | `–ó–Ω–∞—á–µ–Ω–Ω—è —î`        | –ù—ñ—á–æ–≥–æ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è ‚Äî –ª–∏—à–µ –≤–∏–≤—ñ–¥            |

---

### üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

‚úÖ –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ/–æ–Ω–æ–≤–ª—é–π—Ç–µ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è **–Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –∫–æ–ª–µ–∫—Ü—ñ—ó**, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –±—É–≤ `TASK_ID` –Ω–∞ –º–æ–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–¥–∑–∞–ø–∏—Å—É.
–¶–µ –¥–æ–∑–≤–æ–ª—è—î –ø–æ–≤–Ω—ñ—Å—Ç—é **–≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –ª–æ–≥—ñ–∫—É —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è/—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–ø–µ—Ä–µ–≥–ª—è–¥—É** —ñ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É.

–•–æ—á–µ—Ç–µ, –ø–æ–∫–∞–∂—É —à–∞–±–ª–æ–Ω –ª–æ–≥—ñ–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–ª—è —Ç–∞–∫–æ–≥–æ –≤–∏–ø–∞–¥–∫—É ‚Äî –Ω–∞ –æ—Å–Ω–æ–≤—ñ `TASK_ID`, —è–∫–∏–π —â–æ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ?
