–©–æ–± —É –∫–æ–ª–æ–Ω—Ü—ñ **PERIOD\_INFO\_HTML** –∑–∞–º—ñ—Å—Ç—å `tt.WEEKLY_DAY` (—è–∫–µ –∑–±–µ—Ä—ñ–≥–∞—î `ID`) –≤—ñ–¥–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –Ω–∞–∑–≤–∞ –¥–Ω—è —Ç–∏–∂–Ω—è –∑ —Ç–∞–±–ª–∏—Ü—ñ `WEEK_DAYS`, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ **`LEFT JOIN` –Ω–∞ —Ç–∞–±–ª–∏—Ü—é `WEEK_DAYS`** —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `wd.NAME` –∑–∞–º—ñ—Å—Ç—å `tt.WEEKLY_DAY`.

---

### üîß –û–ù–û–í–õ–ï–ù–ê –ß–ê–°–¢–ò–ù–ê SQL

```sql
-- 8. –ü–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ—Å—Ç—å
CASE
    WHEN tt.PERIOD_MODE = 1 THEN 
        '<b>–ö–æ–∂–Ω—ñ</b> ' || tt.PERIOD_INTERVAL || ' –¥–Ω—ñ–≤ –æ ' || TO_CHAR(tt.PERIOD_TIME, 'HH24:MI')
    WHEN tt.PERIOD_MODE = 2 THEN 
        '<b>–©–æ</b> ' || wd.NAME || ' –æ ' || tt.WEEKLY_TIMES
    ELSE NULL
END AS PERIOD_INFO_HTML,
```

---

### üîó –î–æ–¥–∞–π JOIN –¥–æ `WEEK_DAYS`

–£ —Å–µ–∫—Ü—ñ—é `FROM ...`:

```sql
LEFT JOIN WEEK_DAYS wd ON wd.ID = tt.WEEKLY_DAY
```

---

### ‚úÖ –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç:

```sql
-- 8. –ü–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ—Å—Ç—å
CASE
    WHEN tt.PERIOD_MODE = 1 THEN 
        '<b>–ö–æ–∂–Ω—ñ</b> ' || tt.PERIOD_INTERVAL || ' –¥–Ω—ñ–≤ –æ ' || TO_CHAR(tt.PERIOD_TIME, 'HH24:MI')
    WHEN tt.PERIOD_MODE = 2 THEN 
        '<b>–©–æ</b> ' || wd.NAME || ' –æ ' || tt.WEEKLY_TIMES
    ELSE NULL
END AS PERIOD_INFO_HTML
```

```sql
...
FROM TASK_TEMPLATES tt
LEFT JOIN UNIT u ON u.ID = tt.UNIT_ID
LEFT JOIN STATUS_TABLE st ON st.ID = tt.STATUS_ID
LEFT JOIN DEPARTMENT_TABLE dep ON dep.ID = tt.DEPARTMENT_ID
LEFT JOIN WEEK_DAYS wd ON wd.ID = tt.WEEKLY_DAY;
```

---

üìù **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ:

* `WEEK_DAYS` –º–∞—î –ø–æ–ª—è `ID` (–Ω–æ–º–µ—Ä –¥–Ω—è) —Ç–∞ `NAME` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `"–ø–æ–Ω–µ–¥—ñ–ª–æ–∫"`, `"–≤—ñ–≤—Ç–æ—Ä–æ–∫"`, ...).
* –Ø–∫—â–æ `tt.WEEKLY_DAY` ‚Äî –º–∞—Å–∏–≤ –∞–±–æ —Å–ø–∏—Å–æ–∫ ID, —Ç–æ–¥—ñ —Ç—Ä–µ–±–∞ –±—É–¥–µ –∑–º—ñ–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É (`IN (...)`, `LISTAGG` –∞–±–æ `JOIN ... CONNECT BY`). –ê–ª–µ –∑ —Ç–≤–æ—ó—Ö —Å–ª—ñ–≤ ‚Äì —Ü–µ –æ–¥–∏–Ω–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

–ü—ñ–¥–∫–∞–∂–∏, —è–∫—â–æ `WEEKLY_DAY` –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫—ñ–ª—å–∫–∞ –¥–Ω—ñ–≤ ‚Äî –∞–¥–∞–ø—Ç—É—é.
