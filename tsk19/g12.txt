–¢–∞–∫, –¥—è–∫—É—é ‚Äî —Ç–µ–ø–µ—Ä –ø–æ–≤–Ω—ñ—Å—Ç—é –∑—Ä–æ–∑—É–º—ñ–ª–æ:
üîç –£ —Ç–µ–±–µ **–æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏—Ä—ñ—à—É—é—Ç—å—Å—è –¥–≤—ñ –∑–∞–¥–∞—á—ñ**, –∞–ª–µ –≤–æ–Ω–∏ **–∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—Ç—å**:

1. üìå –ó–∞–∫—Ä–∏–≤–∞—Ç–∏ –º–µ–Ω—é –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –∫–ª—ñ–∫—É –ø–æ —Ç—ñ–π –∂–µ –∫–Ω–æ–ø—Ü—ñ
2. üÜï –ü—Ä–∏ –∫–ª—ñ–∫—É –ø–æ —ñ–Ω—à–æ–º—É —Ä—è–¥–∫—É ‚Äî –æ–¥—Ä–∞–∑—É –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –Ω–æ–≤–µ –º–µ–Ω—é (–∞ –Ω–µ —á–µ—Ä–µ–∑ 2 –∫–ª—ñ–∫–∏)

---

## üî• –£ —á–æ–º—É –ø—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏:

* –¢–≤—ñ–π –∫–æ–¥ **—Ä–µ–∞–≥—É—î –Ω–∞ –±—É–¥—å-—è–∫–∏–π `click`**, –∞–ª–µ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, **—á–∏ –∫–ª—ñ–∫ –±—É–≤ –ø–æ —Ç—ñ–π —Å–∞–º—ñ–π –∫–Ω–æ–ø—Ü—ñ**, —â–æ –≤—ñ–¥–∫—Ä–∏–≤–∞–ª–∞ –º–µ–Ω—é —Ä–∞–Ω—ñ—à–µ
* –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ:

  * –ø—Ä–∏ –∫–ª—ñ–∫—É –ø–æ —ñ–Ω—à—ñ–π –∫–Ω–æ–ø—Ü—ñ ‚Äî –ø–µ—Ä—à–∏–π –∫–ª—ñ–∫ –ª–∏—à–µ **–∑–∞–∫—Ä–∏–≤–∞—î –º–µ–Ω—é**
  * –ª–∏—à–µ –¥—Ä—É–≥–∏–π ‚Äî **–≤—ñ–¥–∫—Ä–∏–≤–∞—î –Ω–æ–≤–µ**

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è: **–ó–∞–ø–∞–º‚Äô—è—Ç–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é –∞–∫—Ç–∏–≤–Ω—É –∫–Ω–æ–ø–∫—É** (–µ–ª–µ–º–µ–Ω—Ç)

–ú–∏ –¥–æ–¥–∞—î–º–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É:
**—á–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞ –∫–Ω–æ–ø–∫–∞ ‚Äì —Ü–µ —Ç–∞ –∂ —Å–∞–º–∞, —â–æ –π –º–∏–Ω—É–ª–æ–≥–æ —Ä–∞–∑—É.**

---

### üîß –û–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥:

```javascript
let lastMenuButton = null; // –≥–ª–æ–±–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞, –∑–±–µ—Ä—ñ–≥–∞—î –æ—Å—Ç–∞–Ω–Ω—é –Ω–∞—Ç–∏—Å–Ω—É—Ç—É –∫–Ω–æ–ø–∫—É

$(document).on('click', '.a-Button--actions', function (e) {
  e.stopPropagation();
  e.preventDefault();

  const $button = $(this);
  const $menu = $('#custom-ig-menu');

  // –Ø–∫—â–æ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞ —Ç–∞ —Å–∞–º–∞ –∫–Ω–æ–ø–∫–∞ ‚Äî toggle –º–µ–Ω—é
  if (lastMenuButton && lastMenuButton.is($button)) {
    if ($menu.is(':visible')) {
      $menu.hide();
      lastMenuButton = null;
    } else {
      showMenuAt($button, $menu);
      lastMenuButton = $button;
    }
    return;
  }

  // –Ø–∫—â–æ —Ü–µ –Ω–æ–≤–∞ –∫–Ω–æ–ø–∫–∞ ‚Äî –∑–∞–∫—Ä–∏–≤–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—î –º–µ–Ω—é —ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –Ω–æ–≤–µ
  $menu.hide();
  showMenuAt($button, $menu);
  lastMenuButton = $button;
});
```

---

### üß© –î–æ–ø–æ–º—ñ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `showMenuAt`:

```javascript
function showMenuAt($button, $menu) {
  $menu
    .css({
      position: 'absolute',
      top: $button.offset().top + $button.outerHeight(),
      left: $button.offset().left,
      zIndex: 1000
    })
    .show();
}
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

| –°—Ü–µ–Ω–∞—Ä—ñ–π                        | –ü–æ–≤–µ–¥—ñ–Ω–∫–∞                               |
| ------------------------------- | --------------------------------------- |
| –ö–ª—ñ–∫ –ø–æ –∫–Ω–æ–ø—Ü—ñ ‚Üí –≤—ñ–¥–∫—Ä–∏–≤–∞—î –º–µ–Ω—é | ‚úÖ                                       |
| –ü–æ–≤—Ç–æ—Ä–Ω–∏–π –∫–ª—ñ–∫ –ø–æ —Ç—ñ–π –∂–µ –∫–Ω–æ–ø—Ü—ñ | ‚ùå –∑–∞–∫—Ä–∏–≤–∞—î –º–µ–Ω—é                         |
| –ö–ª—ñ–∫ –ø–æ –∫–Ω–æ–ø—Ü—ñ –≤ —ñ–Ω—à–æ–º—É —Ä—è–¥–∫—É   | üîÅ –∑–∞–∫—Ä–∏–≤–∞—î —Å—Ç–∞—Ä–µ –º–µ–Ω—é —ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –Ω–æ–≤–µ |

---

## üîí –î–æ–¥–∞—Ç–∫–æ–≤–æ ‚Äî –∑–∞–∫—Ä–∏–≤–∞—Ç–∏ –º–µ–Ω—é –ø—Ä–∏ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –Ω–∏–º:

```javascript
$(document).on('click', function (e) {
  if (!$(e.target).closest('.a-Button--actions, #custom-ig-menu').length) {
    $('#custom-ig-menu').hide();
    lastMenuButton = null;
  }
});
```

---

üîî –Ø–∫—â–æ –º–µ–Ω—é –º–∞—î –∞–Ω—ñ–º–∞—Ü—ñ—é –∞–±–æ `transition`, –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ `setTimeout()` –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º ‚Äî —Å–∫–∞–∂–∏, —ñ —è –∞–¥–∞–ø—Ç—É—é.
