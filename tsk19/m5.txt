–û—Å—å –ø—Ä–∏–∫–ª–∞–¥ **JavaScript-–∫–æ–¥—É**, —è–∫–∏–π:

1. –í–∏–∫–ª–∏–∫–∞—î –ø—Ä–æ—Ü–µ—Å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `SAVE_DUPLICATE_SUBTASKS`),
2. –ó–∞–∫—Ä–∏–≤–∞—î –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ,
3. –û–Ω–æ–≤–ª—é—î –≥–æ–ª–æ–≤–Ω–∏–π –∑–≤—ñ—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `IR_TASKS`).

---

### ‚úÖ **1. JS-–æ–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ ‚Äú–ó–±–µ—Ä–µ–≥—Ç–∏‚Äù**

```javascript
apex.server.process('SAVE_DUPLICATE_SUBTASKS', {
  x01: $v('P6_NEW_TASK_ID') // –∞–±–æ —ñ–Ω—à–∏–π item, —è–∫—â–æ —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ —â–æ—Å—å
}, {
  success: function(pData) {
    if (pData.status === 'ok') {
      // –ó–∞–∫—Ä–∏–≤–∞—î–º–æ –¥—ñ–∞–ª–æ–≥
      apex.navigation.dialog.close(true);

      // –û–Ω–æ–≤–ª—é—î–º–æ –≥–æ–ª–æ–≤–Ω–∏–π –∑–≤—ñ—Ç (–Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ)
      // –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π Static ID –¥–ª—è –∑–≤—ñ—Ç—É
      parent.apex.region('IR_TASKS').refresh();
    } else {
      apex.message.showErrors([
        {
          type: "error",
          location: "page",
          message: pData.message || "–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ.",
          unsafe: false
        }
      ]);
    }
  },
  error: function(request, status, error) {
    apex.message.alert("–ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º: " + error);
  }
});
```

---

### ‚úÖ **2. –£ `SAVE_DUPLICATE_SUBTASKS` (PL/SQL –ø—Ä–æ—Ü–µ—Å—ñ)** –Ω–µ –∑–∞–±—É–¥—å:

```plsql
APEX_JSON.OPEN_OBJECT;
APEX_JSON.WRITE('status', 'ok');
-- –∞–±–æ —É –≤–∏–ø–∞–¥–∫—É –ø–æ–º–∏–ª–∫–∏
-- APEX_JSON.WRITE('status', 'error');
-- APEX_JSON.WRITE('message', SQLERRM);
APEX_JSON.CLOSE_OBJECT;
```

---

### üß† –Ø–∫—â–æ –∑–≤—ñ—Ç –Ω–∞ —ñ–Ω—à—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ

–Ø–∫—â–æ –æ—Å–Ω–æ–≤–Ω–∏–π –∑–≤—ñ—Ç –Ω–µ –Ω–∞ —Ç—ñ–π —Å–∞–º—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ 1, –∞ —Ñ–æ—Ä–º–∞ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ 6 —á–∏ 7), —Ç–æ–¥—ñ:

* –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π `apex.navigation.dialog.close(true);` ‚Äî —ñ –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –¥–æ–¥–∞–π –¥–∏–Ω–∞–º—ñ—á–Ω—É –¥—ñ—é:

  * –ø–æ–¥—ñ—è: **Dialog Closed**
  * —É–º–æ–≤–∞: `Dialog Return = true`
  * –¥—ñ—è: **Refresh** ‚Üí –≤–∏–±–µ—Ä–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ä–µ–≥—ñ–æ–Ω

---

üîÅ **–ì–æ—Ç–æ–≤–∏–π –∑—Ä–æ–±–∏—Ç–∏ —Ü—é –ª–æ–≥—ñ–∫—É —á–∞—Å—Ç–∏–Ω–æ—é –∫–Ω–æ–ø–∫–∏ APEX –∞–±–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ –∑ –ø–µ—Ä–µ—Ö–æ–¥–æ–º ‚Äî –¥–∞–π –∑–Ω–∞—Ç–∏.**
