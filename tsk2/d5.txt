–î–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó **—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è** –≤ Oracle APEX –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ç–æ–≥–æ, —â–æ:  
1. **–î–∞–Ω—ñ –ø–æ –∑–∞–≤–¥–∞–Ω–Ω—é –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Oracle 10** (—á–µ—Ä–µ–∑ `dblink`).  
2. **–§–∞–π–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –Ω–∞ Oracle 12** (–æ—Å–∫—ñ–ª—å–∫–∏ `BLOB` –Ω–µ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ `dblink`).  

---

## **–†—ñ—à–µ–Ω–Ω—è**
- **–î–æ–¥–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—é `TASK_FILES` –≤ Oracle 12**, —è–∫–∞ –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ñ–∞–π–ª–∏ —ñ–∑ –ø—Ä–∏–≤‚Äô—è–∑–∫–æ—é –¥–æ `task_id`.  
- **TASKS (–æ—Å–Ω–æ–≤–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –∑–∞–≤–¥–∞–Ω—å) –∑–∞–ª–∏—à–∏—Ç–∏ –≤ Oracle 10**, –∞ —Ñ–∞–π–ª–∏ –ø—ñ–¥—Ç—è–≥—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–æ.  
- **–ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ task_id —É –¥–≤–æ—Ö –±–∞–∑–∞—Ö —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ API).**  
- **–î–æ–¥–∞–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –≤ Oracle 12 –±–µ–∑ dblink**, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ API –∞–±–æ APEX-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª.  

---

## **1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –≤ Oracle 12**
```sql
CREATE TABLE TASK_FILES (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, -- –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª—É
    task_id NUMBER NOT NULL, -- ID –∑–∞–≤–¥–∞–Ω–Ω—è –∑ Oracle 10
    file_name VARCHAR2(255) NOT NULL, -- –ù–∞–∑–≤–∞ —Ñ–∞–π–ª—É
    mime_type VARCHAR2(100) NOT NULL, -- MIME-—Ç–∏–ø (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, application/pdf)
    file_data BLOB NOT NULL, -- –í–ª–∞—Å–Ω–µ —Ñ–∞–π–ª
    uploaded_by NUMBER NOT NULL, -- ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —è–∫–∏–π –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤ —Ñ–∞–π–ª
    uploaded_at TIMESTAMP DEFAULT SYSTIMESTAMP, -- –î–∞—Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    CONSTRAINT FK_TASK_FILES_TASK FOREIGN KEY (task_id) REFERENCES TASKS@DBLINK_TO_ORACLE10 (id) ON DELETE CASCADE
);
```
‚úÖ **–û—Å–Ω–æ–≤–Ω—ñ –ø–æ–ª—è**:
- `task_id` ‚Äì ID –∑–∞–≤–¥–∞–Ω–Ω—è, —è–∫–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Oracle 10.
- `file_name`, `mime_type`, `file_data` ‚Äì –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ —ó—Ö —Ç–∏–ø–∞–º–∏.
- `uploaded_by`, `uploaded_at` ‚Äì –¥–æ–∑–≤–æ–ª—è—é—Ç—å —Ñ—ñ–∫—Å—É–≤–∞—Ç–∏, —Ö—Ç–æ —Ç–∞ –∫–æ–ª–∏ –¥–æ–¥–∞–≤ —Ñ–∞–π–ª.

---

## **2. –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ PL/SQL –ø—Ä–æ—Ü–µ–¥—É—Ä—É**
–û—Å–∫—ñ–ª—å–∫–∏ Oracle APEX –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ä–æ–±–æ—Ç—É –∑ `BLOB`, –º–æ–∂–Ω–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—É –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤:
```sql
CREATE OR REPLACE PROCEDURE ADD_TASK_FILE (
    p_task_id IN NUMBER,
    p_file_name IN VARCHAR2,
    p_mime_type IN VARCHAR2,
    p_file_data IN BLOB,
    p_uploaded_by IN NUMBER
) AS
BEGIN
    INSERT INTO TASK_FILES (task_id, file_name, mime_type, file_data, uploaded_by)
    VALUES (p_task_id, p_file_name, p_mime_type, p_file_data, p_uploaded_by);
    COMMIT;
END;
/
```
‚úÖ **–¶—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —É APEX**, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î —Ñ–∞–π–ª.

---

## **3. –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –¥–ª—è –∑–∞–≤–¥–∞–Ω–Ω—è**
–©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤ –¥–ª—è –∑–∞–≤–¥–∞–Ω–Ω—è, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏:
```sql
SELECT id, file_name, mime_type, uploaded_at, uploaded_by 
FROM TASK_FILES 
WHERE task_id = :P_TASK_ID;
```
‚úÖ **–¶–µ–π –∑–∞–ø–∏—Ç –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –≤–∏–≤–æ–¥—É —Å–ø–∏—Å–∫—É —Ñ–∞–π–ª—ñ–≤ —É –∑–≤—ñ—Ç—ñ –≤ APEX.**

---

## **4. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É —É APEX**
–í APEX –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É –∑–∞ `id`:
```sql
CREATE OR REPLACE FUNCTION GET_TASK_FILE (p_file_id IN NUMBER) 
RETURN BLOB 
AS
    v_file BLOB;
BEGIN
    SELECT file_data INTO v_file FROM TASK_FILES WHERE id = p_file_id;
    RETURN v_file;
END;
/
```
‚úÖ **–¶—è —Ñ—É–Ω–∫—Ü—ñ—è –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –∑–∞ `file_id` —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—Ö —É APEX –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.**

---

## **5. –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –≤ Oracle APEX?**
1. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î —Ñ–∞–π–ª** ‚Äì –≤—ñ–Ω –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è –≤ `TASK_FILES` (Oracle 12).
2. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î –∑–∞–≤–¥–∞–Ω–Ω—è** ‚Äì –∑–∞–≤–¥–∞–Ω–Ω—è –ø—ñ–¥—Ç—è–≥—É—é—Ç—å—Å—è –∑ Oracle 10 (`DBLINK`), –∞ —Ñ–∞–π–ª–∏ ‚Äì —ñ–∑ `TASK_FILES` (Oracle 12).
3. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ñ–∞–π–ª** ‚Äì –≤—ñ–Ω –æ—Ç—Ä–∏–º—É—î –π–æ–≥–æ –Ω–∞–ø—Ä—è–º—É –∑ Oracle 12 –±–µ–∑ dblink.

---

## **6. –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∑–∞–≤–¥–∞–Ω—å —ñ–∑ —Ñ–∞–π–ª–∞–º–∏?**
–û—Å–∫—ñ–ª—å–∫–∏ `TASKS` –≤ Oracle 10, –∞ `TASK_FILES` –≤ Oracle 12, –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ `JOIN` —á–µ—Ä–µ–∑ `DBLINK`:
```sql
SELECT t.id AS task_id, t.task_content, f.id AS file_id, f.file_name, f.mime_type
FROM TASKS@DBLINK_TO_ORACLE10 t
LEFT JOIN TASK_FILES f ON t.id = f.task_id
WHERE t.id = :P_TASK_ID;
```
‚úÖ **–¶–µ–π –∑–∞–ø–∏—Ç –ø–æ–∫–∞–∂–µ –∑–∞–≤–¥–∞–Ω–Ω—è —Ä–∞–∑–æ–º —ñ–∑ —Ñ–∞–π–ª–∞–º–∏.**

---

## **–í–∏—Å–Ω–æ–≤–æ–∫**
‚úî **–§–∞–π–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Oracle 12 (–±–æ dblink –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î BLOB)**  
‚úî **–û—Å–Ω–æ–≤–Ω—ñ –¥–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω—å –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤ Oracle 10**  
‚úî **APEX –ø—Ä–∞—Ü—é—î –∑ –¥–≤–æ–º–∞ –ë–î –±–µ–∑ –ø—Ä–æ–±–ª–µ–º (–¥–∞–Ω—ñ + —Ñ–∞–π–ª–∏ –æ–∫—Ä–µ–º–æ)**  
‚úî **–Ñ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏, –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏, –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏**  

–¢–∞–∫–∞ —Å—Ö–µ–º–∞ –¥–æ–∑–≤–æ–ª—è—î **–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏ –±–µ–∑ –∑–º—ñ–Ω–∏ –æ—Å–Ω–æ–≤–Ω–æ—ó –ë–î –Ω–∞ Oracle 10** üöÄ