–¶–µ —á—É–¥–æ–≤–µ —Ç–∞ —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –¥–ª—è –∂—É—Ä–Ω–∞–ª—É –∑–∞–≤–¥–∞–Ω—å! üëá –û—Å—å —è–∫ **–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è** –≤ Oracle APEX + Oracle DB:

---

## üîπ **1. –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–¥–µ—è**
–°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—è **—à–∞–±–ª–æ–Ω—ñ–≤ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å**, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å:
- —Ç–µ–∫—Å—Ç –∑–∞–≤–¥–∞–Ω–Ω—è,
- –ø–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ—Å—Ç—å (—É –¥–Ω—è—Ö, –≥–æ–¥–∏–Ω–∞—Ö...),
- —Å–ø–∏—Å–æ–∫ –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤,
- –Ω–∞—Å—Ç—É–ø–Ω—É –¥–∞—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è,
- –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —à–∞–±–ª–æ–Ω—É.

–ü–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è **–Ω–µ —Å—Ç–≤–æ—Ä—é—î –æ–¥—Ä–∞–∑—É –∑–∞–ø–∏—Å —É `TASKS`**, –∞ –ª–∏—à–µ **—à–∞–±–ª–æ–Ω**, —è–∫–∏–π **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é JOB (DBMS_SCHEDULER)** –∞–±–æ **APEX Automation**.

---

## ‚úÖ **2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—å**

### üî∏ `PERIODIC_TASK_TEMPLATE`
```sql
CREATE TABLE PERIODIC_TASK_TEMPLATE (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TASK_CONTENT VARCHAR2(4000),
    PERIOD_DAYS NUMBER NOT NULL, -- –∫–æ–∂–Ω—ñ N –¥–Ω—ñ–≤
    NEXT_RUN_DATE DATE,          -- –∫–æ–ª–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä–∞–∑—É —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è
    IS_ACTIVE CHAR(1) DEFAULT 'Y' CHECK (IS_ACTIVE IN ('Y','N')),
    CREATOR_ID NUMBER,
    DEPARTMENT_ID NUMBER,
    CREATED_DATE DATE DEFAULT SYSDATE
);
```

### üî∏ `PERIODIC_TASK_EXECUTORS`
```sql
CREATE TABLE PERIODIC_TASK_EXECUTORS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TEMPLATE_ID NUMBER REFERENCES PERIODIC_TASK_TEMPLATE(ID),
    USER_ID NUMBER,
    POSITION_ID NUMBER,
    DEPARTMENT_ID NUMBER,
    UNIT_ID NUMBER
);
```

---

## üîπ **3. –Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å**

### ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 1: **DBMS_SCHEDULER (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–ø–∏—Å—ñ–≤)**

1. –°—Ç–≤–æ—Ä—é—î–º–æ PL/SQL-–ø—Ä–æ—Ü–µ–¥—É—Ä—É:
```sql
CREATE OR REPLACE PROCEDURE GENERATE_PERIODIC_TASKS AS
BEGIN
  FOR t IN (
    SELECT * FROM PERIODIC_TASK_TEMPLATE 
    WHERE IS_ACTIVE = 'Y'
      AND NEXT_RUN_DATE <= SYSDATE
  ) LOOP
    -- –°—Ç–≤–æ—Ä—é—î–º–æ –∑–∞–ø–∏—Å —É TASKS
    INSERT INTO TASKS (TASK_CONTENT, DATE_CREATE, PLANNING_DATE_END, STATUS, DEPARTMENT)
    VALUES (
      t.TASK_CONTENT, SYSDATE, SYSDATE + t.PERIOD_DAYS, 1, t.DEPARTMENT_ID
    )
    RETURNING ID INTO :new_task_id;

    -- –î–æ–¥–∞—î–º–æ –≤ SOURCE
    INSERT INTO SOURCE (PAGE_LIST_ID, RECORD_ID, CREATOR_BY, CREATED_DATE)
    VALUES ((SELECT ID FROM DICT_PAGE_LIST WHERE PAGE_ID = 1 AND APPLIST_ID = :APP_ID),
            :new_task_id, t.CREATOR_ID, SYSDATE);

    -- –ü—Ä–∏–≤‚Äô—è–∑—É—î–º–æ –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤ –∑ —à–∞–±–ª–æ–Ω—É
    INSERT INTO SIGNATURERIGHTS (SOURCE_ID, USER_ID, POSITION_ID, DEPARTMENT_ID, UNIT_ID, STAGES_ID)
    SELECT :new_task_id, USER_ID, POSITION_ID, DEPARTMENT_ID, UNIT_ID, 2
    FROM PERIODIC_TASK_EXECUTORS WHERE TEMPLATE_ID = t.ID;

    -- –û–Ω–æ–≤–ª—é—î–º–æ –¥–∞—Ç—É –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É
    UPDATE PERIODIC_TASK_TEMPLATE
    SET NEXT_RUN_DATE = SYSDATE + t.PERIOD_DAYS
    WHERE ID = t.ID;
  END LOOP;
  COMMIT;
END;
```

2. **–ü–ª–∞–Ω—É—î–º–æ –∑–∞–ø—É—Å–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–∂–Ω—ñ 15 —Ö–≤–∏–ª–∏–Ω):**
```sql
BEGIN
  DBMS_SCHEDULER.CREATE_JOB (
    job_name        => 'JOB_GENERATE_PERIODIC_TASKS',
    job_type        => 'PLSQL_BLOCK',
    job_action      => 'BEGIN GENERATE_PERIODIC_TASKS; END;',
    start_date      => SYSTIMESTAMP,
    repeat_interval => 'FREQ=MINUTELY; INTERVAL=15',
    enabled         => TRUE
  );
END;
```

---

### ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 2: **APEX Automation**
(–ø—Ä–æ—Å—Ç—ñ—à–µ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —á–µ—Ä–µ–∑ APEX UI, –∞–ª–µ –º–µ–Ω—à –≥–Ω—É—á–∫–æ)

1. –°—Ç–≤–æ—Ä—é—î—à **Automation** –Ω–∞ –±–∞–∑—ñ `PERIODIC_TASK_TEMPLATE`:
   - –£–º–æ–≤–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó: `NEXT_RUN_DATE <= SYSDATE AND IS_ACTIVE = 'Y'`
2. –£ `PL/SQL` –∫—Ä–æ—Ü—ñ –ø—Ä–æ–ø–∏—Å—É—î—à —Ç—É –∂ –ª–æ–≥—ñ–∫—É –≤—Å—Ç–∞–≤–∫–∏ –≤ `TASKS`, `SOURCE`, `SIGNATURERIGHTS`, —â–æ –π —É –ø—Ä–æ—Ü–µ–¥—É—Ä—ñ –≤–∏—â–µ.

---

## üîπ **4. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤ APEX UI**

1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É "–ü–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è"**
   - –¢–∏–ø: **Interactive Report**
   - –î–∂–µ—Ä–µ–ª–æ: `PERIODIC_TASK_TEMPLATE`

2. **–ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ —à–∞–±–ª–æ–Ω" ‚Üí Modal Form**
   - –ü–æ–ª—è:
     - `TASK_CONTENT` ‚Äì textarea
     - `PERIOD_DAYS` ‚Äì number field
     - `NEXT_RUN_DATE` ‚Äì date picker (–ø–æ—á–∞—Ç–æ–∫)
     - `IS_ACTIVE` ‚Äì switch Y/N
     - **–í–∏–∫–æ–Ω–∞–≤—Ü—ñ** ‚Äì —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≥—Ä—ñ–¥–∞ (IG), –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ `PERIODIC_TASK_EXECUTORS`

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è CREATOR_ID —Ç–∞ DEPARTMENT_ID**
   - `Default Value`: `:APP_USER` —ñ `:P0_USER_DEPARTMENT`

---

## üîπ **5. –û–ø—Ç–∏–º–∞–ª—å–Ω—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏**
‚úÖ **–®–∞–±–ª–æ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –æ–∫—Ä–µ–º–æ ‚Üí –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –æ—Å–Ω–æ–≤–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ `TASKS`**  
‚úÖ **–°–∫–∞–ª—è—Ä–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è ‚Äî NEXT_RUN_DATE, PERIOD_DAYS**  
‚úÖ **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `DBMS_SCHEDULER`** ‚Äî —ñ–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å  
‚úÖ **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤ ‚Äî –æ–∫—Ä–µ–º–∞ —Ç–∞–±–ª–∏—Ü—è**  
‚úÖ **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é ‚Äî `IS_ACTIVE`**  

---

## ‚úÖ **–†–µ–∑—é–º–µ**
| –ï–ª–µ–º–µ–Ω—Ç                | –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è                       |
|------------------------|----------------------------------|
| –®–∞–±–ª–æ–Ω –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è | `PERIODIC_TASK_TEMPLATE`          |
| –í–∏–∫–æ–Ω–∞–≤—Ü—ñ —à–∞–±–ª–æ–Ω—É      | `PERIODIC_TASK_EXECUTORS`         |
| –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–∞–¥–∞—á        | `DBMS_SCHEDULER` –∞–±–æ APEX Automation |
| –ó–∞–ø–∏—Å —É TASKS / SOURCE | –ß–µ—Ä–µ–∑ PL/SQL (—è–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤–∏—â–µ) |
| –í—ñ–∑—É–∞–ª—å–Ω–∞ —Ñ–æ—Ä–º–∞        | APEX Modal Form + IG –¥–ª—è –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤ |

---

üõ†Ô∏è –•–æ—á–µ—à ‚Äî –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –Ω–∞–ø–∏—Å–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é APEX-—Ñ–æ—Ä–º—É + –≥—Ä—ñ–¥—É –¥–ª—è –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤.  
üì¶ –ú–æ–∂–µ–º–æ —Ç–∞–∫–æ–∂ –ø–µ—Ä–µ–¥–±–∞—á–∏—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —â–æ—Ç–∏–∂–Ω–µ–≤–∏—Ö / —â–æ–º—ñ—Å—è—á–Ω–∏—Ö / cron-—ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤, —è–∫—â–æ —Ç—Ä–µ–±–∞.

üîÅ –ü—Ä–æ–¥–æ–≤–∂–∏–º–æ –∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é?