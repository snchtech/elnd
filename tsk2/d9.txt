–¢–∞–∫, **–º–æ–∂–Ω–∞**! –Ü —Ü–µ —Ü—ñ–ª–∫–æ–º **—Ä–æ–±–æ—á–∏–π –ø—ñ–¥—Ö—ñ–¥**, —è–∫—â–æ —Ç–æ–±—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –Ω–∞–¥—Å–∫–ª–∞–¥–Ω–∞ –ª–æ–≥—ñ–∫–∞.

---

## ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å
–¢–∏ –º–æ–∂–µ—à **–∑–∞–ª–∏—à–∏—Ç–∏ –≤—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤ –æ–¥–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ `TASKS`** —ñ –ø—Ä–æ—Å—Ç–æ:
- –î–æ–¥–∞—Ç–∏ **–æ–∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –∑–∞–≤–¥–∞–Ω–Ω—è —î –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–º**.
- –í–∫–∞–∑–∞—Ç–∏ **–ø–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ—Å—Ç—å (–≤ –¥–Ω—è—Ö –∞–±–æ cron-—Ñ–æ—Ä–º–∞—Ç—ñ)**.
- –í–∫–∞–∑–∞—Ç–∏ **–Ω–∞—Å—Ç—É–ø–Ω—É –¥–∞—Ç—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)**.

---

## üîß ALTER TABLE TASKS

```sql
-- 1. –ß–∏ —Ü–µ —à–∞–±–ª–æ–Ω –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è
ALTER TABLE TASKS ADD IS_PERIODIC CHAR(1) DEFAULT 'N' CHECK (IS_PERIODIC IN ('Y','N'));

-- 2. –ü–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ—Å—Ç—å —É –¥–Ω—è—Ö (–∫–æ–∂–Ω—ñ 7 –¥–Ω—ñ–≤ —Ç–æ—â–æ)
ALTER TABLE TASKS ADD PERIOD_DAYS NUMBER;

-- 3. –î–∞—Ç–∞ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
ALTER TABLE TASKS ADD NEXT_RUN_DATE DATE;

-- 4. –û–∑–Ω–∞–∫–∞, —á–∏ —Ü–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è (–∞ –Ω–µ —à–∞–±–ª–æ–Ω)
ALTER TABLE TASKS ADD IS_GENERATED CHAR(1) DEFAULT 'N' CHECK (IS_GENERATED IN ('Y','N'));

-- 5. –î–∞—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó (–º–æ–∂–µ = SYSDATE)
ALTER TABLE TASKS ADD GENERATED_DATE DATE;
```

---

## üîé –Ø–∫ –≤–∏–≥–ª—è–¥–∞—Ç–∏–º–µ —Ç–∞–±–ª–∏—Ü—è –ª–æ–≥—ñ—á–Ω–æ

| TASK_ID | TASK_CONTENT               | IS_PERIODIC | PERIOD_DAYS | NEXT_RUN_DATE | IS_GENERATED | GENERATED_DATE |
|---------|----------------------------|-------------|-------------|----------------|---------------|-----------------|
| 1       | "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä—ñ–≤"       | Y           | 7           | 20.03.2025     | N             | (null)          |
| 2       | "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä—ñ–≤"       | N           | null        | null           | Y             | 13.03.2025      |
| 3       | "–ó–≤–∏—á–∞–π–Ω–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–µ –∑–∞–≤–¥."| N           | null        | null           | N             | null            |

---

## ‚öôÔ∏è –Ø–∫ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫–∞:

1. –£ `TASKS` —î **—à–∞–±–ª–æ–Ω–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ `IS_PERIODIC = 'Y'`**.
2. APEX Automation / JOB –≤–∏–∫–æ–Ω—É—î:
   - –ó–Ω–∞—Ö–æ–¥–∏—Ç—å —É—Å—ñ –∑–∞–ø–∏—Å–∏ `IS_PERIODIC = 'Y' AND NEXT_RUN_DATE <= SYSDATE`.
   - –°—Ç–≤–æ—Ä—é—î –∫–æ–ø—ñ—é —Ü—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è:
     ```sql
     INSERT INTO TASKS (
       TASK_CONTENT, PLANNING_DATE_END, CREATOR_ID, DEPARTMENT_ID,
       UNIT_ID, TYPE_ID, STATUS_ID,
       IS_GENERATED, GENERATED_DATE
     ) SELECT
       TASK_CONTENT, SYSDATE + PERIOD_DAYS, CREATOR_ID, DEPARTMENT_ID,
       UNIT_ID, TYPE_ID, STATUS_ID,
       'Y', SYSDATE
     FROM TASKS
     WHERE ID = :template_id;
     ```
   - –û–Ω–æ–≤–ª—é—î `NEXT_RUN_DATE := SYSDATE + PERIOD_DAYS`.

---

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ —Ü—å–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É

| –ü–ª—é—Å–∏                                                   | –ú—ñ–Ω—É—Å–∏ (–≤—ñ–¥–Ω–æ—Å–Ω–æ —Å–∫–ª–∞–¥–Ω–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤)              |
|----------------------------------------------------------|--------------------------------------------------|
| ‚úî –ú—ñ–Ω—ñ–º—É–º –Ω–æ–≤–∏—Ö —Ç–∞–±–ª–∏—Ü—å                                  | ‚úñ –û–¥–∏–Ω —à–∞–±–ª–æ–Ω ‚Äî –æ–¥–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è (–≤–∞–∂–∫–æ –∑ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏) |
| ‚úî –ü—Ä–æ—Å—Ç–∞ –ª–æ–≥—ñ–∫–∞                                          | ‚úñ –ù–µ–º–∞—î —Å–ø–∏—Å–∫—É –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤ —à–∞–±–ª–æ–Ω—É, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–¥–∞–≤–∞—Ç–∏ |
| ‚úî –®–≤–∏–¥–∫–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —É APEX                               | ‚úñ –£—Å—ñ —Ç–∏–ø–∏ –∑–∞–≤–¥–∞–Ω—å –≤ –æ–¥–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ (–º–æ–∂–µ —É—Å–∫–ª–∞–¥–Ω–∏—Ç–∏ –∞–Ω–∞–ª—ñ–∑) |

---

## üìå –ü–æ—Ä–∞–¥–∞

–¶–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç **—ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å**, —è–∫—â–æ:

- –¢–æ–±—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∫–ª–∞–¥–Ω–∞ –ª–æ–≥—ñ–∫–∞ —à–∞–±–ª–æ–Ω—ñ–≤ –∑ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏.
- –¢–∏ —Ö–æ—á–µ—à —à–≤–∏–¥–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ MVP —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ—Å—Ç—ñ.
- –Ü–¥–µ—è: "–®–∞–±–ª–æ–Ω ‚Äî —Ü–µ —Ç–µ–∂ –ø—Ä–æ—Å—Ç–æ –∑–∞–≤–¥–∞–Ω–Ω—è, —è–∫–µ —Å–µ–±–µ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –∫–ª–æ–Ω–∏—Ç—å".

---

üì¶ –Ø–∫—â–æ —Ç–∏ –∑–∞—Ö–æ—á–µ—à –ø–æ—Ç—ñ–º –¥–æ–¥–∞—Ç–∏ —à–∞–±–ª–æ–Ω–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –ª–µ–≥–∫–æ –ø–µ—Ä–µ–Ω–µ—Å–µ—à —à–∞–±–ª–æ–Ω–∏ –≤ –æ–∫—Ä–µ–º—É —Ç–∞–±–ª–∏—Ü—é.

üöÄ –•–æ—á–µ—à ‚Äî –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ SQL-–ª–æ–≥—ñ–∫–æ—é –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –Ω–æ–≤–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –±–∞–∑—ñ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω—É.

–ì–æ—Ç–æ–≤–∏–π —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ü–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç?