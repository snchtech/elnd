–Ø–∫—â–æ —Ç–∏ —Ö–æ—á–µ—à –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ **–º–Ω–æ–∂–∏–Ω–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–Ω—ñ–≤ —Ç–∏–∂–Ω—è (1:3:6)** –Ω–µ —è–∫ `VARCHAR2`, –∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ, —è–∫–∏–π:

* —î **–≥–Ω—É—á–∫–∏–º** –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤ —ñ –æ–±—Ä–æ–±–∫–∏;
* –Ω–µ –≤–∏–º–∞–≥–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–∫—Ä–µ–º–æ—ó –∑–≤‚Äô—è–∑–∞–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ;
* –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è **–≤ –º–µ–∂–∞—Ö –æ–¥–Ω—ñ—î—ó —Ç–∞–±–ª–∏—Ü—ñ `TASK_TEMPLATES`**,

—Ç–æ –æ—Å—å **—Ç—Ä–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏**, –∑ —è–∫–∏—Ö **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π ‚Äî –≤–∞—Ä—ñ–∞–Ω—Ç –∑ Oracle Collection (nested table –∞–±–æ VARRAY)**:

---

### ‚úÖ **–í–∞—Ä—ñ–∞–Ω—Ç 1: VARRAY –∑ NUMBER**

**–û–≥–æ–ª–æ—Å–∏—Ç–∏ —Ç–∏–ø:**

```sql
CREATE OR REPLACE TYPE WEEK_DAYS_VARRAY AS VARRAY(7) OF NUMBER;
```

**–£ —Ç–∞–±–ª–∏—Ü—ñ `TASK_TEMPLATES`:**

```sql
ALTER TABLE TASK_TEMPLATES ADD WEEKLY_DAY WEEK_DAYS_VARRAY;
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**

* –ó–Ω–∞—á–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —è–∫ –º–∞—Å–∏–≤ —á–∏—Å–µ–ª (1‚Äì7).
* –õ–µ–≥–∫–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –≤—Ö–æ–¥–∏—Ç—å –ø–µ–≤–Ω–∏–π –¥–µ–Ω—å —Ç–∏–∂–Ω—è: `DAY_ID MEMBER OF WEEKLY_DAY`.
* –ü—Ä–∞—Ü—é—î –±–µ–∑ –æ–∫—Ä–µ–º–æ—ó —Ç–∞–±–ª–∏—Ü—ñ.

**–ü—Ä–∏–∫–ª–∞–¥ –≤—Å—Ç–∞–≤–∫–∏:**

```sql
INSERT INTO TASK_TEMPLATES (ID, WEEKLY_DAY) VALUES (123, WEEK_DAYS_VARRAY(1, 3, 6));
```

**–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:**

```sql
SELECT * FROM TASK_TEMPLATES t
WHERE 3 MEMBER OF t.WEEKLY_DAY;
```

---

### ‚úÖ **–í–∞—Ä—ñ–∞–Ω—Ç 2: BINARY-–º–∞—Å–∫–∞ (–±—ñ—Ç–æ–≤–∞ –º–∞—Å–∫–∞ 7 –±—ñ—Ç)**

–ú–æ–∂–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —è–∫ `NUMBER(3)` –∑–Ω–∞—á–µ–Ω–Ω—è —É —Ñ–æ—Ä–º–∞—Ç—ñ –±—ñ—Ç–æ–≤–æ—ó –º–∞—Å–∫–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

| –î–Ω—ñ —Ç–∏–∂–Ω—è  | –ë—ñ—Ç–æ–≤–∞ –º–∞—Å–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è |
| ---------- | ------------ | -------- |
| –ù–¥ (1)     | `0000001`    | 1        |
| –ü–Ω (2)     | `0000010`    | 2        |
| –°—Ä+–ü—Ç      | `0010100`    | 20       |
| –ü–Ω, –°—Ä, –ü—Ç | `0010110`    | 22       |

**–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è:**

```sql
ALTER TABLE TASK_TEMPLATES ADD WEEKLY_DAY_MASK NUMBER(3);
```

**–û–±—Ä–æ–±–∫–∞ –≤ PL/SQL:**

```plsql
-- –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–µ–Ω—å —Ç–∏–∂–Ω—è = 3 (–≤—ñ–≤—Ç–æ—Ä–æ–∫)
IF BITAND(WEEKLY_DAY_MASK, POWER(2, 3-1)) > 0 THEN
  -- —î –≤ —Å–ø–∏—Å–∫—É
END IF;
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**

* –î—É–∂–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è.
* –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —â–æ—Ç–∏–∂–Ω–µ–≤–∏—Ö —Ä–æ–∑–∫–ª–∞–¥—ñ–≤.
* –ú—ñ–Ω—ñ–º—É–º –ø–∞–º‚Äô—è—Ç—ñ.

---

### üü° **–í–∞—Ä—ñ–∞–Ω—Ç 3 (–ø–æ—Ç–æ—á–Ω–∏–π): VARCHAR2 –∑ —Ä–æ–∑–¥—ñ–ª—é–≤–∞—á–µ–º `1:3:6`**

–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏, —è–∫—â–æ –ø–ª–∞–Ω—É—é—Ç—å—Å—è —á–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∏ –∞–±–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏. –Ø–∫—â–æ –≤—Å–µ –∂ –∑–∞–ª–∏—à–∞—Ç–∏ —Ü–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç ‚Äî –æ–±—Ä–æ–±–ª—è–π —á–µ—Ä–µ–∑ `APEX_STRING.SPLIT`.

---

### üîé **–ü–æ—Ä–∞–¥–∞**

–û—Å–∫—ñ–ª—å–∫–∏ —Ç–∏ **–Ω–µ —Ö–æ—á–µ—à –≤–∏—Ö–æ–¥–∏—Ç–∏ –∑–∞ –º–µ–∂—ñ `TASK_TEMPLATES`** —ñ –ø—Ä–∏ —Ü—å–æ–º—É –±–∞–∂–∞—î—à "—Ü–∏—Ñ—Ä–æ–≤–µ" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è, **—Ä–µ–∫–æ–º–µ–Ω–¥—É—é `VARRAY` (–≤–∞—Ä—ñ–∞–Ω—Ç 1)** ‚Äî —Ü–µ —ñ —î **—Ç–∏–ø–æ–≤–∞ Oracle-–ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º–∞—Å–∏–≤—ñ–≤ —á–∏—Å–µ–ª —É –ø–æ–ª—ñ –æ–¥–Ω—ñ—î—ó —Ç–∞–±–ª–∏—Ü—ñ**.

---

üîß –Ø–∫—â–æ —Å–∫–∞–∂–µ—à, —è–∫—É —Å–∞–º–µ APEX —Ñ–æ—Ä–º—É —ñ –æ–±—Ä–æ–±–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à ‚Äî –º–æ–∂—É –ø—ñ–¥–∫–∞–∑–∞—Ç–∏, —è–∫ –∑ –Ω–µ—ó –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ —á–∏—Ç–∞—Ç–∏ `VARRAY`.
