–í Oracle APEX –¥–ª—è —Ç–∞–∫–∏—Ö —É–º–æ–≤ –Ω–∞–π–∫—Ä–∞—â–µ —Ä—ñ—à–µ–Ω–Ω—è ‚Äî **–¥–æ–¥–∞—Ç–∏ –æ–∫—Ä–µ–º—É –∫–æ–ª–æ–Ω–∫—É ‚Äú–ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏‚Äù**, —è–∫–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –≤ SQL –∑–∞–ø–∏—Ç—ñ —ñ **–≤–∏–¥–∏–º–∞ –ª–∏—à–µ —É —Ä–µ–∂–∏–º—ñ `PROBLEM`**. –û—Å—å –¥–µ—Ç–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ üëá

---

## ‚úÖ **1. –î–æ–¥–∞—î–º–æ –Ω–æ–≤—É –∫–æ–ª–æ–Ω–∫—É –≤ SQL –∑–∞–ø–∏—Ç Interactive Report**

–ü—Ä–∏–∫–ª–∞–¥ —á–∞—Å—Ç–∏–Ω–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ SQL-–∑–∞–ø–∏—Ç—É:

```sql
SELECT
  t.ID,
  t.TASK_CONTENT,
  t.PLANNING_DATE_END,
  t.ACTUAL_DATE_END,
  t.PAGE_LIST_ID,
  -- —ñ–Ω—à—ñ –ø–æ–ª—è...

  CASE
    WHEN :PXX_TAB_MODE = 'PROBLEM' THEN
      CASE
        WHEN t.PLANNING_DATE_END < SYSDATE AND t.ACTUAL_DATE_END IS NULL THEN '–ü—Ä–æ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è'
        WHEN EXISTS (
          SELECT 1
          FROM DICT_APP_CONFIRM_LIST d
          WHERE d.PAGE_LIST_ID = t.PAGE_LIST_ID
            AND NOT EXISTS (
              SELECT 1
              FROM SIGNATURERIGHTS r
              WHERE r.TASK_ID = t.ID AND r.STAGES_ID = d.STAGE
            )
        ) THEN '–ù–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è'
        ELSE NULL
      END
    ELSE NULL
  END AS PROBLEM_REASON

FROM TASKS t
-- —ñ–Ω—à—ñ JOIN-–∏
```

---

## üß© **2. –£ –∑–≤—ñ—Ç—ñ APEX:**

* –ù–∞–∑–≤–∏ –∫–æ–ª–æ–Ω–∫—É `PROBLEM_REASON` ‚Äî ‚Äú–ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏‚Äù
* **–ó—Ä–æ–±–∏ —ó—ó –≤–∏–¥–∏–º–æ—é –ª–∏—à–µ –ø—Ä–∏ —Ä–µ–∂–∏–º—ñ `PROBLEM`**

  * –£–≤—ñ–º–∫–Ω–∏ *Server-side Condition* ‚Üí `Value of Item/Column` = `PXX_TAB_MODE`, Equals = `'PROBLEM'`
* **–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ:** —è–∫—â–æ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à CSS, –º–æ–∂–Ω–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–æ —Ö–æ–≤–∞—Ç–∏/–ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–æ–ª–æ–Ω–∫—É –∑–∞ JS

---

## ‚ú® –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –í—ñ–∑—É–∞–ª—å–Ω–µ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è (—ñ–∫–æ–Ω–∫–∞ –∞–±–æ –∫–æ–ª—ñ—Ä)

–ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ HTML –∫–æ–ª–æ–Ω–∫—É `STATUS_LABEL`:

```sql
CASE
  WHEN :PXX_TAB_MODE = 'PROBLEM' THEN
    CASE
      WHEN t.PLANNING_DATE_END < SYSDATE AND t.ACTUAL_DATE_END IS NULL THEN 
        '<span class="t-Icon fa fa-clock-o" style="color:red;" title="–ü—Ä–æ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è"></span>'
      WHEN EXISTS (
        SELECT 1
        FROM DICT_APP_CONFIRM_LIST d
        WHERE d.PAGE_LIST_ID = t.PAGE_LIST_ID
          AND NOT EXISTS (
            SELECT 1
            FROM SIGNATURERIGHTS r
            WHERE r.TASK_ID = t.ID AND r.STAGES_ID = d.STAGE
          )
      ) THEN 
        '<span class="t-Icon fa fa-exclamation-circle" style="color:orange;" title="–ù–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è"></span>'
      ELSE NULL
    END
  ELSE NULL
END AS STATUS_LABEL
```

* –í—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ —Ü–µ —è–∫ **HTML Expression** —É –∑–≤—ñ—Ç—ñ.

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

| ID  | TASK\_CONTENT    | PLANNING\_DATE\_END | ... | **–ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏**    |
| --- | ---------------- | ------------------- | --- | ----------------------- |
| 101 | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–∞–Ω—ñ  | 05.06.2025          |     | –ü—Ä–æ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è |
| 102 | –ü–æ–≥–æ–¥–∂–µ–Ω–Ω—è –µ—Ç–∞–ø—É | 07.06.2025          |     | –ù–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è  |

---

üîß –•–æ—á–µ—à ‚Äî –º–æ–∂—É –æ–¥—Ä–∞–∑—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤—Å—Ç–∞–≤–∏—Ç–∏ —Ü–µ –≤ –ø–æ–≤–Ω–∏–π SQL-–∑–∞–ø–∏—Ç –∞–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ `Dynamic Action` –Ω–∞ –∑–º—ñ–Ω—É –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–æ–ª–æ–Ω–∫–∏.
