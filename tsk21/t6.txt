–¶–µ **—Ñ—É–Ω–∫—Ü—ñ—è –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É (callback function)** ‚Äî –≤–æ–Ω–∞ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç —É `showCustomConfirm(...)` —ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–ø—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ "–û–ö"** —É –º–æ–¥–∞–ª—å–Ω–æ–º—É –≤—ñ–∫–Ω—ñ.

–û—Å—å —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:

---

### üîÅ –Ø–∫ –ø—Ä–∞—Ü—é—î `onConfirmCallback(reason)`

–ö–æ–ª–∏ –≤–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ:

```js
showCustomConfirm(function(reasonText) {
  // –ö–æ–¥ —Ç—É—Ç –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è "–û–ö"
  console.log("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤—ñ–≤ –ø—Ä–∏—á–∏–Ω—É:", reasonText);
});
```

–í–∞—à–∞ —Ñ—É–Ω–∫—Ü—ñ—è `showCustomConfirm` –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:

```js
function showCustomConfirm(onConfirmCallback) {
  // –ü–æ–∫–∞–∑—É—î –¥—ñ–∞–ª–æ–≥
  $('#customConfirmDialog').dialog({
    modal: true,
    buttons: {
      "–û–ö": function () {
        const reason = $('#cancelReason').val(); // –ë–µ—Ä–µ–º–æ —Ç–µ–∫—Å—Ç –∑ textarea
        $(this).dialog("close");
        onConfirmCallback(reason); // ‚Üê —Ç—É—Ç –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü—ñ—è –∑ –ø–µ—Ä–µ–¥–∞–Ω–∏–º —Ç–µ–∫—Å—Ç–æ–º
      },
      "–°–∫–∞—Å—É–≤–∞—Ç–∏": function () {
        $(this).dialog("close");
      }
    }
  });
}
```

üî∏ –¢–∞–∫–∏–º —á–∏–Ω–æ–º, **`onConfirmCallback(reason)` ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫ —Ç—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—É –≤–∏ –ø–µ—Ä–µ–¥–∞–ª–∏**, —ñ —è–∫—ñ–π –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è –≤–≤–µ–¥–µ–Ω–æ—ó –ø—Ä–∏—á–∏–Ω–∏.

---

### üìå –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```js
showCustomConfirm(function(reasonText) {
  $s('P6_CANCEL_REASON', reasonText);
  apex.server.process('ANUL_TASK', {
    x01: $v('P6_TASK_ID'),
    x02: reasonText
  });
});
```

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É:

* `reasonText` ‚Äî —Ü–µ —Ç–µ–∫—Å—Ç, —è–∫–∏–π –≤–≤—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —É textarea.
* `onConfirmCallback(reasonText)` ‚Üí –≤–∏–∫–æ–Ω—É—î –≤–∞—à—É –ª–æ–≥—ñ–∫—É –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.

---

### üîß –¶–µ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ —É JavaScript

–£ JS —Ü–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **callback pattern**. –§—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î —ñ–Ω—à—É —Ñ—É–Ω–∫—Ü—ñ—é —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä —ñ –≤–∏–∫–ª–∏–∫–∞—î —ó—ó –ø—ñ–∑–Ω—ñ—à–µ, –ø—ñ—Å–ª—è –ø–µ–≤–Ω–æ—ó –ø–æ–¥—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥—ñ–∞–ª–æ–≥—É).

–•–æ—á–µ—à ‚Äî –º–æ–∂—É –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ —Ü–µ –Ω–∞ –≤–∞—Ä—ñ–∞–Ω—Ç –±–µ–∑ callback-—Ñ—É–Ω–∫—Ü—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `P6_CANCEL_REASON` –Ω–∞–ø—Ä—è–º—É), –∞–ª–µ —Ç–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–π —ñ —Å—É—á–∞—Å–Ω–∏–π.
