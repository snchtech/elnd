–¢–∞–∫, **—Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ —Ü—ñ–ª–∫–æ–º –Ω–æ—Ä–º–∞–ª—å–Ω–∏–π —ñ –ª–æ–≥—ñ—á–Ω–∏–π**, –æ—Å–æ–±–ª–∏–≤–æ –≤—Ä–∞—Ö–æ–≤—É—é—á–∏, —â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω—É —Å–∏—Å—Ç–µ–º—É APEX Access Control** —Ç–∞ –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ, —è–∫—ñ –≤–∂–µ —î –≤ —Ç–∞–±–ª–∏—Ü—ñ `USERS`.

---

## ‚úÖ –í–∞—à –ø—ñ–¥—Ö—ñ–¥ —É –∑–∞–≥–∞–ª—å–Ω–∏—Ö —Ä–∏—Å–∞—Ö:

1. **Access Control APEX**:

   * –í–∏ –¥–æ–¥–∞—î—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ–∑ —ó—Ö —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º–∏ —Ä–æ–ª—è–º–∏ (`editor`, `moderator`, `viewer`) –≤ APEX Access Control.
   * –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –æ–±–º–µ–∂—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å—Ç–æ—Ä—ñ–Ω–æ–∫, –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –ø—Ä–æ—Ü–µ—Å—ñ–≤ —Ç–æ—â–æ.

2. **–ù–∞ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Page 0)**:

   * –í–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç–µ `position_id`, `department_id`, `unit_id` –∑ —Ç–∞–±–ª–∏—Ü—ñ `USERS`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `:APP_USER` —è–∫ `username`.

   **PL/SQL Dynamic Action / Computation –ø—Ä–∏–∫–ª–∞–¥:**

   ```plsql
   SELECT position_id, department_id, unit_id
   INTO :G_POSITION_ID, :G_DEPARTMENT_ID, :G_UNIT_ID
   FROM users
   WHERE username = :APP_USER;
   ```

   > –í–∏ –º–æ–∂–µ—Ç–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ü—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —É **–≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç–∞—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∏** (items), –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `G_POSITION_ID`.

3. **–§–æ—Ä–º–∞ –≤–∏–±–æ—Ä—É –ø—ñ–¥–ø–∏—Å–∞–Ω—Ç–∞**:

   * –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ñ–æ—Ä–º—É—î –ø—ñ–¥–ø–∏—Å–∞–Ω—Ç–∞, –≤—ñ–Ω –æ–±–∏—Ä–∞—î –∑ *–∂–∏–≤–∏—Ö* (–∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö) –¥–∞–Ω–∏—Ö ‚Äî –Ω–∞–ø—Ä. –∑ `USERS`, `POSITIONS`, `DEPARTMENTS`, `UNITS`.
   * –¶–µ –¥–æ–±—Ä–µ, –±–æ –Ω–µ –≤–∏–º–∞–≥–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è, —ñ –≤–∏ –∑–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏.

4. **–í–∏–¥–∏–º—ñ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –¥–ª—è —ñ–Ω—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**:

   * –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞—Ö–æ–¥–∏—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—ñ–¥–º—ñ—Ç–æ–∫, –π–æ–≥–æ `username` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –π–æ–≥–æ `position_id`, `department_id`, `unit_id`.
   * –î–∞–ª—ñ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è PL/SQL-—Ñ—É–Ω–∫—Ü—ñ—è –∞–±–æ —É–º–æ–≤–∞, —è–∫–∞ **–ø–æ—Ä—ñ–≤–Ω—é—î** —Ü—ñ –¥–∞–Ω—ñ –∑ —Ç–∏–º–∏, —â–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ "–ø—ñ–¥–ø–∏—Å–∞–Ω—Ç–∞" –∑–∞–≤–¥–∞–Ω–Ω—è.
   * –Ø–∫—â–æ —î —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è (–∞–±–æ –≤—ñ–Ω —É –∑–∞–º—ñ—â–µ–Ω–Ω—ñ) ‚Äî **–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞**.

---

## üìå –ü–µ—Ä–µ–≤–∞–≥–∏ —Ç–∞–∫–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É

| –ö—Ä–∏—Ç–µ—Ä—ñ–π                  | –û—Ü—ñ–Ω–∫–∞                                                                         |
| ------------------------- | ------------------------------------------------------------------------------ |
| üîÅ **–ë–µ–∑ –¥—É–±–ª—é–≤–∞–Ω–Ω—è**     | –í–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ `USERS` –Ω–∞–ø—Ä—è–º—É ‚Äî –Ω–µ —Ç—Ä–µ–±–∞ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ç–∞–±–ª–∏—Ü—å.            |
| üîí **–°—É–º—ñ—Å–Ω—ñ—Å—Ç—å —ñ–∑ APEX** | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Access Control APEX ‚Äî —Ü–µ "–≤–±—É–¥–æ–≤–∞–Ω–∏–π" –ø—ñ–¥—Ö—ñ–¥.                     |
| üõ†Ô∏è **–ì–Ω—É—á–∫—ñ—Å—Ç—å**         | –í–∏ —Å–∞–º—ñ –≤–∏–∑–Ω–∞—á–∞—î—Ç–µ –ª–æ–≥—ñ–∫—É –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–Ω–æ–ø–æ–∫ —á–µ—Ä–µ–∑ PL/SQL-—Ñ—É–Ω–∫—Ü—ñ—ó.               |
| üîÑ **–ê–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å**       | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ—Å–∞–¥—É/–≤—ñ–¥–¥—ñ–ª –∑–∞–≤–∂–¥–∏ –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É —Å—Ç–∞–Ω—ñ.                       |
| üß© **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**    | –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –∑–∞–º—ñ—â–µ–Ω–Ω—è, –¥–æ–¥–∞—Ç–∫–æ–≤—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ —Ä–æ–ª—å, –æ–±–º–µ–∂–µ–Ω–Ω—è –∑–∞ —á–∞—Å–æ–º —ñ —Ç.–¥. |

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

1. **–í–∏—Ç—è–≥ –¥–∞–Ω–∏—Ö –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ** ‚Äî –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ –∞–±–æ:

   * –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ,
   * –∞–±–æ —á–µ—Ä–µ–∑ "Before Header" –ø—Ä–æ—Ü–µ—Å.

2. **–£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏**:
   –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

   ```sql
   FUNCTION IS_SIGNER_ALLOWED (
     p_username      VARCHAR2,
     p_signer_type   VARCHAR2, -- 'USER', 'POSITION'
     p_signer_id     NUMBER,   -- –∞–±–æ user_id, –∞–±–æ position_id
     p_department_id NUMBER,
     p_unit_id       NUMBER
   ) RETURN BOOLEAN;
   ```

   * –í–æ–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏–º–µ, —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –ø—Ä–∞–≤–æ –±–∞—á–∏—Ç–∏ –∫–Ω–æ–ø–∫—É –ø—ñ–¥–ø–∏—Å—É.
   * –í—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –∑–∞–º—ñ—â–µ–Ω–Ω—è –∞–±–æ –≤–∏–Ω—è—Ç–∫—ñ–≤.

3. **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑–∞–º—ñ—â–µ–Ω–Ω—è**:
   –Ø–∫—â–æ –≤–∏ –≤—Å–µ –∂ —Ö–æ—á–µ—Ç–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ **–∑–∞–º—ñ—â–µ–Ω–Ω—è**, –¥–æ–¥–∞–π—Ç–µ –Ω–µ–≤–µ–ª–∏—á–∫—É —Å–ª—É–∂–±–æ–≤—É —Ç–∞–±–ª–∏—Ü—é `USER_SUBSTITUTION` (–∞–±–æ –∑–±–µ—Ä–µ–∂—ñ—Ç—å —Ü–µ —É –∫–æ–ª–µ–∫—Ü—ñ—ó, —è–∫—â–æ —Ç–∏–º—á–∞—Å–æ–≤–µ).

---

## üì• –ü—Ä–∏–∫–ª–∞–¥ —É–º–æ–≤–∏ –≤ APEX (Server-side condition –¥–ª—è –∫–Ω–æ–ø–∫–∏):

```plsql
RETURN IS_SIGNER_ALLOWED(:APP_USER, :P1_SIGNER_TYPE, :P1_SIGNER_ID, :P1_DEPARTMENT_ID, :P1_UNIT_ID) = TRUE;
```

–ê–±–æ, —è–∫—â–æ –ø—Ä–æ—Å—Ç—ñ—à–µ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `G_POSITION_ID`, `G_UNIT_ID`, `G_DEPARTMENT_ID` –∑ –¥–∞–Ω–∏–º–∏ –ø—ñ–¥–ø–∏—Å–∞–Ω—Ç–∞ –≤ –∑–∞–¥–∞—á—ñ.

---

## üîö –í–∏—Å–Ω–æ–≤–æ–∫:

–í–∞—à –ø—ñ–¥—Ö—ñ–¥ ‚Äî **–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π, –ª–µ–≥–∫–∏–π —É –ø—ñ–¥—Ç—Ä–∏–º—Ü—ñ** —ñ –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ **–≥–Ω—É—á–∫–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è** —á–µ—Ä–µ–∑ –æ–¥–Ω—É —Ç–æ—á–∫—É –ø—Ä–∞–≤ (Access Control APEX). –¢–∞–±–ª–∏—Ü—é `ACCESS_CONTROL` –Ω–∞ —Ä—ñ–≤–Ω—ñ –ë–î –≤–∞—Ä—Ç–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ª–∏—à–µ —è–∫—â–æ –≤–∞–º —Ç—Ä–µ–±–∞ *—Ç–æ–Ω–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤ —ñ–∑ –≥–Ω—É—á–∫–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –¥—ñ—ó –∞–±–æ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é —Ä–æ–ª–µ–π* (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ –ø—Ä–æ–µ–∫—Ç–∞—Ö –∞–±–æ –∑–º—ñ–Ω–∞—Ö).

–ß–µ–∫–∞—é –æ–ø–∏—Å—É –¥–ª—è **–ì—Ä—É–ø–∏ 3 (–∑–º—ñ–Ω–∏)** ‚Äî –º–æ–∂–µ–º–æ –æ–¥—Ä–∞–∑—É —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ —ó—ó –≤ –∑–∞–≥–∞–ª—å–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –¥–æ—Å—Ç—É–ø—É.
