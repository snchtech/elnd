–©–æ–± –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —ñ–∫–æ–Ω–∫–∏ –¥–æ –∫–æ–ª–æ–Ω–∫–∏ `ACTION_TYPE` —É –∑–≤—ñ—Ç—ñ —ñ—Å—Ç–æ—Ä—ñ—ó –∑–º—ñ–Ω (`TASK_CHANGE_LOG`), —Ç–æ–±—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ:

1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–ª–æ–Ω–∫—É** —Ç–∏–ø—É HTML –≤ SQL-–∑–∞–ø–∏—Ç—ñ.
2. **–î–æ–¥–∞—Ç–∏ –≤ –Ω–µ—ó HTML –∑ —ñ–∫–æ–Ω–∫–∞–º–∏** –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∑–Ω–∞—á–µ–Ω–Ω—è `ACTION_TYPE`.

---

### üîß –ü—Ä–∏–∫–ª–∞–¥ SQL-–∑–∞–ø–∏—Ç—É –∑ –∫–æ–ª–æ–Ω–∫–æ—é `ACTION_ICON`:

```sql
SELECT 
  LOG_DATE       AS "–î–∞—Ç–∞ –∑–º—ñ–Ω–∏",
  (SELECT u.USERNAME FROM USERS u WHERE u.ID = l.USER_ID) AS "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á",
  (SELECT f.FIELD_NAME FROM TASK_FIELD_DICT f WHERE f.ID = l.FIELD_NAME_ID) AS "–ü–æ–ª–µ",
  l.OLD_VALUE    AS "–ë—É–ª–æ",
  l.NEW_VALUE    AS "–°—Ç–∞–ª–æ",

  CASE l.ACTION_TYPE_ID
    WHEN 1 THEN '<span class="fa fa-plus-circle" style="color:green;" title="–î–æ–¥–∞–Ω–æ"></span>'
    WHEN 2 THEN '<span class="fa fa-pencil" style="color:orange;" title="–û–Ω–æ–≤–ª–µ–Ω–æ"></span>'
    WHEN 3 THEN '<span class="fa fa-trash" style="color:red;" title="–í–∏–¥–∞–ª–µ–Ω–æ"></span>'
    ELSE NULL
  END AS ACTION_ICON

FROM TASK_CHANGE_LOG l
WHERE l.OBJECT_ID = :P50_HISTORY_OBJECT_ID
  AND l.OBJECT_TYPE_ID = :P50_HISTORY_OBJECT_TYPE
ORDER BY l.LOG_DATE DESC
```

---

### üìå –î–æ–¥–∞—Ç–∫–æ–≤–æ:

* –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ `ACTION_ICON` —É –∑–≤—ñ—Ç—ñ **–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `Escape special characters = No`** (—ñ–Ω–∞–∫—à–µ —ñ–∫–æ–Ω–∫–∞ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç—å—Å—è, –±–æ –±—É–¥–µ –µ–∫—Ä–∞–Ω—ñ–∑–æ–≤–∞–Ω–∞ —è–∫ HTML).
* –ú–æ–∂–µ—à –≤–∏–Ω–µ—Å—Ç–∏ –Ω–∞–∑–≤—É –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞–∫–æ–∂ —É —Ç–µ–∫—Å—Ç–æ–≤—É –∫–æ–ª–æ–Ω–∫—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```sql
CASE l.ACTION_TYPE_ID
  WHEN 1 THEN '–î–æ–¥–∞–Ω–æ'
  WHEN 2 THEN '–û–Ω–æ–≤–ª–µ–Ω–æ'
  WHEN 3 THEN '–í–∏–¥–∞–ª–µ–Ω–æ'
END AS "–û–ø–µ—Ä–∞—Ü—ñ—è"
```

---

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

| –î–∞—Ç–∞ –∑–º—ñ–Ω–∏ | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á | –ü–æ–ª–µ     | –ë—É–ª–æ  | –°—Ç–∞–ª–æ     | üîß |
| ---------- | ---------- | -------- | ----- | --------- | -- |
| 07.06.2025 | ivanov     | Status   | –ù–æ–≤–∏–π | –í —Ä–æ–±–æ—Ç—ñ  | üñä |
| 06.06.2025 | petrenko   | –ö–æ–º–µ–Ω—Ç–∞—Ä |       | –î–æ–¥–∞–Ω–æ... | ‚ûï  |
| ...        | ...        | ...      | ...   | ...       | ‚ùå  |

---

–•–æ—á–µ—à ‚Äî –º–æ–∂—É –æ–¥—Ä–∞–∑—É –¥–æ–ø–∏—Å–∞—Ç–∏ —Å—Ç–∏–ª—å –¥–ª—è —Å—Ç–∏–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–±–æ –¥–æ–¥–∞—Ç–∏ —â–µ —ñ–Ω—à—ñ —ñ–∫–æ–Ω–∫–∏ –∑ Font Awesome.
