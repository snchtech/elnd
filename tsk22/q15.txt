–û—Å—å –ø–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è, —è–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–º–∏–∫–∞—á—ñ `–ê–∫—Ç—É–∞–ª—å–Ω—ñ` / `–ê—Ä—Ö—ñ–≤` –¥–ª—è –∂—É—Ä–Ω–∞–ª—É —à–∞–±–ª–æ–Ω—ñ–≤ (–∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–æ –∑–∞–≤–¥–∞–Ω—å):

---

## üîπ **1. –ü—Ä–∏—Ö–æ–≤–∞–Ω–∏–π item –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É**

–°—Ç–≤–æ—Ä–∏ **Hidden item** –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```
Item: P8_TAB_MODE
Default Value: ACTIVE
```

> –¶–µ –±—É–¥–µ `ACTIVE` –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤, `ARCHIVE` –¥–ª—è –∞—Ä—Ö—ñ–≤–Ω–∏—Ö.

---

## üîπ **2. –°—Ç–∞—Ç–∏—á–Ω–∏–π HTML Content –∑ –∫–Ω–æ–ø–∫–∞–º–∏**

–°—Ç–≤–æ—Ä–∏ **Static Content Region**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –∑ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º `template-tabs`, —ñ –≤—Å—Ç–∞–≤ —É –Ω—å–æ–≥–æ PL/SQL —á–µ—Ä–µ–∑ AJAX callback –∞–±–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ HTML (–¥–∏–≤. –Ω–∏–∂—á–µ).

### HTML-—à–∞–±–ª–æ–Ω:

```html
<div class="template-tabs">
  <button type="button" class="t-Button tab-btn active-tab" data-mode="ACTIVE">
    –ê–∫—Ç—É–∞–ª—å–Ω—ñ <span class="circle-badge active-count">0</span>
  </button>
  <button type="button" class="t-Button tab-btn" data-mode="ARCHIVE">
    –ê—Ä—Ö—ñ–≤
  </button>
</div>
```

---

## üîπ **3. CSS –¥–ª—è —Å—Ç–∏–ª—é –∫–Ω–æ–ø–æ–∫**

```css
.template-tabs {
  margin-bottom: 10px;
}

.tab-btn {
  margin-right: 8px;
  position: relative;
}

.circle-badge {
  background: #4682b4;
  color: white;
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 12px;
  margin-left: 5px;
}

.active-tab {
  background-color: #f3f3f3;
  border: 2px solid #0076df;
  font-weight: bold;
}
```

---

## üîπ **4. JS: –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—ñ–≤ —ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**

```javascript
$(document).on('click', '.tab-btn', function() {
  var selectedMode = $(this).data('mode');

  // –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π item
  $s("P8_TAB_MODE", selectedMode);

  // –í–∏–¥–∞–ª–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω–∏–π –∫–ª–∞—Å –∑ —É—Å—ñ—Ö, –¥–æ–¥–∞—Ç–∏ –ª–∏—à–µ –≤–∏–±—Ä–∞–Ω—ñ–π
  $('.tab-btn').removeClass('active-tab');
  $(this).addClass('active-tab');

  // –û–Ω–æ–≤–∏—Ç–∏ —Ä–µ–≥—ñ–æ–Ω –∑—ñ –∑–≤—ñ—Ç–æ–º
  apex.region("template-report").refresh();
});
```

> –ó–∞–º—ñ—Å—Ç—å `"template-report"` —É `apex.region(...)` –≤–∫–∞–∂–∏ **static ID** —Ç–≤–æ–≥–æ –∑–≤—ñ—Ç—É –∑ —à–∞–±–ª–æ–Ω–∞–º–∏.

---

## üîπ **5. SQL —Ñ—ñ–ª—å—Ç—Ä —É –∑–≤—ñ—Ç—ñ**

```sql
WHERE (:P8_TAB_MODE = 'ACTIVE' AND s.STATUS_MAIN_ID <> 0)
   OR (:P8_TAB_MODE = 'ARCHIVE' AND s.STATUS_MAIN_ID = 0)
```

---

## üîπ **6. –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ (—á–µ—Ä–µ–∑ AJAX Callback –∞–±–æ PL/SQL Dynamic Content)**

–£ –æ–∫—Ä–µ–º–æ–º—É —Ä–µ–≥—ñ–æ–Ω—ñ **PL/SQL Dynamic Content** –∞–±–æ AJAX callback:

```plsql
DECLARE
  v_active_cnt NUMBER;
BEGIN
  SELECT COUNT(*) INTO v_active_cnt
  FROM TASK_TEMPLATES t
  JOIN STATUS_TABLE s ON s.ID = t.STATUS_ID
  WHERE s.STATUS_MAIN_ID <> 0;

  -- –í–∏–≤—ñ–¥ HTML –∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞
  HTP.P('
  <script>
    $(".circle-badge.active-count").text("' || v_active_cnt || '");
  </script>');
END;
```

–ú–æ–∂–µ—à —Ç–∞–∫–æ–∂ **–æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –≤–µ—Å—å —Ä–µ–≥—ñ–æ–Ω –∫–Ω–æ–ø–æ–∫ —á–µ—Ä–µ–∑ `apex.region(...).refresh()`**, —è–∫—â–æ –≤—ñ–Ω –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –¥–∏–Ω–∞–º—ñ—á–Ω–æ.

---

## üîπ **7. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º**

–£ dynamic action **Page Load**:

```javascript
$s("P8_TAB_MODE", "ACTIVE");
$(".tab-btn[data-mode='ACTIVE']").addClass("active-tab");
```

> –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ ‚Äî `apex.region("template-report").refresh();` –∞–±–æ —á–µ—Ä–µ–∑ DA on Page Load.

---

## ‚úÖ –£ –ø—ñ–¥—Å—É–º–∫—É:

* –ö–Ω–æ–ø–∫–∏ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ, –ø–µ—Ä–µ–º–∏–∫–∞—é—Ç—å `P8_TAB_MODE`
* –ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–Ω–æ–ø–∫–∏
* –õ—ñ—á–∏–ª—å–Ω–∏–∫ —à–∞–±–ª–æ–Ω—ñ–≤
* SQL —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∫–ª–∞–¥–∫–∏

–ì–æ—Ç–æ–≤–∏–π –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ –ø—ñ–¥ —Ç–≤–æ—ó –Ω–∞–∑–≤–∏, —è–∫—â–æ –Ω–∞–¥–∞—Å–∏ —Ç–æ—á–Ω—ñ ID.
