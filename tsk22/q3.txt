–¢–∞–∫, **–≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–≤–µ—Å—Ç–∏ –∫—ñ–ª—å–∫–∞ –∑–Ω–∞—á–∫—ñ–≤ —É —Ç—ñ–π —Å–∞–º—ñ–π –∫–æ–ª–æ–Ω—Ü—ñ**, –ø—Ä–æ—Å—Ç–æ –æ–±‚Äô—î–¥–Ω–∞–≤—à–∏ HTML-—Ä—è–¥–∫–∏ —É–º–æ–≤–Ω–æ ‚Äî —è–∫—â–æ –æ–±–∏–¥–≤—ñ —É–º–æ–≤–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è.

–û—Å—å —è–∫ –æ–Ω–æ–≤–∏—Ç–∏ –≤–∞—à –≤–∏—Ä–∞–∑ `STATUS_LABEL`, —â–æ–± –≤—ñ–¥–æ–±—Ä–∞–∂–∞–ª–∏—Å—å **–¥–≤–∞ –∑–Ω–∞—á–∫–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ**, —è–∫—â–æ –∑–∞–≤–¥–∞–Ω–Ω—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ **—ñ –ø—Ä–æ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–µ**, —ñ **–Ω–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–µ**:

---

### ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–∏–π SQL-—Ñ—Ä–∞–≥–º–µ–Ω—Ç:

```sql
CASE
  WHEN :PXX_TAB_MODE = 'PROBLEM' THEN
    CASE 
      WHEN 
        (t.PLANNING_DATE_END < SYSDATE AND t.ACTUAL_DATE_END IS NULL)
        OR EXISTS (
          SELECT 1
          FROM DICT_APP_CONFIRM_LIST d
          WHERE d.PAGE_LIST_ID = t.PAGE_LIST_ID
            AND NOT EXISTS (
              SELECT 1
              FROM SIGNATURERIGHTS r
              WHERE r.TASK_ID = t.ID AND r.STAGES_ID = d.STAGE
            )
        )
      THEN
        -- –§–æ—Ä–º—É—î–º–æ HTML —Ä—è–¥–æ–∫ –∑ —É—Å—ñ–º–∞ —ñ–∫–æ–Ω–∫–∞–º–∏
        CASE 
          WHEN t.PLANNING_DATE_END < SYSDATE AND t.ACTUAL_DATE_END IS NULL AND
               EXISTS (
                 SELECT 1
                 FROM DICT_APP_CONFIRM_LIST d
                 WHERE d.PAGE_LIST_ID = t.PAGE_LIST_ID
                   AND NOT EXISTS (
                     SELECT 1
                     FROM SIGNATURERIGHTS r
                     WHERE r.TASK_ID = t.ID AND r.STAGES_ID = d.STAGE
                   )
               )
          THEN
            -- –û–±–∏–¥–≤—ñ —É–º–æ–≤–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è
            '<span class="t-Icon fa fa-clock-o" style="color:red;" title="–ü—Ä–æ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è"></span> ' ||
            '<span class="t-Icon fa fa-exclamation-circle" style="color:orange;" title="–ù–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è"></span>'
          WHEN t.PLANNING_DATE_END < SYSDATE AND t.ACTUAL_DATE_END IS NULL
          THEN
            '<span class="t-Icon fa fa-clock-o" style="color:red;" title="–ü—Ä–æ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è"></span>'
          WHEN EXISTS (
            SELECT 1
            FROM DICT_APP_CONFIRM_LIST d
            WHERE d.PAGE_LIST_ID = t.PAGE_LIST_ID
              AND NOT EXISTS (
                SELECT 1
                FROM SIGNATURERIGHTS r
                WHERE r.TASK_ID = t.ID AND r.STAGES_ID = d.STAGE
              )
          )
          THEN
            '<span class="t-Icon fa fa-exclamation-circle" style="color:orange;" title="–ù–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è"></span>'
        END
    END
  ELSE NULL
END AS STATUS_LABEL
```

---

### üìù –©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥:

* –Ø–∫—â–æ **–æ–±–∏–¥–≤—ñ —É–º–æ–≤–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è**, —Ç–æ –¥–æ–¥–∞—î **–¥–≤—ñ —ñ–∫–æ–Ω–∫–∏** –≤ HTML.
* –Ø–∫—â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–Ω–∞ –∑ —É–º–æ–≤ ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –æ–¥–Ω–∞ —ñ–∫–æ–Ω–∫–∞.
* –Ø–∫—â–æ `:PXX_TAB_MODE ‚â† 'PROBLEM'` ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î `NULL`.

---

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ–± –≤–∞—à—ñ —ñ–∫–æ–Ω–∫–∏ –º–∞–ª–∏ –Ω–µ–≤–µ–ª–∏–∫–∏–π –≤—ñ–¥—Å—Ç—É–ø –º—ñ–∂ —Å–æ–±–æ—é, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```html
<span style="margin-right: 4px;">...</span>
```

---

–•–æ—á–µ—à, —â–æ–± —Ü—ñ —ñ–∫–æ–Ω–∫–∏ –±—É–ª–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –≤—ñ–¥–∫—Ä–∏–≤–∞–ª–æ—Å—å –≤—ñ–∫–Ω–æ –∑ –¥–µ—Ç–∞–ª—è–º–∏)?
