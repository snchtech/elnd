–ß—É–¥–æ–≤–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è! –î–∞–≤–∞–π —Ä–æ–∑–±–µ—Ä–µ–º–æ —Ü–µ –∞–∫—É—Ä–∞—Ç–Ω–æ.

---

## üéØ **–¢–≤–æ—è —Å–∏—Ç—É–∞—Ü—ñ—è**

üëâ `P2_DEPARTMENT` ‚Äî select list
üëâ `P2_POSITION` ‚Äî —Ç–µ–∂ select list –∑ **–∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –≤–∏–∑–Ω–∞—á–µ–Ω–∏–º–∏ static values** (—Ç–æ–±—Ç–æ –±–µ–∑ SQL LOV)

---

## üö© **–£ —á–æ–º—É —Ç—É—Ç –ø—Ä–æ–±–ª–µ–º–∞**

–Ø–∫—â–æ `P2_POSITION` ‚Äî —Ü–µ **static select list**, —Ç–æ –ø—Ä–∏ –∑–º—ñ–Ω—ñ `P2_DEPARTMENT` —Ç–∏ –Ω–µ –∑–º–æ–∂–µ—à –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —Ü—å–æ–≥–æ select list —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º APEX-—Ä–µ—Ñ—Ä–µ—à–µ–º (–±–æ –≤—ñ–Ω –Ω–µ –≤–∏–∫–æ–Ω—É—î –∑–∞–ø–∏—Ç –¥–ª—è static LOV).

---

## ‚úÖ **–Ø–∫ –¥—ñ—è—Ç–∏**

### üîπ –í–∞—Ä—ñ–∞–Ω—Ç 1 ‚Äî –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ SQL LOV

üëâ –ù–∞–π–∫—Ä–∞—â–µ ‚Äî –∑—Ä–æ–±–∏—Ç–∏ `P2_POSITION` **SQL Query LOV**, —Ç–æ–¥—ñ –ø—Ä–∏ `Refresh` –≤—ñ–Ω –±—É–¥–µ –∑–∞–ø–∏—Ç—É–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ –≤–∏–±—Ä–∞–Ω–æ–º—É –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É:

```sql
SELECT DISTINCT p.NAME d, p.ID r
FROM USERS u
JOIN POSITION_TABLE p ON p.ID = u.POSITION_ID
WHERE u.DEPARTMENT_ID = :P2_DEPARTMENT
ORDER BY p.NAME
```

üëâ –î–æ–¥–∞—Ç–∏ Dynamic Action:

* Event: `Change` –Ω–∞ `P2_DEPARTMENT`
* Action: `Refresh` –Ω–∞ `P2_POSITION`

–¶–µ –ø—Ä–∞—Ü—é—î –æ–¥—Ä–∞–∑—É –π –±–µ–∑ –∑–∞–π–≤–∏—Ö JS.

---

### üîπ –í–∞—Ä—ñ–∞–Ω—Ç 2 ‚Äî –î–∏–Ω–∞–º—ñ—á–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ AJAX + JS

–Ø–∫—â–æ —Ç–∏ –∑–∞–ª–∏—à–∞—î—à `P2_POSITION` —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π select list, —Ç–æ —Ç—Ä–µ–±–∞:

‚úÖ **1. –°—Ç–≤–æ—Ä–∏—Ç–∏ AJAX Callback**

```plsql
DECLARE
BEGIN
  APEX_JSON.OPEN_ARRAY;
  FOR rec IN (
    SELECT DISTINCT p.NAME AS name, p.ID AS id
    FROM USERS u
    JOIN POSITION_TABLE p ON p.ID = u.POSITION_ID
    WHERE u.DEPARTMENT_ID = :P2_DEPARTMENT
    ORDER BY p.NAME
  ) LOOP
    APEX_JSON.OPEN_OBJECT;
    APEX_JSON.WRITE('r', rec.id);
    APEX_JSON.WRITE('d', rec.name);
    APEX_JSON.CLOSE_OBJECT;
  END LOOP;
  APEX_JSON.CLOSE_ARRAY;
END;
```

üëâ –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞–∑–≤–∞ –ø—Ä–æ—Ü–µ—Å—É: `GET_POSITIONS_BY_DEPT`

---

‚úÖ **2. JS –ø—Ä–∏ –∑–º—ñ–Ω—ñ P2\_DEPARTMENT**

```javascript
apex.server.process("GET_POSITIONS_BY_DEPT", {
  pageItems: "#P2_DEPARTMENT"
}, {
  success: function(data) {
    var $pos = $("#P2_POSITION");
    $pos.empty();
    $pos.append($('<option>', { value: "", text: "-- –í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Å–∞–¥—É --" }));
    data.forEach(function(item) {
      $pos.append($('<option>', { value: item.r, text: item.d }));
    });
  }
});
```

üëâ –¶–µ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –æ–Ω–æ–≤–∏—Ç—å select list –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ.

---

### üîπ –í–∞—Ä—ñ–∞–Ω—Ç 3 ‚Äî –∑–∞–ª–∏—à–∏—Ç–∏ static —ñ –ø—Ä–æ—Å—Ç–æ enable/disable

–Ø–∫—â–æ —Ç–æ–±—ñ **–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏** —Å–ø–∏—Å–æ–∫, –∞ –ø—Ä–æ—Å—Ç–æ —Ö–æ—á–µ—à –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ / –¥–µ–∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –ø–æ–ª–µ:

```javascript
var dep = $v('P2_DEPARTMENT');
if (dep === '21' || dep === '27') {
  apex.item('P2_POSITION').enable();
} else {
  apex.item('P2_POSITION').disable();
}
```

üëâ –ê–ª–µ —Ç—É—Ç –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ select –∑–∞–ª–∏—à–∞—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏ (—Ç–æ–±—Ç–æ –Ω–µ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏–º—É—Ç—å—Å—è).

---

## ‚úâ –í–∏—Å–Ω–æ–≤–æ–∫:

üëâ **–ù–∞–π–∫—Ä–∞—â–µ:**
‚úÖ –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ SQL LOV + refresh item
‚úÖ –ê–±–æ –¥–æ–¥–∞—Ç–∏ AJAX + JS –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è
‚úÖ –õ–∏—à–µ enable/disable ‚Äî —è–∫—â–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ

–•–æ—á–µ—à ‚Äî —è –ø—ñ–¥–≥–æ—Ç—É—é –ø—Ä–∏–∫–ª–∞–¥ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑ AJAX + APEX –ø—Ä–æ—Ü–µ—Å–æ–º? üöÄ
