üí° **–ß—É–¥–æ–≤–æ! –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è `P4_TASK_MODE = 0` (—Ç–æ–±—Ç–æ –±–µ–∑ —Ä–æ–±–æ—Ç–∏ –∑ —à–∞–±–ª–æ–Ω–∞–º–∏), –æ—Å—å –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–¥–∞–ø—Ç–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è.**

---

## üöÄ **1Ô∏è‚É£ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è P4\_SUBTASK\_EXECUTOR**

### ‚û° –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ item:

* **Type:** Popup LOV
* **Visible:** No (–ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ)
* **Static ID:** `P4_SUBTASK_EXECUTOR`
* **(–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)** CSS Class: `subtask-executor-hidden`

---

## üöÄ **2Ô∏è‚É£ LOV –¥–ª—è P4\_SUBTASK\_EXECUTOR**

### ‚û° SQL Query LOV:

```sql
SELECT subtask_content || ' (' || id || ')' AS display_value,
       id AS return_value
FROM TASK_SUBTASKS
WHERE TASK_ID = :P4_TASK_ID
ORDER BY subtask_content
```

‚úÖ –ü–æ–≤–µ—Ä—Ç–∞—î `ID` –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è, –ø–æ–∫–∞–∑—É—î –∑–º—ñ—Å—Ç + ID —É —Å–ø–∏—Å–∫—É.

---

## üöÄ **3Ô∏è‚É£ Dynamic Action –¥–ª—è –∫–Ω–æ–ø–∫–∏**

### ‚û° –°—Ç–≤–æ—Ä—é—î–º–æ DA:

* **Event:** Click
* **Selection Type:** jQuery Selector
* **jQuery Selector:** `.add-confirm-person`

---

### ‚û° –î—ñ—è: Execute JavaScript Code

```javascript
var stage = $(this.triggeringElement).data('current-stage');

if (stage == 4) {
  $('#P4_SUBTASK_EXECUTOR').closest('.t-Form-fieldContainer').show();
  apex.item('P4_SUBTASK_EXECUTOR').refresh(); // –æ–Ω–æ–≤–∏—Ç–∏ LOV
} else {
  $('#P4_SUBTASK_EXECUTOR').closest('.t-Form-fieldContainer').hide();
}
```

‚úÖ –¢—É—Ç –º–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ stage —ñ –ø–æ–∫–∞–∑—É—î–º–æ/—Ö–æ–≤–∞—î–º–æ –ø–æ–ª–µ.

---

## üöÄ **4Ô∏è‚É£ Dynamic Action –Ω–∞ Page Load (–ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ)**

* **Event:** Page Load
* **Action:** Execute JavaScript Code

```javascript
$('#P4_SUBTASK_EXECUTOR').closest('.t-Form-fieldContainer').hide();
```

---

## ‚ö° **–°—Ö–µ–º–∞ —Ä–æ–±–æ—Ç–∏**

1Ô∏è‚É£ –ö–Ω–æ–ø–∫–∞:

```html
<button data-current-stage="4" data-current-substage="..." class="add-confirm-person"></button>
```

2Ô∏è‚É£ –ü—Ä–∏ –∫–ª—ñ–∫—É:

* –Ø–∫—â–æ stage = 4 ‚Üí –ø–æ–ª–µ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —ñ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è LOV.
* –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–º.

---

## ‚úÖ **–ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π SQL –¥–ª—è LOV**

```sql
SELECT subtask_content || ' (' || id || ')', id
FROM TASK_SUBTASKS
WHERE TASK_ID = :P4_TASK_ID
ORDER BY subtask_content
```

---

## üí¨ **–•–æ—á–µ—Ç–µ, —â–æ–± —è –ø—ñ–¥–≥–æ—Ç—É–≤–∞–≤ JSON –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É DA –∞–±–æ –∫–æ–¥ –≥–æ—Ç–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É?**

–ù–∞–ø–∏—à—ñ—Ç—å ‚Äî —è –ø—ñ–¥–≥–æ—Ç—É—é! üöÄ
