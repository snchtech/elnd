üí° **–ß—É–¥–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî —Ü—ñ–ª–∫–æ–º —Ä–µ–∞–ª—å–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –≤ Oracle APEX, —ñ –ø—Ä–∏ —Ü—å–æ–º—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ! –î–∞–≤–∞–π —Ä–æ–∑–ø–∏—à–µ–º–æ –ø–æ–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ —ñ –¥–∞–º –≥–æ—Ç–æ–≤–∏–π SQL + –ø—Ä–∏–∫–ª–∞–¥ HTML/JS –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.**

---

## üöÄ **–ü–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**

‚úÖ –í—Å–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ **–æ–¥–Ω–∏–º SQL-–∑–∞–ø–∏—Ç–æ–º**, —è–∫–∏–π –æ–¥—Ä–∞–∑—É –¥–∞—Å—Ç—å —Å–ø–∏—Å–æ–∫ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å + —Å—Ç–∞—Ç—É—Å (–ø—ñ–¥–ø–∏—Å–∞–Ω–æ/–Ω–µ –ø—ñ–¥–ø–∏—Å–∞–Ω–æ).
‚úÖ –¶–µ–π –∑–∞–ø–∏—Ç –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —è–∫ –¥–∂–µ—Ä–µ–ª–æ –¥–ª—è:

* **Classic Report**
* **Region Display Selector**
* **PL/SQL Dynamic Content**

‚úÖ –í–∏–≤—ñ–¥ –±—É–¥–µ –≤ HTML: –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∏ (div –∞–±–æ span –∑ CSS), —è–∫—ñ –±—É–¥—É—Ç—å –º–∞—Ç–∏ –∫–ª–∞—Å–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å—Ç–∞—Ç—É—Å—É.

---

## ‚ö° **–ó–∞–ø–∏—Ç**

```sql
SELECT
  sr.SUBTASK_ID,
  MAX(CASE WHEN sh.ID IS NOT NULL THEN 1 ELSE 0 END) AS IS_SIGNED
FROM
  TaskTracker.SIGNATURERIGHTS@TO_TASKTRACKER10 sr
LEFT JOIN
  TaskTracker.SIGNATUREHISTORY@TO_TASKTRACKER10 sh
  ON sr.ID = sh.SIGNRIGHT_ID
WHERE
  sr.TASK_ID = :P_TASK_ID
  AND sr.SUBTASK_ID IS NOT NULL
GROUP BY
  sr.SUBTASK_ID
ORDER BY
  sr.SUBTASK_ID
```

‚úÖ –¢—É—Ç:

* `IS_SIGNED = 1` ‚Üí –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∞–Ω–æ
* `IS_SIGNED = 0` ‚Üí –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è –Ω–µ –ø—ñ–¥–ø–∏—Å–∞–Ω–æ

---

## üöÄ **PL/SQL Dynamic Content –ø—Ä–∏–∫–ª–∞–¥**

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ä–µ–≥—ñ–æ–Ω —Ç–∏–ø—É **PL/SQL Dynamic Content**, –∫–æ–¥:

```plsql
DECLARE
  CURSOR c_subtasks IS
    SELECT
      sr.SUBTASK_ID,
      MAX(CASE WHEN sh.ID IS NOT NULL THEN 1 ELSE 0 END) AS IS_SIGNED
    FROM
      TaskTracker.SIGNATURERIGHTS@TO_TASKTRACKER10 sr
    LEFT JOIN
      TaskTracker.SIGNATUREHISTORY@TO_TASKTRACKER10 sh
      ON sr.ID = sh.SIGNRIGHT_ID
    WHERE
      sr.TASK_ID = :P_TASK_ID
      AND sr.SUBTASK_ID IS NOT NULL
    GROUP BY
      sr.SUBTASK_ID
    ORDER BY
      sr.SUBTASK_ID;
  
  l_html CLOB := '';
BEGIN
  FOR rec IN c_subtasks LOOP
    IF rec.IS_SIGNED = 1 THEN
      l_html := l_html || '<span class="subtask-box filled"></span>';
    ELSE
      l_html := l_html || '<span class="subtask-box empty"></span>';
    END IF;
  END LOOP;

  -- –í–∏–≤—ñ–¥
  HTP.P('<div class="subtask-progress">' || l_html || '</div>');
END;
```

---

## üöÄ **CSS (–¥–æ–¥–∞–π—Ç–µ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É / –¥–æ —Ç–µ–º–∏)**

```css
.subtask-progress {
  display: flex;
  gap: 4px;
}

.subtask-box {
  width: 20px;
  height: 20px;
  border: 2px solid #555;
  display: inline-block;
}

.subtask-box.filled {
  background-color: #28a745; /* –∑–µ–ª–µ–Ω–∏–π –∞–±–æ –∫–æ–ª—ñ—Ä –∑–∞ –≤–∞—à–∏–º –≤–∏–±–æ—Ä–æ–º */
}

.subtask-box.empty {
  background-color: transparent;
}
```

---

## ‚ö° **–õ–æ–≥—ñ–∫–∞ –ø–æ–∫–∞–∑—É**

‚úÖ –¶–µ–π –±–ª–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ —è–∫—â–æ `P_TASK_MODE = 0`** (–¥–æ–¥–∞–π—Ç–µ —Ü–µ —É —É–º–æ–≤—É PL/SQL Dynamic Content):

```plsql
IF :P_TASK_MODE = 0 THEN
  -- –≥–µ–Ω–µ—Ä—É—î–º–æ –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∏
ELSE
  -- –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–≤–æ–¥–∏–º–æ
END IF;
```

---

## üìù **–ü—ñ–¥—Å—É–º–æ–∫**

üëâ –í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π **progress bar**, —è–∫–∏–π:

* –±—É–¥—É—î—Ç—å—Å—è –æ–¥–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º;
* –ø–æ–∫–∞–∑—É—î —Å—Ç–∞—Ç—É—Å –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è;
* –Ω–µ –≤–∏–º–∞–≥–∞—î –æ–∫—Ä–µ–º–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä—É.

---

## üí¨ **–•–æ—á–µ—Ç–µ –≥–æ—Ç–æ–≤–∏–π —à–∞–±–ª–æ–Ω —Ä–µ–≥—ñ–æ–Ω—É (–¥–ª—è —ñ–º–ø–æ—Ä—Ç—É –≤ APEX) –∞–±–æ –ø—Ä–∏–∫–ª–∞–¥ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Ç–µ–º—É APEX?**

–ù–∞–ø–∏—à—ñ—Ç—å ‚Äî —è –∑–≥–µ–Ω–µ—Ä—É—é! üöÄ
