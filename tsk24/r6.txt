üîπ –ß—É–¥–æ–≤–æ, —â–æ —É—Ç–æ—á–Ω–∏–ª–∏ ‚Äî —Ç–µ–ø–µ—Ä –∫–∞—Ä—Ç–∏–Ω–∞ –ø–æ–≤–Ω–∞. –î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–±–µ—Ä–µ–º–æ –π –∑–∞–ø—Ä–æ–ø–æ–Ω—É—é **—Ç–æ—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –ø—ñ–¥ –≤–∞—à –≤–∏–ø–∞–¥–æ–∫**.

---

## üí° **–ü—Ä–æ–±–ª–µ–º–∞**

‚û° –£ –≤–∞—Å –Ω–∞ –º–æ–º–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó HTML:

* –ú–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π `l_list_position` + `l_list_department` + `l_list_unit`.
* –ê–ª–µ —î `TAB_NO`, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É `C008` –∫–æ–ª–µ–∫—Ü—ñ—ó ‚Üí —Ü–µ —Ç—Ä–µ–±–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –ø—Ä–æ –ø–æ—Å–∞–¥—É –π –≤—ñ–¥–¥—ñ–ª.

---

## ‚úÖ **–†—ñ—à–µ–Ω–Ω—è**

üëâ **–ü—ñ—Å–ª—è FETCH confirm\_list** –¥–æ–¥–∞—Ç–∏ —Ç–∞–∫–∏–π –∫–æ–¥:
(–ø—Ä–∏–ø—É—Å–∫–∞—é, —â–æ –≤–∏ –ø—ñ–¥—Ç—è–≥—É—î—Ç–µ `C008` –≤ `l_tab_no`)

```plsql
-- –Ω–æ–≤–∞ –∑–º—ñ–Ω–Ω–∞
l_tab_no VARCHAR2(50);
l_user_pos VARCHAR2(255);
l_user_dep VARCHAR2(255);

-- –ø—ñ–¥—Ç—è–≥—É—î–º–æ tab_no
l_tab_no := l_sg_fth; -- –∞–±–æ —è–∫—â–æ —Ü–µ C008, —Ç–æ –ø—Ä–∏–∑–Ω–∞—á—Ç–µ –ø—Ä–∏ FETCH: FETCH ... INTO ..., l_tab_no, ...

-- —è–∫—â–æ –¥–∞–Ω–∏—Ö –ø–æ –ø–æ–∑–∏—Ü—ñ—ó –Ω–µ–º–∞—î ‚Äî —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ tab_no
IF l_list_position IS NULL AND l_list_department IS NULL AND l_list_unit IS NULL AND l_tab_no IS NOT NULL THEN
    BEGIN
        SELECT u.POSITION_NAME, d.DEPARTMENT_NAME
        INTO l_user_pos, l_user_dep
        FROM USERS u
        LEFT JOIN DEPARTMENT d ON d.ID = u.DEPARTMENT_ID
        WHERE u.TAB_NO = l_tab_no;

    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            l_user_pos := '–ù–µ–≤—ñ–¥–æ–º–∞ –ø–æ—Å–∞–¥–∞';
            l_user_dep := '–ù–µ–≤—ñ–¥–æ–º–∏–π –≤—ñ–¥–¥—ñ–ª';
    END;
END IF;
```

---

## üîë **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è HTML —Ä—è–¥–∫–∞**

–¢–µ–ø–µ—Ä —É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó:

```plsql
IF l_list_position IS NOT NULL OR l_list_department IS NOT NULL OR l_list_unit IS NOT NULL THEN
    -- —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –≤–∏–≤–µ–¥–µ–Ω–Ω—è
    HTP.P('<span class="number"></span>' || 
          '<span class="pos-info">' || 
          '<span class="l-list-position">' || NVL(l_list_position, '') || '</span>' || 
          NVL(l_dep_unit, '') || 
          '</span>');
ELSE
    -- –≤–∏–≤–µ–¥–µ–Ω–Ω—è –ø–æ –¥–∞–Ω–∏–º tab_no
    HTP.P('<span class="number"></span>' || 
          '<span class="pos-info">' || 
          '<span class="l-list-position">' || l_user_pos || '</span>' || 
          '<span class="l-dep-unit">(' || l_user_dep || ')</span>' || 
          '</span>');
END IF;
```

---

## ‚ö° **–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏**

‚úÖ –Ø–∫—â–æ `l_tab_no` –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–µ —É `l_sg_fth`, –∞ —É —ñ–Ω—à—ñ–π –∑–º—ñ–Ω–Ω—ñ–π ‚Äî –ø—Ä–∏ FETCH –¥–æ–¥–∞–π—Ç–µ:

```plsql
FETCH confirm_list INTO ..., l_tab_no, ...;
```

–¥–µ `l_tab_no` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î `C008`.

‚úÖ –ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ —ñ–Ω–¥–µ–∫—Å –Ω–∞ `USERS.TAB_NO`, —è–∫—â–æ —Ç–∞–±–ª–∏—Ü—è –≤–µ–ª–∏–∫–∞.

‚úÖ –Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ ‚Äî —è –º–æ–∂—É –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ –≤–∞—à —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏.

---

## üöÄ **–•–æ—á–µ—Ç–µ –≥–æ—Ç–æ–≤–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —á–∏ –Ω–∞–≤—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π SELECT?**

–ù–∞–ø–∏—à—ñ—Ç—å ‚Äî —è –∑–≥–µ–Ω–µ—Ä—É—é! üòä
