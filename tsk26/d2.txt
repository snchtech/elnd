üí° **–ß—É–¥–æ–≤–∞ —ñ–¥–µ—è —Ç–∞ –≥—Ä–∞–º–æ—Ç–Ω–∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–¥–∞–Ω–Ω—è! –Ø –ø—ñ–¥–≥–æ—Ç—É—é –¥–ª—è —Ç–µ–±–µ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é + –∫—Ä–æ–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–∫–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤ APEX –Ω–∞ –±–∞–∑—ñ best practices. –¶–µ –±—É–¥–µ –≥–Ω—É—á–∫–µ –π —Å—Ç–∞–±—ñ–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è.**

---

## üöÄ **–ö–æ–Ω—Ü–µ–ø—Ü—ñ—è —Ä—ñ—à–µ–Ω–Ω—è**

–ú–∏ —Å—Ç–≤–æ—Ä–∏–º–æ **Oracle APEX Interactive Grid (IG)**, —è–∫–∏–π:
‚úÖ –ü–æ–∫–∞–∑—É—î –∑–∞–º—ñ—â–µ–Ω–Ω—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ –¥–æ—Å—Ç—É–ø–Ω—ñ –π–æ–º—É –∑–∞–ø–∏—Å–∏ –∑–∞ —Ä–æ–ª–ª—é.
‚úÖ –î–æ–∑–≤–æ–ª—è—î —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∑–∞–º—ñ—â–µ–Ω–Ω—è (—Ö—Ç–æ –∑–∞–º—ñ—â–∞—î, –¥–∞—Ç–∏ –≤—ñ–¥/–¥–æ).
‚úÖ –ú–∞—î –∫–Ω–æ–ø–∫—É –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (Submit / Save).
‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—é—î –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —É –∑–∞–ø–∏—Ç—ñ –∞–±–æ —á–µ—Ä–µ–∑ dynamic action.

---

## ‚ö° **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏**

### üîπ **–û—Å–Ω–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞**

* **REGION 1:** Interactive Grid ‚Üí `User Substitution`
* **SOURCE:** SQL query –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ä–æ–ª–µ–π —Ç–∞ –ª–æ–≥—ñ–∫–∏ –¥–æ—Å—Ç—É–ø—É

---

### üîπ **SQL –¥–∂–µ—Ä–µ–ª–æ IG**

```sql
SELECT
  us.id,
  us.tab_no_original,
  uo.pib AS pib_original,
  uo.position_name AS position_original,
  uo.department_name AS department_original,
  uo.unit_name AS unit_original,
  us.tab_no_replacer,
  ur.pib AS pib_replacer,
  ur.position_name AS position_replacer,
  ur.department_name AS department_replacer,
  ur.unit_name AS unit_replacer,
  us.date_start AS start_date_substitution,
  us.date_end AS end_date_substitution
FROM
  user_substitution us
LEFT JOIN
  users uo ON us.tab_no_original = uo.tab_no
LEFT JOIN
  users ur ON us.tab_no_replacer = ur.tab_no
WHERE
  (
    us.tab_no_original = :APP_USER_TABNO
    OR
    (
      :IS_SUBSTITUTION_MANAGER = 'Y'
      AND us.department_id = :APP_USER_DEPARTMENT
    )
    OR
    (
      :IS_SUPER_SUBSTITUTION_MANAGER = 'Y'
    )
  )
  AND (us.date_end IS NULL OR us.date_end >= SYSDATE)
```

‚úÖ –î–æ–¥–∞–π **:APP\_USER\_TABNO, \:APP\_USER\_DEPARTMENT** —É session state –ø—Ä–∏ –ª–æ–≥—ñ–Ω—ñ.
‚úÖ \:IS\_SUBSTITUTION\_MANAGER —ñ \:IS\_SUPER\_SUBSTITUTION\_MANAGER ‚Äî –ø—Ä–∞–ø–æ—Ä–∏ –∑–∞ ACL –∞–±–æ APEX\_ROLE.

---

### üîπ **–†–µ–¥–∞–≥–æ–≤–∞–Ω—ñ –ø–æ–ª—è IG**

‚úÖ `tab_no_replacer` ‚Üí Pop-up LOV (users —Ç–∞–±–µ–ª—å–Ω–∏–π + –ü–Ü–ë)
‚úÖ `date_start` ‚Üí date picker
‚úÖ `date_end` ‚Üí date picker

---

### üîπ **–Ü–Ω—à—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è IG**

* Edit mode ‚Üí **Always editable**
* Enable: Single Row View (–¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è)
* Toolbar ‚Üí Custom Save Button
* Validation (–Ω–∞ —Ä—ñ–≤–Ω—ñ IG + dynamic actions)

---

## üîë **–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –∞–∫—Ç–∏–≤–Ω–æ–≥–æ/–Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–º—ñ—â–µ–Ω–Ω—è**

üëâ **Before Header PL/SQL Process**

```plsql
DECLARE
  l_count_active NUMBER;
BEGIN
  SELECT COUNT(*)
  INTO l_count_active
  FROM user_substitution
  WHERE tab_no_original = :APP_USER_TABNO
    AND (date_end IS NULL OR date_end >= SYSDATE);

  IF l_count_active = 0 THEN
    INSERT INTO user_substitution (
      tab_no_original,
      created_by
    ) VALUES (
      :APP_USER_TABNO,
      :APP_USER
    );
    COMMIT;
  END IF;
END;
```

‚úÖ –Ø–∫—â–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É –Ω–µ–º–∞—î ‚Üí —Å—Ç–≤–æ—Ä—é—î–º–æ –∑ –ø–æ—Ä–æ–∂–Ω—ñ–º–∏ –ø–æ–ª—è–º–∏ –∑–∞–º—ñ—â–µ–Ω–Ω—è.

---

## ‚ö° **Save/Submit**

üëâ **–ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ Save (Submit Page):**

* IG –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –¥–∞–Ω—ñ –Ω–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (—è–∫—â–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ DML –¥–ª—è IG).
* –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `Row Processing Mode = Insert / Update`.

üëâ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ**

* –î–æ–¥–∞–π –ø—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º:

```plsql
IF :P_TAB_NO_REPLACER IS NULL OR :P_DATE_START IS NULL OR :P_DATE_END IS NULL THEN
  raise_application_error(-20001, '–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤ º—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –∑–∞–º—ñ—â–µ–Ω–Ω—è.');
END IF;
```

–∞–±–æ
üëâ –¥–æ–¥–∞–π IG Validations (SQL Expression).

---

## üí° **Best Practice**

‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **Single Row View** –¥–ª—è –∫—Ä–∞—â–æ—ó UX –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ –∑–∞–º—ñ—â–µ–Ω–Ω—è.
‚úÖ –ó–∞–±–µ–∑–ø–µ—á –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ —Ä—ñ–≤–Ω—ñ SQL (–∞ –Ω–µ –ª–∏—à–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ), —â–æ–± –æ–±–º–µ–∂–∏—Ç–∏ –≤–∏–¥–∏–º—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ –∑–∞ —Ä–æ–ª—è–º–∏.
‚úÖ –†–æ–±–∏ Insert –Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –≤ Before Header Process ‚Üí —Ü–µ –ø—Ä–æ—Å—Ç—ñ—à–µ, –Ω—ñ–∂ —Ä–æ–±–∏—Ç–∏ insert —á–µ—Ä–µ–∑ IG.
‚úÖ –î–æ–¥–∞–π Index –Ω–∞ `(tab_no_original, date_start, date_end)` –¥–ª—è —à–≤–∏–¥–∫–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.

---

## üöÄ **–ü—ñ–¥—Å—É–º–æ–∫**

‚úÖ IG ‚Üí –¥–∞–Ω—ñ –∑–∞–º—ñ—â–µ–Ω–Ω—è, –≥–Ω—É—á–∫–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.
‚úÖ Before Header Process ‚Üí –∞–≤—Ç–æ–¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ –∑–∞–ø–∏—Å—É –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.
‚úÖ Control Access ‚Üí —á–µ—Ä–µ–∑ SQL + session flags.
‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—ó ‚Üí –Ω–∞ —Ä—ñ–≤–Ω—ñ IG —ñ PL/SQL process –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º.

---

## üí¨ **–•–æ—á–µ—à, —â–æ–± —è –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤ –≥–æ—Ç–æ–≤–∏–π SQL –¥–ª—è IG, dynamic actions –∞–±–æ –ø—Ä–∏–∫–ª–∞–¥ export/import —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–ª—è APEX?**

–ù–∞–ø–∏—à–∏ ‚Äî —è –ø—ñ–¥–≥–æ—Ç—É—é! üöÄ
