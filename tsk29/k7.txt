–û–∫–µ–π! –ü–æ–∫–∞–∂—É –ø–æ–∫—Ä–æ–∫–æ–≤–æ, —è–∫ –∑—Ä–æ–±–∏—Ç–∏ **–º–æ–¥–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ Oracle APEX**, —è–∫–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `apex.navigation.dialog` –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –Ω–∞ —á–µ–∫–±–æ–∫—Å **"–í—ñ–¥ —ñ–º–µ–Ω—ñ"**, —ñ –¥–∞—î –≤–∏–±—ñ—Ä:

* ‚úÖ –ü—ñ–¥–ø–∏—Å **–≤—ñ–¥ —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤–∫–∞–∑–∞–Ω–æ–≥–æ –≤ SIGNATURERIGHTS.USER\_ID**
* üîÑ –ê–±–æ **–≤–∏–±—Ä–∞—Ç–∏ —ñ–Ω—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞** –∑ —Ç–∞–±–ª–∏—Ü—ñ `USERS`

---

## ‚úÖ **1. –°—Ç–æ—Ä—ñ–Ω–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–æ—Ä—ñ–Ω–∫–∞ 50): Modal "–í—ñ–¥–º—ñ—Ç–∫–∞ –≤—ñ–¥ —ñ–º–µ–Ω—ñ"**

### üß© **Page Items:**

| Item                   | –¢–∏–ø         | –ü—Ä–∏–º—ñ—Ç–∫–∞                                                                    |
| ---------------------- | ----------- | --------------------------------------------------------------------------- |
| `P50_SIGNATURE_ID`     | Hidden      | –ü–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –∑ –≤–∏–∫–ª–∏–∫—É –¥—ñ–∞–ª–æ–≥—É                                               |
| `P50_SELECT_MODE`      | Radio Group | 2 –∑–Ω–∞—á–µ–Ω–Ω—è: `FROM_SR_USER` (–∑–∞ SIGNATURERIGHTS) —Ç–∞ `MANUAL` (–æ–±—Ä–∞—Ç–∏ –≤—Ä—É—á–Ω—É) |
| `P50_SELECTED_USER_ID` | Popup LOV   | LOV –Ω–∞ —Ç–∞–±–ª–∏—Ü—é USERS                                                        |

---

## üé® **2. LOV –¥–ª—è `P50_SELECTED_USER_ID`**

* **Type:** SQL Query

```sql
SELECT USERNAME || ' (' || USERFIRSTNAME || ' ' || LASTNAME || ')', ID
FROM USERS
ORDER BY USERNAME
```

---

## üéØ **3. Dynamic Action –¥–ª—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ —Ä–µ–∂–∏–º–∞–º–∏**

* **Name:** Toggle Manual User Select
* **Event:** Change
* **Selection Type:** Item(s) ‚Üí `P50_SELECT_MODE`
* **True Action:** Show `P50_SELECTED_USER_ID` (—è–∫—â–æ `= MANUAL`)
* **False Action:** Hide `P50_SELECTED_USER_ID` (—è–∫—â–æ `‚â† MANUAL`)
* –ü–æ—á–∞—Ç–∫–æ–≤–æ `P50_SELECTED_USER_ID` –º–∞—î –±—É—Ç–∏ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–º.

---

## üíæ **4. Process: Save Signature (Submit page)**

**On Submit > After Submit Process**

```plsql
DECLARE
  l_signer_id NUMBER;
BEGIN
  -- –í–∏–∑–Ω–∞—á–∏—Ç–∏ —Ö—Ç–æ –º–∞—î –±—É—Ç–∏ –ø—ñ–¥–ø–∏—Å–∞–Ω—Ç–æ–º
  IF :P50_SELECT_MODE = 'FROM_SR_USER' THEN
    SELECT USER_ID INTO l_signer_id
    FROM SIGNATURERIGHTS
    WHERE ID = :P50_SIGNATURE_ID;
  ELSE
    l_signer_id := :P50_SELECTED_USER_ID;
  END IF;

  -- –ó–∞–ø–∏—Å —É SIGNATUREHISTORY
  INSERT INTO SIGNATUREHISTORY (
    ID,
    SIGNRIGHT_ID,
    SIGNER_BY,
    SIGNER_DATE,
    BYNAME_USER_ID
  ) VALUES (
    SIGNATUREHISTORY_SEQ.NEXTVAL,
    :P50_SIGNATURE_ID,
    :APP_USER_ID,
    SYSDATE,
    l_signer_id
  );
END;
```

---

## üì¶ **5. Buttons**

* `OK` ‚Üí **Submit Page** (Processing: `Save Signature`)
* `Cancel` ‚Üí **Redirect to parent page**

---

## üß© **6. –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ –∑ –æ—Å–Ω–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (—á–µ—Ä–µ–∑ JS)**

```javascript
$(".extend-sign-checkbox").on("change", function () {
  if (this.checked) {
    var signId = $(this).data("signature-id");

    apex.navigation.dialog("f?p=&APP_ID.:50:&SESSION.::NO::P50_SIGNATURE_ID:" + signId, {
      title: "–í—ñ–¥–º—ñ—Ç–∫–∞ –≤—ñ–¥ —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞",
      height: "auto",
      width: "500",
      modal: true
    });
  }
});
```

---

## üß™ –ü–æ—Ä–∞–¥–∏:

* –ü–æ—á–∞—Ç–∫–æ–≤–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–π `P50_SELECT_MODE = 'FROM_SR_USER'`
* `P50_SELECTED_USER_ID` –º–∞—î –±—É—Ç–∏ **–Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏–º**, —è–∫—â–æ –≤–∏–±—Ä–∞–Ω–æ `FROM_SR_USER`

---

## ‚ùì –•–æ—á–µ—à ‚Äî –º–æ–∂—É –ø–æ–∫–∞–∑–∞—Ç–∏ —è–∫ –∑—Ä–æ–±–∏—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω—É –≤–µ—Ä—Å—ñ—é –±–µ–∑ –Ω–æ–≤–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ —Ä–µ–≥—ñ–æ–Ω (Dialog Region) –Ω–∞ –ø–æ—Ç–æ—á–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.

–ì–æ—Ç–æ–≤–∏–π –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏?
