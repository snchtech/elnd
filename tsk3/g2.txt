–î—É–∂–µ –¥–æ–±—Ä–µ, —â–æ —Ç–∏ –ø—ñ–¥—Ö–æ–¥–∏—à –¥–æ —Ü—å–æ–≥–æ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–æ! üëá  
–î–∞–≤–∞–π –ø–æ–∫—Ä–æ–∫–æ–≤–æ:

---

## üß© 1. **–ù–∞–≤—ñ—â–æ –≤–∏–Ω–æ—Å–∏—Ç–∏ `CREATOR_ID`, `DEPARTMENT_ID`, `UNIT_ID`, `TYPE_ID` —É `TASK_TEMPLATES`?**

–¶—ñ –ø–æ–ª—è:
- ‚ùóÔ∏è–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ —è–∫ **–∞—Ç—Ä–∏–±—É—Ç–∏ —à–∞–±–ª–æ–Ω—É**, –±–æ —Å–∞–º–µ —à–∞–±–ª–æ–Ω ‚Äú–Ω–∞–ª–µ–∂–∏—Ç—å‚Äù –∫–æ–º—É—Å—å.
- –ü–æ—Ç—Ä—ñ–±–Ω—ñ, —â–æ–±:
  - –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —à–∞–±–ª–æ–Ω–∏ –ª–∏—à–µ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø–µ–≤–Ω–æ–º—É –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É;
  - —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —à–∞–±–ª–æ–Ω–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞;
  - –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏, —Ö—Ç–æ —Å—Ç–≤–æ—Ä–∏–≤ —à–∞–±–ª–æ–Ω;
  - –∑–Ω–∞—Ç–∏, —è–∫–æ–≥–æ —Ç–∏–ø—É —à–∞–±–ª–æ–Ω.

üìå –í–æ–Ω–∏ –Ω–µ –¥—É–±–ª—é—é—Ç—å—Å—è ‚Äî –≤–æ–Ω–∏ –ª–æ–≥—ñ—á–Ω–æ —ñ—Å–Ω—É—é—Ç—å —ñ —É —à–∞–±–ª–æ–Ω–∞—Ö (`TASK_TEMPLATES`), —ñ —É –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω–Ω—è—Ö (`TASKS`), —Ç–æ–º—É —â–æ —Ü–µ **–æ–∫—Ä–µ–º—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ**.

---

## üß© 2. **–ù–∞–≤—ñ—â–æ –¥—É–±–ª—é–≤–∞—Ç–∏ `TASK_CONTENT` –≤ `TASK_TEMPLATES`?**

–ë–æ —à–∞–±–ª–æ–Ω ‚Äî —Ü–µ **–æ–∫—Ä–µ–º–∞ —Ñ–æ—Ä–º–∞ –∑–∞–≤–¥–∞–Ω–Ω—è**, —è–∫–∞:
- —â–µ **–Ω–µ —î –∑–∞–≤–¥–∞–Ω–Ω—è–º**, –∞ –ª–∏—à–µ —à–∞–±–ª–æ–Ω,
- –º–∞—î —Ç–µ–∫—Å—Ç, —è–∫–∏–π –±—É–¥–µ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–∏–π —É `TASKS.TASK_CONTENT`,
- –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥—Ä–µ–¥–∞–≥–æ–≤–∞–Ω–∏–º –ø—ñ–∑–Ω—ñ—à–µ (—à–∞–±–ª–æ–Ω –∑–º—ñ–Ω—é—î—Ç—å—Å—è, –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –Ω—ñ).

–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ:

| –®–∞–±–ª–æ–Ω (`TASK_TEMPLATE`)          | –ó–∞–≤–¥–∞–Ω–Ω—è (`TASKS`)              |
|----------------------------------|---------------------------------|
| `TASK_CONTENT` ‚Äî –∑—Ä–∞–∑–æ–∫ —Ç–µ–∫—Å—Ç—É   | `TASK_CONTENT` ‚Äî –∫–æ–ø—ñ—è –¥–ª—è —é–∑–µ—Ä–∞ |
| `CREATOR_ID` ‚Äî —Ö—Ç–æ —Å—Ç–≤–æ—Ä–∏–≤ —à–∞–±–ª–æ–Ω| `CREATOR_ID` ‚Äî —Ö—Ç–æ —Å—Ç–≤–æ—Ä–∏–≤ –∑–∞–≤–¥–∞–Ω–Ω—è |

---

## üß© 3. –Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å —à–∞–±–ª–æ–Ω–∏ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ?

1. **–¢–∏ —Å—Ç–≤–æ—Ä—é—î—à —à–∞–±–ª–æ–Ω** —É `TASK_TEMPLATES`
2. –í—ñ–Ω –º–∞—î:
   - `TASK_CONTENT`
   - `PERIOD_INTERVAL` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 7 –¥–Ω—ñ–≤)
   - `NEXT_RUN_DATE` ‚Äî –∫–æ–ª–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è
3. –Ñ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è –≤ `TASK_TEMPLATE_SUBTASKS`
4. ‚ú≥Ô∏è **APEX Automation** –∞–±–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —à–∞–±–ª–æ–Ω–∏, —É —è–∫–∏—Ö `NEXT_RUN_DATE <= SYSDATE`
5. –Ø–∫—â–æ —É–º–æ–≤–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è:
   - —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å —É `TASKS`
   - –∫–æ–ø—ñ—é—î—Ç—å—Å—è `TASK_CONTENT` + –≤—Å–µ —ñ–Ω—à–µ
   - —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è `TASK_SUBTASKS` –¥–ª—è –Ω–æ–≤–æ–≥–æ `TASK_ID`, –∑ `TEMPLATE_SUBTASK_ID` = ID —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ

---

## üß™ 4. –ü—Ä–∏–∫–ª–∞–¥ –≤—Å—Ç–∞–≤–∫–∏ –¥–∞–Ω–∏—Ö

```sql
-- –î–æ–¥–∞—î–º–æ —à–∞–±–ª–æ–Ω
INSERT INTO TASK_TEMPLATES (
  TASK_CONTENT, CREATOR_ID, DEPARTMENT_ID, UNIT_ID,
  TYPE_ID, PERIOD_INTERVAL, NEXT_RUN_DATE, STATUS_ID
) VALUES (
  '–©–æ—Ç–∏–∂–Ω–µ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä—ñ–≤', 101, 2, 3,
  1, 7, TO_DATE('2025-04-01', 'YYYY-MM-DD'), 1
);
```

```sql
-- –î–æ–¥–∞—î–º–æ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è —à–∞–±–ª–æ–Ω—É
INSERT INTO TASK_TEMPLATE_SUBTASKS (TEMPLATE_ID, SUBTASK_CONTENT, SUBTASK_ORDER, PARENT_ID)
VALUES (1, '–ó—ñ–±—Ä–∞—Ç–∏ –ª–æ–≥–∏', 1, NULL);

INSERT INTO TASK_TEMPLATE_SUBTASKS (TEMPLATE_ID, SUBTASK_CONTENT, SUBTASK_ORDER, PARENT_ID)
VALUES (1, '–û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à', 2, NULL);
```

üîÑ –ü–æ—Ç—ñ–º –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ —Å—Ç–≤–æ—Ä—é—î:

```sql
-- –ù–æ–≤–∞ –∑–∞–¥–∞—á–∞ –∑ —à–∞–±–ª–æ–Ω—É
INSERT INTO TASKS (
  TASK_CONTENT, CREATOR_ID, DEPARTMENT_ID, UNIT_ID,
  TYPE_ID, DATE_CREATE, PLANNING_DATE_END, STATUS_ID,
  IS_GENERATED, GENERATED_DATE, TEMPLATE_ID
) VALUES (
  '–©–æ—Ç–∏–∂–Ω–µ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä—ñ–≤', 101, 2, 3,
  1, SYSDATE, SYSDATE + 7, 1,
  'Y', SYSDATE, 1
);
```

```sql
-- –ù–æ–≤—ñ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è
INSERT INTO TASK_SUBTASKS (TASK_ID, SUBTASK_CONTENT, SUBTASK_ORDER, PARENT_ID, TEMPLATE_SUBTASK_ID)
VALUES (1001, '–ó—ñ–±—Ä–∞—Ç–∏ –ª–æ–≥–∏', 1, NULL, 1);

INSERT INTO TASK_SUBTASKS (TASK_ID, SUBTASK_CONTENT, SUBTASK_ORDER, PARENT_ID, TEMPLATE_SUBTASK_ID)
VALUES (1001, '–û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à', 2, NULL, 2);
```

---

## üß± 5. DBML –°—Ö–µ–º–∞

–û—Å—å –ø–æ–≤–Ω–∞ —Å—Ö–µ–º–∞ –≤ DBML:

```dbml
Table TASK_TEMPLATES {
  id int [pk, increment]
  task_content varchar(4000)
  creator_id int
  department_id int
  unit_id int
  type_id int
  period_interval int
  period_time time
  next_run_date date
  status_id int
  created_at date
}

Table TASK_TEMPLATE_SUBTASKS {
  id int [pk, increment]
  template_id int [ref: > TASK_TEMPLATES.id]
  subtask_content varchar(4000)
  subtask_order int
  parent_id int [ref: - TASK_TEMPLATE_SUBTASKS.id]
}

Table TASKS {
  id int [pk, increment]
  date_create date
  task_content varchar(4000)
  creator_id int
  department_id int
  unit_id int
  type_id int
  planning_date_start date
  planning_date_end date
  actual_date_end date
  status_id int
  is_generated char(1)
  generated_date date
  template_id int [ref: > TASK_TEMPLATES.id]
}

Table TASK_SUBTASKS {
  id int [pk, increment]
  task_id int [ref: > TASKS.id]
  subtask_content varchar(4000)
  status_id int
  planning_date_end date
  parent_id int [ref: - TASK_SUBTASKS.id]
  subtask_order int
  template_subtask_id int [ref: > TASK_TEMPLATE_SUBTASKS.id]
}
```

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫:

| –Ø–∫—â–æ —Ç–∏‚Ä¶                             | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è                         |
|--------------------------------------|--------------------------------------|
| üîπ —Ö–æ—á–µ—à –ø—Ä–æ—Å—Ç–æ—Ç—É                    | –ú–æ–∂–µ—à –∑–∞–ª–∏—à–∏—Ç–∏ –≤—Å–µ –≤ `TASKS`         |
| ‚úÖ —Ö–æ—á–µ—à —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç–µ–π        | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `TASK_TEMPLATES`        |
| üìä —Ö–æ—á–µ—à –∞–Ω–∞–ª—ñ—Ç–∏–∫—É —ñ –∫–æ–Ω—Ç—Ä–æ–ª—å —à–∞–±–ª–æ–Ω—ñ–≤ | –ó–≤‚Äô—è–∑–æ–∫ —à–∞–±–ª–æ–Ω ‚Üí –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –º–∞—Å—Ç—Ö–µ–≤  |

---

üîß –ì–æ—Ç–æ–≤–∏–π ‚Äî –º–æ–∂–µ–º–æ:
- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ SQL –∑ —Ü—å–æ–≥–æ DBML,
- –ù–∞–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–∞–≤–¥–∞–Ω–Ω—è –∑ —à–∞–±–ª–æ–Ω—É,
- –°—Ç–≤–æ—Ä–∏—Ç–∏ APEX —Ñ–æ—Ä–º—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —à–∞–±–ª–æ–Ω—ñ–≤.

–†—É—Ö–∞—î–º–æ—Å—å –¥–∞–ª—ñ? üòä