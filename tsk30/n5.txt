–©–æ–± —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É:

> **"–ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç—ñ –∑–∞–ø–∏—Å–∏, –∑ —è–∫–∏–º–∏ –Ω–µ–º–∞—î –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è, –∞ —è–∫—â–æ –≤—Å—ñ –≤–∂–µ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω—ñ –∞–±–æ –Ω–µ–º–∞—î –≤–∑–∞–≥–∞–ª—ñ ‚Äî –≤–∏–≤–æ–¥–∏—Ç–∏ —Ç–µ–∫—Å—Ç ‚Äú–ù–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è‚Äù –∑–∞–º—ñ—Å—Ç—å –∑–≤—ñ—Ç—É"**,
> —Ç–∏ –º–æ–∂–µ—à –∑—Ä–æ–±–∏—Ç–∏ —Ç–∞–∫:

---

## ‚úÖ –í–ê–†–Ü–ê–ù–¢ 1: –í APEX (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

### üîπ –ö—Ä–æ–∫ 1: **SQL-–∑–∞–ø–∏—Ç –¥–ª—è IR (–±–µ–∑ –∑–º—ñ–Ω):**

```sql
SELECT 
  t.ID as TASK_ID,
  '–ó–º—ñ–Ω–∞ ' || TO_CHAR(:PXX_SHIFT_START, 'DD.MM.YYYY HH24:MI') || ' ‚Äî ' || TO_CHAR(:PXX_SHIFT_END, 'HH24:MI') AS TASK_SHIFT,
  CASE 
    WHEN t.TASK_TYPE = 2 THEN 
      (SELECT LISTAGG(st.SUBTASK_CONTENT, '; ') WITHIN GROUP (ORDER BY st.SUBTASK_ORDER)
       FROM TASK_SUBTASKS st 
       WHERE st.TASK_ID = t.ID)
    ELSE 
      t.TASK_CONTENT
  END AS TASK_CONTENT,
  t.PLANNING_DATE_START,
  t.PLANNING_DATE_END,
  'f?p=&APP_ID.:6:&SESSION.::&DEBUG.:6:P6_TASK_ID:' || t.ID AS LINK_TO_DETAILS
FROM TASKS t
WHERE NOT EXISTS (
    SELECT 1 
    FROM TASK_VIEWED v 
    WHERE v.TASK_ID = t.ID 
      AND v.USER_ID = :PXX_USER_ID 
      AND v.DATE_VIEWED BETWEEN :PXX_SHIFT_START AND :PXX_SHIFT_END
)
```

---

### üîπ –ö—Ä–æ–∫ 2: **–î–æ–¥–∞–π HTML —Ä–µ–≥—ñ–æ–Ω –∑–≤–µ—Ä—Ö—É –∞–±–æ –∑–∞–º—ñ—Å—Ç—å –∑–≤—ñ—Ç—É**

1. –°—Ç–≤–æ—Ä–∏ **HTML —Ä–µ–≥—ñ–æ–Ω** (—Ç–∏–ø: *Static Content*) –Ω–∞–¥ IR.
2. –í–º—ñ—Å—Ç:

```html
<div id="no-records-text" style="display:none; color:#b00; font-weight:bold; margin-bottom:10px;">
  –ù–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è.
</div>
```

---

### üîπ –ö—Ä–æ–∫ 3: **Dynamic Action (Page Load –∞–±–æ –ø—ñ—Å–ª—è Refresh IR)**

* **–ü–æ–¥—ñ—è**: *After Refresh* (–¥–ª—è —Ç–≤–æ–≥–æ IR)
* **True Action**: *Execute JavaScript Code*

```js
var hasData = apex.region("your_ir_static_id").widget().find("tbody tr td").length > 1;

if (!hasData) {
  $("#no-records-text").show();
  $("#your_ir_static_id").hide();  // —Ö–æ–≤–∞—î–º–æ IR
} else {
  $("#no-records-text").hide();
  $("#your_ir_static_id").show(); // –ø–æ–∫–∞–∑—É—î–º–æ IR
}
```

> –ó–∞–º—ñ–Ω–∏—Ç–∏ `"your_ir_static_id"` –Ω–∞ **Static ID** —Ç–≤–æ—î—ó IR (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `tasks_report`)

---

## ‚úÖ –í–ê–†–Ü–ê–ù–¢ 2: –ß–µ—Ä–µ–∑ PL/SQL Function Returning SQL Query (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

1. –°—Ç–≤–æ—Ä–∏ PL/SQL —Ñ—É–Ω–∫—Ü—ñ—é —Ç–∏–ø—É `Function Returning SQL Query`, —è–∫–∞ –ø–æ–≤–µ—Ä—Ç–∞—î `'SELECT ...'` –∞–±–æ `'SELECT NULL a, NULL b FROM DUAL WHERE 1=0'`, —è–∫—â–æ –∑–∞–ø–∏—Å—ñ–≤ –Ω–µ–º–∞—î.
2. –ê–ª–µ –≤ —Ç–∞–∫–æ–º—É —Ä–∞–∑—ñ **–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤–∏–≤–æ–¥–∏—Ç–∏ –≤—Ä—É—á–Ω—É ‚Äî –∞–±–æ –æ–∫—Ä–µ–º–∏–º HTML-–µ–ª–µ–º–µ–Ω—Ç–æ–º.

---

üîî –Ø–∫—â–æ —Ç—Ä–µ–±–∞ ‚Äî –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤—Å—Ç–∞–≤–∏—Ç–∏ –≤—Å–µ –≤ —Ç–≤–æ—é —Å—Ç–æ—Ä—ñ–Ω–∫—É. –•–æ—á–µ—à?
