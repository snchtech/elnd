–û—Å—å –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è, —è–∫ **–¥–æ–¥–∞—Ç–∏ –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–µ –ø–æ–ª–µ ‚Äú–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è‚Äù –∑ pop-up LOV** —É —Ñ–æ—Ä–º—É –≤ Oracle APEX –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –∑–∞–º—ñ—â–µ–Ω–Ω—è —ñ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –ø–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É (—á–µ—Ä–µ–∑ `TSEH_ID`):

---

## ‚úÖ 1. –î–æ–¥–∞–π Item –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ñ–æ—Ä–º–∏

### ‚ñ∂ –ù–∞–∑–≤–∞ Item:

`PXX_UCHASTOK` (–∑–∞–º—ñ–Ω–∏ `PXX` –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Ñ–æ—Ä–º–∏)

### ‚ñ∂ –¢–∏–ø:

**Popup LOV**

### ‚ñ∂ –û–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ—Å—Ç—å:

**Required = No**

---

## ‚úÖ 2. SQL-–∑–∞–ø–∏—Ç –¥–ª—è LOV

```sql
SELECT 
  UCAHSTOK_SHORT_NAME AS display_value,
  UCAHSTOK AS return_value
FROM STRUCTR
WHERE DATE_END IS NULL
  AND TSEH_ID = :P0_EFFECTIVE_TSEH_ID
ORDER BY UCAHSTOK_SHORT_NAME
```

> üîπ –ú–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `:P0_EFFECTIVE_TSEH_ID` ‚Äî —Ü–µ —É–º–æ–≤–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç, –≤ —è–∫–∏–π –º–∏ –∑–∞–ø–∏—à–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –∑–∞–º—ñ—â–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–µ —á–∏ –Ω—ñ.

---

## ‚úÖ 3. –î–æ–¥–∞–π –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π item `P0_EFFECTIVE_TSEH_ID` –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É (–∞–±–æ —É form page)

* –¢–∏–ø: **Hidden**
* –ó–Ω–∞—á–µ–Ω–Ω—è: PL/SQL Expression:

```plsql
CASE 
  WHEN :P0_SUBSTITUTION_MODE = 1 THEN :P0_NEW_DEPARTMENT_ID 
  ELSE :P0_CURRENT_DEPARTMENT
END
```

> üîπ `P0_SUBSTITUTION_MODE = 1` ‚Äî –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∫–ª—é—á–µ–Ω–æ –∑–∞–º—ñ—â–µ–Ω–Ω—è
> üîπ –í –ø–æ–ª—ñ `TSEH_ID` —É —Ç–∞–±–ª–∏—Ü—ñ `STRUCTR` –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ç–æ–π —Å–∞–º–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä, —â–æ –π —É `P0_NEW_DEPARTMENT_ID` –∞–±–æ `P0_CURRENT_DEPARTMENT`

---

## ‚úÖ 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∏–Ω–∞–º—ñ—á–Ω—É –¥—ñ—é, —â–æ–± –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ LOV –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∑–∞–º—ñ—â–µ–Ω–Ω—è

### ‚ñ∂ –ü–æ–¥—ñ—è:

**Change** ‚Üí –Ω–∞ `P0_SUBSTITUTION_MODE` –∞–±–æ –Ω–∞ item, —è–∫–∏–π –≤–ø–ª–∏–≤–∞—î –Ω–∞ department

### ‚ñ∂ –î—ñ—è:

**Set Value**

* Item: `P0_EFFECTIVE_TSEH_ID`
* Type: **PL/SQL Expression**:

```plsql
CASE 
  WHEN :P0_SUBSTITUTION_MODE = 1 THEN :P0_NEW_DEPARTMENT_ID 
  ELSE :P0_CURRENT_DEPARTMENT
END
```

‚úÖ –ü–æ—Ç—ñ–º:

* **–î–æ–¥–∞–π –¥—ñ—é ‚Üí Refresh** ‚Üí –Ω–∞ `PXX_UCHASTOK` (—â–æ–± –æ–Ω–æ–≤–∏–≤—Å—è LOV)

---

## ‚úÖ 5. –£–º–æ–≤–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–ª—è (–æ–ø—Ü—ñ–π–Ω–æ)

–Ø–∫—â–æ –ø–æ–ª–µ –º–∞—î –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—è –ª–∏—à–µ –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ `Radio Button` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ `–ü–æ—Å–∞–¥–∞ + –¶–µ—Ö + Unit`), –∑—Ä–æ–±–∏:

* **–£–º–æ–≤–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è**:

  * –¢–∏–ø: **Value of Item / Column in Expression**
  * –í–∏—Ä–∞–∑: `:PXX_SIGN_TYPE = 'POSADA_CEH_UNIT'` (–ø—Ä–∏–ø—É—Å—Ç–∏–º–æ, —â–æ —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è radio button)

---

## ‚úÖ 6. –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–∏ –æ—Ç—Ä–∏–º–∞—î—à –ø–æ–ª–µ `–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è`, —è–∫–µ:

* –ü–æ–∫–∞–∑—É—î `UCAHSTOK_SHORT_NAME`, –∞–ª–µ –ø–æ–≤–µ—Ä—Ç–∞—î `UCAHSTOK`
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ñ—ñ–ª—å—Ç—Ä—É—î—Ç—å—Å—è –ø–æ `TSEH_ID`, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∑–∞–º—ñ—â–µ–Ω–Ω—è
* –ù–µ —î –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏–º
* –ü—Ä–∞—Ü—é—î –∑ –¥–∏–Ω–∞–º—ñ—á–Ω–æ—é –∑–º—ñ–Ω–æ—é –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

---

üîî **–•–æ—á–µ—à ‚Äî –º–æ–∂—É –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ JSON-–µ–∫—Å–ø–æ—Ä—Ç —Ü—å–æ–≥–æ item‚Äô–∞ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É –≤ APEX.**
