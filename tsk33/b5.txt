–¢–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–º—ñ—Ç–∏–≤, —â–æ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –ª–æ–≥—ñ—Ü—ñ –ø–æ–±—É–¥–æ–≤–∏ HTML, –∞ –≤ —Ç–æ–º—É, **–≤ —è–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É –ø–µ—Ä–µ–±–∏—Ä–∞—é—Ç—å—Å—è –∑–∞–ø–∏—Å–∏ –∫—É—Ä—Å–æ—Ä–∞** `c_subtasks`. –ù–∞–≤—ñ—Ç—å —è–∫—â–æ `ORDER BY` –≤ `PL/SQL Developer` –ø—Ä–∞—Ü—é—î, –≤ `PL/SQL CURSOR` Oracle –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –ø–æ—Ä—è–¥–æ–∫, **–ø–æ–∫–∏ —è–≤–Ω–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ `ORDER BY` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `CURSOR`**.

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è: –∑–º—ñ–Ω–∏—Ç–∏ `ORDER BY` —É –∫—É—Ä—Å–æ—Ä—ñ, —â–æ–± —Å–ø–æ—á–∞—Ç–∫—É –π—à–ª–∏ `IS_SIGNED = 1`, –∞ –ø–æ—Ç—ñ–º `= 0`.

---

### üîß –û–Ω–æ–≤–ª–µ–Ω–∏–π –∫—É—Ä—Å–æ—Ä:

```plsql
CURSOR c_subtasks IS
  SELECT
    sr.SUBTASK_ID,
    MAX(CASE WHEN sh.ID IS NOT NULL THEN 1 ELSE 0 END) AS IS_SIGNED
  FROM
    TaskTracker.SIGNATURERIGHTS@TO_TASKTRACKER10 sr
  LEFT JOIN
    TaskTracker.SIGNATUREHISTORY@TO_TASKTRACKER10 sh
    ON sr.ID = sh.SIGNRIGHT_ID
  WHERE
    sr.TASK_ID = :P_TASK_ID
    AND sr.SUBTASK_ID IS NOT NULL
  GROUP BY
    sr.SUBTASK_ID
  ORDER BY
    MAX(CASE WHEN sh.ID IS NOT NULL THEN 0 ELSE 1 END), -- signed first
    sr.SUBTASK_ID;
```

> üîÑ –£–º–æ–≤–∞ `MAX(CASE WHEN sh.ID IS NOT NULL THEN 0 ELSE 1 END)` –¥–æ–∑–≤–æ–ª—è—î:
>
> * –°–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É **–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ** (IS\_SIGNED = 1)
> * –ü–æ—Ç—ñ–º **–Ω–µ–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ** (IS\_SIGNED = 0)

---

### üîÅ –ê–±–æ —â–µ –∫–æ—Ä–æ—Ç—à–µ:

```sql
ORDER BY MAX(CASE WHEN sh.ID IS NOT NULL THEN 1 ELSE 0 END) DESC, sr.SUBTASK_ID
```

---

## üé® –°—Ç–∏–ª—ñ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä—É (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ):

```css
.subtask-progress {
  display: flex;
  gap: 4px;
}

.subtask-box {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  border: 1px solid #ccc;
}

.subtask-box.filled {
  background-color: green;
}

.subtask-box.empty {
  background-color: white;
}
```

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç:

* –ü—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä –≤–∏–≥–ª—è–¥–∞—î —è–∫ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫—ñ–≤:

  * `üü©üü©üü©‚¨ú‚¨ú` ‚Äî —è–∫—â–æ 3 –∑ 5 –ø—ñ–¥–ø–∏—Å–∞–Ω—ñ
* –ü—ñ–¥–ø–∏—Å–∞–Ω—ñ (`IS_SIGNED = 1`) –∑–∞–≤–∂–¥–∏ –π–¥—É—Ç—å –∑–ª—ñ–≤–∞ ‚Üí —Å—Ö–æ–∂–µ –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å

---

## üìå –ë–æ–Ω—É—Å ‚Äî —Ä–∞—Ö—É–Ω–æ–∫ –ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö / –≤—Å—ñ—Ö:

–Ø–∫—â–æ —Ç–∏ —Ö–æ—á–µ—à —â–µ –¥–æ–¥–∞—Ç–∏ —Ç–µ–∫—Å—Ç –∞–±–æ –≤—ñ–¥—Å–æ—Ç–æ–∫, —Ç–æ –º–æ–∂–Ω–∞:

```plsql
DECLARE
  ...
  l_total PLS_INTEGER := 0;
  l_signed PLS_INTEGER := 0;
BEGIN
  FOR rec IN c_subtasks LOOP
    l_total := l_total + 1;
    IF rec.IS_SIGNED = 1 THEN
      l_signed := l_signed + 1;
    END IF;
    ...
  END LOOP;

  HTP.P('<div class="progress-label">' || l_signed || '/' || l_total || ' –ø—ñ–¥–ø–∏—Å–∞–Ω–æ</div>');
  ...
END;
```

---

üîî –Ø–∫—â–æ —Ö–æ—á–µ—à, —è –º–æ–∂—É –ø–µ—Ä–µ—Ä–æ–±–∏—Ç–∏ –ø—ñ–¥ SVG-–≤–µ—Ä—Å—ñ—é –∞–±–æ –∞–Ω—ñ–º–æ–≤–∞–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä.
