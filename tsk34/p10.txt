–û–∫, –¥–∞–≤–∞–π —Ä–µ–∞–ª—ñ–∑—É—î–º–æ **–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è APEX\_COLLECTION —É AJAX** –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º `refresh` –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Ä–µ–≥—ñ–æ–Ω—É.

---

## ‚úÖ **–ö—Ä–æ–∫–∏: AJAX + Dynamic Action + Refresh**

### üîπ **1. –°—Ç–≤–æ—Ä–∏ —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å**

**–ù–∞–∑–≤–∞:** `LOAD_SUBTASKS_COLLECTION`
**–¢–∏–ø:** PL/SQL
**Execution Scope:** AJAX Callback

```plsql
DECLARE
  CURSOR c_subtasks IS
    SELECT
      TASK_ID,
      SUBTASK_CONTENT,
      PLANNING_DATE_END,
      PARENT_ID,
      SUBTASK_ORDER,
      STATUS_ID,
      ID
    FROM TaskTracker.TASK_SUBTASKS@TO_TASKTRACKER10
    WHERE TASK_ID = :P6_TASK_ID;

BEGIN
  IF APEX_COLLECTION.COLLECTION_EXISTS('TASK_SUBTASKS_COLLECTION') THEN
    APEX_COLLECTION.DELETE_COLLECTION('TASK_SUBTASKS_COLLECTION');
  END IF;

  APEX_COLLECTION.CREATE_COLLECTION('TASK_SUBTASKS_COLLECTION');

  FOR r IN c_subtasks LOOP
    APEX_COLLECTION.ADD_MEMBER(
      p_collection_name => 'TASK_SUBTASKS_COLLECTION',
      p_c001 => r.TASK_ID,
      p_c002 => r.SUBTASK_CONTENT,
      p_d001 => r.PLANNING_DATE_END,
      p_c003 => r.PARENT_ID,
      p_c004 => r.SUBTASK_ORDER,
      p_c005 => r.STATUS_ID,
      p_d002 => SYSDATE,
      p_d003 => NULL,
      p_c006 => :P0_CUR_USER_TABNO,
      p_c009 => r.ID,
      p_n001 => 0
    );
  END LOOP;
END;
```

---

### üîπ **2. –î–æ–¥–∞–π Dynamic Action –Ω–∞ Page Load**

* **Event:** Page Load
* **True Action 1: Execute JavaScript Code**

```js
apex.server.process('LOAD_SUBTASKS_COLLECTION', {
  x01: $v('P6_TASK_ID') // —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
}, {
  success: function () {
    // –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è ‚Äî –æ–Ω–æ–≤–ª—é—î–º–æ IG —Ä–µ–≥—ñ–æ–Ω
    apex.region("subtasks_ig_static_id").refresh();
  },
  error: function (jqXHR, textStatus, errorThrown) {
    console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å:", textStatus, errorThrown);
  }
});
```

üî∏ –ó–∞–º—ñ–Ω–∏ `"subtasks_ig_static_id"` –Ω–∞ **Static ID** —Å–≤–æ–≥–æ IG —Ä–µ–≥—ñ–æ–Ω—É –∑ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏.

---

### üîπ **3. –í–∏–º–∫–Ω–∏ –ª–æ–≥—ñ–∫—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó –≤ `Before Header`**

–¢–µ–ø–µ—Ä –≤–æ–Ω–∞ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ ‚Äî —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è —à–≤–∏–¥–∫–æ, —ñ –¥–∞–Ω—ñ –ø—ñ–¥—Ç—è–≥–Ω—É—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

---

## üí¨ **–î–æ–¥–∞—Ç–∫–æ–≤–æ: —è–∫—â–æ —É —Ç–µ–±–µ —î —â–µ –ø—ñ–¥—à–∞–±–ª–æ–Ω–∏**

üîÅ –ú–æ–∂–Ω–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ –≤—Å–µ —Ç–µ —Å–∞–º–µ:

* –æ–∫—Ä–µ–º–∏–π AJAX process ‚Üí `LOAD_SUBTEMPLATE_COLLECTION`
* —Å–≤—ñ–π `apex.server.process(...)`
* `refresh()` –Ω–∞ —ñ–Ω—à–∏–π —Ä–µ–≥—ñ–æ–Ω

---

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –ø—ñ–¥—Ö–æ–¥—É

| –ü–ª—é—Å                                             | –î–µ—Ç–∞–ª—ñ                                        |
| ------------------------------------------------ | --------------------------------------------- |
| ‚ö° –®–≤–∏–¥—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏                   | –°—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–µ —á–µ–∫–∞—î –ø–æ–≤–Ω–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó |
| üö´ –ú–µ–Ω—à–µ –∑–∞–≤–∏—Å–∞–Ω—å                                | –ù–µ–º–∞—î –∑–∞—Ç—Ä–∏–º–∫–∏ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥—É –≤–µ–ª–∏–∫–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π  |
| üîÑ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é –¥–∏–Ω–∞–º—ñ—á–Ω–æ | –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏                 |

---

–•–æ—á–µ—à ‚Äî –º–æ–∂—É —Ç–∞–∫–æ–∂ –¥–æ–ø–æ–º–æ–≥—Ç–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `progress bar` –∞–±–æ `loading spinner`, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏, —â–æ –¥–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è. –ü–æ—Ç—Ä—ñ–±–Ω–æ?
