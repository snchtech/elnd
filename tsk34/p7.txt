–ê–±—Å–æ–ª—é—Ç–Ω–æ —Å–ª—É—à–Ω–µ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è. –î—ñ–π—Å–Ω–æ, **view –Ω–µ –º–æ–∂–µ –Ω–∞–ø—Ä—è–º—É –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ `APEX_COLLECTIONS`**, –±–æ —Ü—ñ –¥–∞–Ω—ñ –∂–∏–≤—É—Ç—å **–≤ —Å–µ—Å—ñ—ó APEX**, –∞ **view ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –±–∞–∑—ñ**, —è–∫–∞ –Ω–µ –∑–Ω–∞—î –Ω—ñ—á–æ–≥–æ –ø—Ä–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

–¢–æ–∂ **—É —Ç–≤–æ—î–º—É –≤–∏–ø–∞–¥–∫—É view –Ω–µ –¥–æ–ø–æ–º–æ–∂–µ**, —è–∫—â–æ –¥–∂–µ—Ä–µ–ª–æ–º —î `APEX_COLLECTIONS`.

---

## ‚úÖ –©–æ —Ä–µ–∞–ª—å–Ω–æ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ view:

### üîπ 1. **–ó–∞–º—ñ—Å—Ç—å —Ä–µ–∫—É—Ä—Å—ñ—ó –≤ SQL ‚Äî –Ω–∞–ø–æ–≤–Ω–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é –≤–∂–µ –∑ –æ–±—á–∏—Å–ª–µ–Ω–∏–º–∏ –ø–æ–ª—è–º–∏ —É PL/SQL**

–¢–∏ –º–æ–∂–µ—à –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É –ª–æ–≥—ñ–∫—É –Ω–µ –≤ `WITH subtask_tree`, –∞ –≤ –æ–∫—Ä–µ–º—ñ–π PL/SQL-—Ñ—É–Ω–∫—Ü—ñ—ó –∞–±–æ –ø—Ä–æ—Ü–µ–¥—É—Ä—ñ, —è–∫–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó:

* –±—É–¥—É—î –¥–µ—Ä–µ–≤–æ —É –ø–∞–º‚Äô—è—Ç—ñ (—á–µ—Ä–µ–∑ –º–∞—Å–∏–≤–∏/—Ç–∞–±–ª–∏—Ü—ñ PL/SQL)
* —Ä–∞—Ö—É—î `level`, `full_number`, `path_b`
* –æ–¥—Ä–∞–∑—É –≤—Å—Ç–∞–≤–ª—è—î —Ü—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —É –∫–æ–ª–µ–∫—Ü—ñ—é (`apex_collection.add_member`)

> üëâ –¢–∞–∫–∏–º —á–∏–Ω–æ–º, IG –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ **–ø—Ä–æ—Å—Ç–∏–º select –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó**, –∞ –Ω–µ –∑ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–º `WITH`.

---

### üîπ 2. **–ü–æ–±—É–¥—É–≤–∞—Ç–∏ `flat structure` –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó**

–ó–∞–º—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —É –∫–æ–ª–µ–∫—Ü—ñ—ó —Å–∏—Ä–∏—Ö –¥–∞–Ω–∏—Ö, –º–æ–∂–µ—à:

* –ø—Ä–∏ **–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å** —É `BEFORE HEADER` –æ–¥—Ä–∞–∑—É —Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏:

  * —ñ—î—Ä–∞—Ä—Ö—ñ—é
  * —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
  * —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—é
* —ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–∂–µ **–≥–æ—Ç–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è** (level, drag\_handle, display\_content —Ç–æ—â–æ)

> –¶–µ —Ç—Ä–æ—Ö–∏ –≤–∞–∂—á–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏, –∞–ª–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –Ω–∞–±–∞–≥–∞—Ç–æ **—à–≤–∏–¥—à–∏–π —Ä–µ–Ω–¥–µ—Ä** —É APEX.

---

### üîπ 3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∑ `SQL Query` –¥–ª—è IG** (–±–µ–∑ –∫–æ–ª–µ–∫—Ü—ñ–π) ‚ùó

–Ø–∫—â–æ —Ç–≤–æ—è –ª–æ–≥—ñ–∫–∞ –Ω–µ –≤–∏–º–∞–≥–∞—î —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (—Ç–æ–±—Ç–æ IG –ª–∏—à–µ –¥–ª—è **–ø–µ—Ä–µ–≥–ª—è–¥—É**), —Ç–æ –∫—Ä–∞—â–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `APEX_COLLECTION`, –∞ –∑—Ä–æ–±–∏—Ç–∏ SQL Query –Ω–∞–ø—Ä—è–º—É –∑ —Ç–∞–±–ª–∏—Ü—ñ:

```sql
WITH RECURSIVE subtask_tree AS (
  SELECT ...
  FROM TASK_SUBTASKS
  WHERE TASK_ID = :P6_TASK_ID AND PARENT_ID IS NULL
  UNION ALL
  SELECT ...
  FROM TASK_SUBTASKS child
  JOIN subtask_tree parent ON child.PARENT_ID = parent.ID
)
SELECT ...
FROM subtask_tree
```

---

## üß† –ü—ñ–¥—Å—É–º–æ–∫

| –í–∏–ø–∞–¥–æ–∫                | –ö—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥                                                |
| ---------------------- | ------------------------------------------------------------ |
| –î–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó | ‚ùå View –Ω–µ–º–æ–∂–ª–∏–≤–æ                                             |
| –°–∫–ª–∞–¥–Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è       | ‚úîÔ∏è –§–æ—Ä–º—É–≤–∞—Ç–∏ level/–Ω–æ–º–µ—Ä —É PL/SQL, –∞ –Ω–µ –≤ SQL                |
| –¢—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≥–ª—è–¥        | ‚úîÔ∏è –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ SQL View –∞–±–æ Recursive CTE               |
| –û–±–∏–¥–≤–∞ IG –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ  | ‚úîÔ∏è –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±–∏–¥–≤—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó —ñ –ø—Ä–∏—Ö–æ–≤—É–≤–∞—Ç–∏ —Ä–µ–≥—ñ–æ–Ω–∏ –ø–æ —É–º–æ–≤—ñ |

---

üîß –Ø–∫—â–æ —Ö–æ—á–µ—à ‚Äî –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ PL/SQL –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –¥–µ—Ä–µ–≤–∞ –ø—Ä—è–º–æ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ SQL. –¶–µ –ø—Ä–∏—à–≤–∏–¥—à–∏—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø–æ–º—ñ—Ç–Ω–æ.
