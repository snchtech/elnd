–û—Å—å –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ **"–î–æ–≤—ñ–¥–Ω–∏–∫–∏"** –≤ Oracle APEX –∑ —Ñ–æ—Ä–º–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –≤ —Ç–∞–±–ª–∏—Ü—é `TASK_COLLECTIONS`:

---

## üîß **1. –¢–∞–±–ª–∏—Ü—ñ:**

* `TASK_COLLECTIONS`: –æ—Å–Ω–æ–≤–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –¥–ª—è –¥–æ–≤—ñ–¥–Ω–∏–∫–∞
* `COLLECTIONS_TYPE`: —Ç–∏–ø–∏ –¥–æ–≤—ñ–¥–Ω–∏–∫–∞

---

## üìÑ **2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏:**

–°—Ç–≤–æ—Ä—ñ—Ç—å **Modal Dialog Page** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–æ—Ä—ñ–Ω–∫–∞ 10) —Ç–∏–ø—É **Form** –∑ —Ä—É—á–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (–±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ CRUD).

---

## üß© **3. –î–æ–¥–∞–π—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É:**

### üí¨ **Textarea:**

* **Name:** `P10_COLLECTION_ITEM_CONTENT`
* **Label:** –¢–µ–∫—Å—Ç –µ–ª–µ–º–µ–Ω—Ç—É

### üìã **Select List:**

* **Name:** `P10_TYPE_ID`
* **Label:** –¢–∏–ø
* **LOV Query:**

  ```sql
  SELECT NAME d, ID r FROM COLLECTIONS_TYPE ORDER BY NAME
  ```
* **Settings:**

  * Save Session State: **Yes**
  * Add Dynamic Action on **Change** (–¥–∏–≤. –Ω–∏–∂—á–µ)

### üîÄ **Switch:**

* **Name:** `P10_IS_PERSONAL`
* **Label:** –û—Å–æ–±–∏—Å—Ç–µ (–±—É–¥–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—å —Ç—ñ–ª—å–∫–∏ –¥–ª—è –í–∞—Å)
* **Settings:**

  * On Value: `Y`
  * Off Value: `N`
  * Save Session State: **Yes**
  * Add Dynamic Action on **Change** (–¥–∏–≤. –Ω–∏–∂—á–µ)

---

## üîÅ **4. Dynamic Actions (–Ω–∞ –∑–º—ñ–Ω—É Select/Switch):**

### A. –î–ª—è `P10_TYPE_ID`:

* **Event:** Change
* **True Action:** Execute JavaScript Code

```javascript
apex.item('P10_TYPE_ID').save();
```

### B. –î–ª—è `P10_IS_PERSONAL`:

* **Event:** Change
* **True Action:** Execute JavaScript Code

```javascript
apex.item('P10_IS_PERSONAL').save();
```

> –¶–µ –æ–Ω–æ–≤–ª—é—î –∑–Ω–∞—á–µ–Ω–Ω—è –≤ —Å–µ—Å—ñ—ó –±–µ–∑ –ø–æ–≤–Ω–æ–≥–æ —Å–∞–±–º—ñ—Ç—É.

---

## üñ±Ô∏è **5. –î–æ–¥–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–±–µ—Ä–µ–≥—Ç–∏":**

* Name: `SAVE_BTN`
* Action: **Defined by Dynamic Action**

---

## üõ†Ô∏è **6. –ü—Ä–æ—Ü–µ—Å "Processing when button click":**

### üîÑ Server-side Process:

* **Name:** `PROCESS_SAVE_COLLECTION_ITEM`
* **Point:** When Button Pressed = `SAVE_BTN`
* **Process Type:** PL/SQL Code
* **Code:**

```plsql
INSERT INTO TASK_COLLECTIONS (
  COLLECTION_ITEM_CONTENT,
  DEPARTMENT_ID,
  CREATOR_ID,
  TYPE_ID,
  IS_PERSONAL,
  DATE_CREATE
) VALUES (
  :P10_COLLECTION_ITEM_CONTENT,
  :P0_DEPARTMENT_ID,
  :P0_USER_ID,
  :P10_TYPE_ID,
  :P10_IS_PERSONAL,
  SYSDATE
);
```

> **P0\_DEPARTMENT\_ID** —Ç–∞ **P0\_USER\_ID** –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ (0).

---

## ‚úÖ **7. –î–æ–¥–∞–π—Ç–µ Dynamic Action –¥–ª—è –∫–Ω–æ–ø–∫–∏ (–æ–∫—Ä–µ–º–æ):**

### A. **Execute PL/SQL (–∑–∞–ø—É—Å–∫–∞—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è):**

* **True Action:** Execute PL/SQL Code

```plsql
NULL; -- –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è PROCESS_SAVE_COLLECTION_ITEM
```

* **Settings:** Submit Page Items:

  * `P10_COLLECTION_ITEM_CONTENT`, `P10_TYPE_ID`, `P10_IS_PERSONAL`

### B. **Close Dialog:**

* –î–æ–¥–∞–π—Ç–µ –¥—Ä—É–≥–∏–π True Action –ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:

  * **Action:** Close Dialog

---

## üìå –ü–æ—Ä–∞–¥–∞:

* –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –¥–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è `COLLECTION_ITEM_CONTENT` (–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ—Å—Ç—å) —á–µ—Ä–µ–∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –∞–±–æ `required`.

---

üîÑ –£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ:

* Select —ñ Switch –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å —Å–≤–æ—ó –∑–Ω–∞—á–µ–Ω–Ω—è —É —Å–µ—Å—ñ—é (—á–µ—Ä–µ–∑ `.save()`).
* –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –Ω–∞ –∫–Ω–æ–ø–∫—É –¥–∞–Ω—ñ –∑–∞–ø–∏—Å—É—é—Ç—å—Å—è –¥–æ `TASK_COLLECTIONS`.
* –í—ñ–∫–Ω–æ –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è.

–•–æ—á–µ—Ç–µ, —è –ø—ñ–¥–≥–æ—Ç—É—é —ñ–º–ø–æ—Ä—Ç–Ω—É APEX-—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –∞–±–æ —à–∞–±–ª–æ–Ω SQL?
