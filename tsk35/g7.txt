–û—Å—å —è–∫ –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ **Interactive Report** –¥–ª—è `TASK_COLLECTIONS` –∑ —É—Å—ñ–º–∞ –∑–∞–∑–Ω–∞—á–µ–Ω–∏–º–∏ –≤–∏–º–æ–≥–∞–º–∏:

---

## üîß **1. SQL Query –¥–ª—è –∑–≤—ñ—Ç—É:**

```sql
SELECT 
  t.ID,
  t.COLLECTION_ITEM_CONTENT AS CONTENT,
  ct.NAME AS TYPE_NAME,
  CASE WHEN t.IS_PERSONAL = 'Y' THEN 'YES' ELSE NULL END AS PERSONAL,
  u.FIRST_NAME || ' ' || u.LAST_NAME AS CREATOR,
  t.DATE_CREATE,
  d.NAME AS DEPARTMENT,
  
  -- –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è: HTML –∫–Ω–æ–ø–∫–∞ –∑ –∫–ª–∞—Å–æ–º —Ç–∞ data-id
  '<button class="del-btn" data-id="' || t.ID || '">üóëÔ∏è</button>' AS DELETE_BTN

FROM 
  TASK_COLLECTIONS t
  JOIN COLLECTIONS_TYPE ct ON t.TYPE_ID = ct.ID
  LEFT JOIN USERS u ON u.ID = t.CREATOR_ID
  LEFT JOIN DEPARTMENT d ON d.ID = t.DEPARTMENT_ID

WHERE 
  (
    t.CREATOR_ID = :P0_CURRENT_USER_ID
    OR (:P0_IS_SUBSTITUTION = 'Y' AND :P0_NEW_USER_ID IS NOT NULL AND t.CREATOR_ID = :P0_NEW_USER_ID)
    OR t.DEPARTMENT_ID = :P0_CUR_DEPARTMENT
  )
```

> üî∏ –ó–∞–º—ñ–Ω–∏ –Ω–∞–∑–≤–∏ –∫–æ–ª–æ–Ω–æ–∫ —É `USERS`, `DEPARTMENT` –∑–∞ —Å–≤–æ—ó–º–∏ –¥–∞–Ω–∏–º–∏, —è–∫—â–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è.

---

## üß© **2. –î–∏–Ω–∞–º—ñ—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ JavaScript + Apex Server Process:**

### A. **JS –∫–æ–¥ (–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –∞–±–æ Dynamic Action):**

```js
document.addEventListener('click', function(e) {
  if (e.target && e.target.classList.contains('del-btn')) {
    var id = e.target.getAttribute('data-id');
    
    apex.message.confirm("–í–∏ –¥—ñ–π—Å–Ω–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–ø–∏—Å?", function(okPressed) {
      if (okPressed) {
        apex.server.process("DELETE_COLLECTION_ITEM", {
          x01: id
        }, {
          success: function() {
            apex.region("your-region-static-id").refresh();
          }
        });
      }
    });
  }
});
```

> üî∏ –ó–∞–º—ñ–Ω—ñ—Ç—å `"your-region-static-id"` –Ω–∞ Static ID –∑–≤—ñ—Ç—É.

---

### B. **Apex Server Process:**

* **Name:** `DELETE_COLLECTION_ITEM`
* **Type:** PL/SQL
* **Code:**

```plsql
BEGIN
  DELETE FROM TASK_COLLECTIONS
  WHERE ID = APEX_APPLICATION.G_X01;
END;
```

---

## üéØ **3. –ü—ñ–¥–∫–∞–∑–∫–∏ –ø–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:**

* –î–æ–¥–∞–π—Ç–µ –¥–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (–∞–±–æ global page) Items:

  * `P0_CURRENT_USER_ID` ‚Äî ID –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  * `P0_NEW_USER_ID` ‚Äî ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —è–∫–æ–≥–æ –∑–∞–º—ñ—â–∞—é—Ç—å
  * `P0_IS_SUBSTITUTION` ‚Äî `'Y'`, —è–∫—â–æ –∞–∫—Ç–∏–≤–Ω–µ –∑–∞–º—ñ—â–µ–Ω–Ω—è
  * `P0_CUR_DEPARTMENT` ‚Äî ID –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞–∫–æ–∂ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó LOV —É —Ñ–æ—Ä–º—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (textarea/select).

---

## üìå **–©–æ –æ—Ç—Ä–∏–º–∞—î—Ç–µ —É –∑–≤—ñ—Ç—ñ:**

* –í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏ –∑ –ø—Ä–∏—î–¥–Ω–∞–Ω–∏–º–∏ –Ω–∞–∑–≤–∞–º–∏
* –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª–∏—à–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤ –∑–≥—ñ–¥–Ω–æ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É
* –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º —ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º —Ä–µ–≥—ñ–æ–Ω—É –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏

---

–ë–∞–∂–∞—î—Ç–µ, —â–æ–± —è —Å—Ñ–æ—Ä–º—É–≤–∞–≤ –≥–æ—Ç–æ–≤–∏–π APEX export-—Ñ–∞–π–ª –¥–ª—è —Ü—å–æ–≥–æ Interactive Report?
