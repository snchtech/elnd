–û–∫–µ–π! –ù–∏–∂—á–µ ‚Äî **–ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è**, —è–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤ Oracle APEX –∫–Ω–æ–ø–∫—É **"–ó–±–µ—Ä–µ–≥—Ç–∏"**, —è–∫–∞ –±—É–¥–µ:

- –∑–∞–ø—É—Å–∫–∞—Ç–∏ —Ç–≤—ñ–π **PL/SQL-–ø—Ä–æ—Ü–µ—Å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è + –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å —á–µ—Ä–µ–∑ `DRAFT_ID`**;
- –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ `TASK_SUBTASKS`;
- –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `CREATED_TASK_ID`;
- –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç–∏ –Ω–∞ —ñ–Ω—à—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –∞–±–æ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

---

## ‚úÖ 1. –ö–ù–û–ü–ö–ê "–ó–±–µ—Ä–µ–≥—Ç–∏"

- **Name:** `BTN_SAVE_TASK`
- **Label:** `–ó–±–µ—Ä–µ–≥—Ç–∏`
- **Server-side Condition:** None (–∑–∞–≤–∂–¥–∏ –≤–∏–¥–Ω–æ)
- **Action:** None (–¥—ñ—ó –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ Dynamic Action)

---

## ‚úÖ 2. –î–æ–¥–∞–π `Dynamic Action` –Ω–∞ `BTN_SAVE_TASK`

### üîπ –ó–∞–≥–∞–ª—å–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –ó–Ω–∞—á–µ–Ω–Ω—è            |
|--------------|---------------------|
| **Name**     | `DA_Save_Task`      |
| **Event**    | `Click`             |
| **Selection Type** | `Button`      |
| **Button Name**    | `BTN_SAVE_TASK` |

---

## ‚úÖ 3. –î–æ–¥–∞–π –¥—ñ—ó –¥–æ `Dynamic Action`

---

### üî∏ **True Action 1: Execute PL/SQL Code**

| –ü–æ–ª–µ                    | –ó–Ω–∞—á–µ–Ω–Ω—è                                            |
|-------------------------|-----------------------------------------------------|
| **Action**              | `Execute PL/SQL Code`                               |
| **PL/SQL Code:**        | (–≤—Å—Ç–∞–≤ —Å–≤—ñ–π —Å–∫—Ä–∏–ø—Ç –∑ INSERT + UPDATE, –¥–∏–≤. –≤–∏—â–µ)   |
| **Items to Submit:**    | –í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ–ª—è, –Ω–∞–ø—Ä.:  
`PXX_TASK_CONTENT`, `PXX_DEPARTMENT_ID`, `PXX_UNIT_ID`, `PXX_TYPE_ID`, `PXX_DRAFT_ID`, `PXX_PLANNING_DATE_START`, `PXX_PLANNING_DATE_END`, `APP_USER_ID`, ‚Ä¶ |
| **Page Items to Return:** | `PXX_CREATED_TASK_ID`

---

### üî∏ **True Action 2: Show Notification (–æ–ø—Ü—ñ–π–Ω–æ)**

- **Action:** `Show Notification`
- **Text:** `–ó–∞–≤–¥–∞–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ!`

---

### üî∏ **True Action 3: Redirect (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)**

–•–æ—á–µ—à –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–∫—É –∑–∞–≤–¥–∞–Ω–Ω—è?

- **Action:** `Redirect to Page in this Application`
- **Page:** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `103` ‚Äî —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–µ—Ä–µ–≥–ª—è–¥—É –∑–∞–≤–¥–∞–Ω–Ω—è
- **Set Items:**
  - `P103_TASK_ID` ‚Üí `&PXX_CREATED_TASK_ID.`

---

## üßº 4. (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –û—á–∏—â–µ–Ω–Ω—è —á–µ—Ä–Ω–µ—Ç–æ–∫ –ø—Ä–∏ "–°–∫–∞—Å—É–≤–∞—Ç–∏"

- –î–æ–¥–∞–π –∫–Ω–æ–ø–∫—É `–°–∫–∞—Å—É–≤–∞—Ç–∏`
- DA ‚Üí `Execute PL/SQL`:
```plsql
DELETE FROM TASK_SUBTASKS
WHERE TASK_ID IS NULL AND DRAFT_ID = :PXX_DRAFT_ID;
```

---

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫

| –ï—Ç–∞–ø                       | –ì–æ—Ç–æ–≤–æ? |
|----------------------------|---------|
| –ö–Ω–æ–ø–∫–∞ –ó–±–µ—Ä–µ–≥—Ç–∏            | ‚úÖ       |
| Dynamic Action             | ‚úÖ       |
| PL/SQL –≤—Å—Ç–∞–≤–∫–∞ + –æ–Ω–æ–≤–ª–µ–Ω–Ω—è | ‚úÖ       |
| –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è / –ü–µ—Ä–µ—Ö—ñ–¥     | ‚úÖ       |
| –û—á–∏—â–µ–Ω–Ω—è —á–µ—Ä–Ω–µ—Ç–æ–∫          | üîÑ (–æ–ø—Ü.) |

---

üîß –•–æ—á–µ—à ‚Äî –º–æ–∂—É —â–µ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –ø–æ–º–∏–ª–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è) –∞–±–æ –∑—Ä–æ–±–∏—Ç–∏ validation.

–ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –∫–∞—Ä—Ç–∫–∏ –ø–µ—Ä–µ–≥–ª—è–¥—É –∑–∞–≤–¥–∞–Ω–Ω—è?