–©–æ–± **–≤–∏–≤–µ—Å—Ç–∏ —Ñ–∞–∫—Ç–∏—á–Ω—É –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è** –≤ `Interactive Grid`, —Ç–∏ –º–æ–∂–µ—à:

### ‚úÖ –î–æ–¥–∞—Ç–∏ –≤ SQL-–∑–∞–ø–∏—Ç –∫–æ–ª–æ–Ω–∫—É `ACTUAL_DATE_END`, —è–∫—É –æ–±—á–∏—Å–ª—é—î—à —á–µ—Ä–µ–∑ `JOIN` –∞–±–æ `SCALAR SUBQUERY`.

---

## üîß –í–∏—Ö—ñ–¥–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ:

- `TASK_SUBTASKS` ‚Äî –º–∞—î `ID` = `subtask_id`
- `SIGNATURERIGHTS` ‚Äî `SUBTASK_ID`, `ID` (signright_id)
- `SIGNATUREHISTORY` ‚Äî `SIGNRIGHT_ID`, `SIGNER_DATE`, `STAGES_ID = 3`

---

## üõ†Ô∏è –í–∞—Ä—ñ–∞–Ω—Ç 1: —á–µ—Ä–µ–∑ SCALAR SUBQUERY

```sql
SELECT 
  ROWID AS ID,
  SUBTASK_ORDER,
  SUBTASK_TEXT,
  
  (
    SELECT MAX(sh.SIGNER_DATE)
    FROM SIGNATURERIGHTS sr
    JOIN SIGNATUREHISTORY sh ON sh.SIGNRIGHT_ID = sr.ID
    WHERE sr.SUBTASK_ID = ts.ID
      AND sr.STAGES_ID = 3
  ) AS ACTUAL_DATE_END

FROM TASK_SUBTASKS ts
WHERE TASK_ID = :P_TASK_ID
```

‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:
- –ü—Ä–æ—Å—Ç–∏–π –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –≤ Interactive Grid
- –ù–µ –ø–æ—Ç—Ä–µ–±—É—î –∑–º—ñ–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ IG

---

## üõ†Ô∏è –í–∞—Ä—ñ–∞–Ω—Ç 2: —á–µ—Ä–µ–∑ `LEFT JOIN` (–±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–π, —è–∫—â–æ —Ç—Ä–µ–±–∞ —â–µ –ø–æ–ª—è, —è–∫ NOTE)

```sql
SELECT 
  ts.ROWID AS ID,
  ts.SUBTASK_ORDER,
  ts.SUBTASK_TEXT,
  MAX(sh.SIGNER_DATE) AS ACTUAL_DATE_END

FROM TASK_SUBTASKS ts
LEFT JOIN SIGNATURERIGHTS sr ON sr.SUBTASK_ID = ts.ID AND sr.STAGES_ID = 3
LEFT JOIN SIGNATUREHISTORY sh ON sh.SIGNRIGHT_ID = sr.ID

WHERE ts.TASK_ID = :P_TASK_ID
GROUP BY ts.ROWID, ts.SUBTASK_ORDER, ts.SUBTASK_TEXT
```

---

## ‚ûï –Ø–∫—â–æ —Ö–æ—á–µ—à —â–µ –π `NOTE` –∞–±–æ `SIGNER_BY`, –º–æ–∂–µ—à –¥–æ–¥–∞—Ç–∏ —Ç–∞–∫:

```sql
(
  SELECT MAX(sh.NOTE)
  FROM SIGNATURERIGHTS sr
  JOIN SIGNATUREHISTORY sh ON sh.SIGNRIGHT_ID = sr.ID
  WHERE sr.SUBTASK_ID = ts.ID AND sr.STAGES_ID = 3
) AS COMPLETION_NOTE
```

---

## ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤ APEX IG

1. –í APEX, —É SQL Source –∑–≤—ñ—Ç—É –∑–∞–º—ñ–Ω–∏ `SELECT ...` –Ω–∞ –≤–µ—Ä—Å—ñ—é –∑ `ACTUAL_DATE_END`.
2. –î–æ–¥–∞–π –Ω–æ–≤—É –∫–æ–ª–æ–Ω–∫—É —É `Interactive Grid` ‚Üí —Ç–∏–ø: **Display Only** –∞–±–æ **Date**.
3. –í—Å—Ç–∞–Ω–æ–≤–∏ —Ñ–æ—Ä–º–∞—Ç: `DD.MM.YYYY HH24:MI`

---

üîß –•–æ—á–µ—à ‚Äî –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –¥–æ–¥–∞—Ç–∏ —Ç–∞–∫–æ–∂ –≤–∏–≤—ñ–¥ —Å—Ç–∞—Ç—É—Å—É (–≤–∏–∫–æ–Ω–∞–Ω–æ / –Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–æ) –∞–±–æ –ø–µ—Ä–µ–∫—Ä–µ—Å–ª–µ–Ω–Ω—è —Ä—è–¥–∫–∞ –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ—Å—Ç—ñ `ACTUAL_DATE_END`.

–¶–µ –∑—Ä–æ–±–∏—Ç–∏?