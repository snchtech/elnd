–©–æ–± —Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ **—ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–æ –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω—É –∫–æ–ª–æ–Ω–∫—É `DISPLAY_CONTENT`** —É `VIEW`, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π CTE (–∑–∞–ø–∏—Ç —ñ–∑ `CONNECT BY` –∞–±–æ `WITH RECURSIVE`, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ Oracle –≤–µ—Ä—Å—ñ—ó).

–û—Å–∫—ñ–ª—å–∫–∏ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à Oracle 12c, –æ—Å—å –Ω–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥: **`CONNECT BY PRIOR` + LPAD (–≤—ñ–¥—Å—Ç—É–ø–∏)**

---

## ‚úÖ –ü—Ä–∏–∫–ª–∞–¥ View –¥–ª—è `TASK_SUBTASKS` –∑ –∫–æ–ª–æ–Ω–∫–æ—é `DISPLAY_CONTENT`

```sql
CREATE OR REPLACE VIEW V_TASK_SUBTASKS_HIER AS
SELECT
    s.ID,
    s.TASK_ID,
    s.PARENT_ID,
    s.SUBTASK_CONTENT,
    s.STATUS_ID,
    s.PLANNING_DATE_END,
    s.ACTUAL_DATE_END,
    s.SUBTASK_ORDER,
    LPAD('¬†¬†', LEVEL - 1, '¬†¬†') || s.SUBTASK_CONTENT AS DISPLAY_CONTENT,
    LEVEL AS NESTING_LEVEL
FROM TASK_SUBTASKS s
START WITH s.PARENT_ID IS NULL
CONNECT BY PRIOR s.ID = s.PARENT_ID
ORDER SIBLINGS BY s.SUBTASK_ORDER;
```

---

## üîç –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

| –ö–æ–ª–æ–Ω–∫–∞            | –©–æ –º—ñ—Å—Ç–∏—Ç—å                                         |
|--------------------|----------------------------------------------------|
| `SUBTASK_CONTENT`  | –ó–≤–∏—á–∞–π–Ω–∏–π —Ç–µ–∫—Å—Ç –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è                        |
| `DISPLAY_CONTENT`  | –¢–µ–∫—Å—Ç –∑ –≤—ñ–¥—Å—Ç—É–ø–æ–º –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä—ñ–≤–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó      |
| `LEVEL`            | –†—ñ–≤–µ–Ω—å –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ (1 ‚Äî –≤–µ—Ä—Ö–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å)           |
| `LPAD('¬†¬†', LEVEL - 1, '¬†¬†')` | –î–æ–¥–∞—î –ø–æ 2 –ø—Ä–æ–±—ñ–ª–∏ –Ω–∞ –∫–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å –Ω–∏–∂—á–µ |

> `ORDER SIBLINGS BY` –≥–∞—Ä–∞–Ω—Ç—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ—Ä—è–¥–∫—É –≤–∏–≤–æ–¥—É –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å –Ω–∞ –æ–¥–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ.

---

## üß† –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —É APEX:

- –í Interactive Grid:
  - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π `DISPLAY_CONTENT` —è–∫ `Display Only` –∫–æ–ª–æ–Ω–∫—É –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó.
  - –ê –∫–æ–ª–æ–Ω–∫—É `SUBTASK_CONTENT` ‚Äî –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.

---

üìå –Ø–∫—â–æ —Ç–æ–±—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —â–µ –¥–æ–¥–∞—Ç–∏ `[‚úì]`, –∞–±–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤ —Ç–µ–∫—Å—Ç ‚Äî —Ç–∞–∫–æ–∂ –º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ `CASE WHEN actual_date_end IS NOT NULL THEN ...`.

–•–æ—á–µ—à –∑—Ä–æ–±–∏—Ç–∏ —â–µ –∫–æ–ª—å–æ—Ä–æ–≤–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —á–∏ –ø–µ—Ä–µ–∫—Ä–µ—Å–ª–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–∏—Ö —É —Ü—ñ–π –∫–æ–ª–æ–Ω—Ü—ñ?