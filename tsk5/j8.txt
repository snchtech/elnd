–ß—É–¥–æ–≤–æ, –¥–∞–≤–∞–π —Ä–µ–∞–ª—ñ–∑—É—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—É –∫–∞—Ä—Ç–∫—É –∑–∞–≤–¥–∞–Ω–Ω—è –≤ Oracle APEX –ø–æ–∫—Ä–æ–∫–æ–≤–æ.

---

## ‚úÖ 1. –î–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–∫–æ–Ω–∫–∏ –≤ Interactive Report (IR)

### –£ –∫–æ–ª–æ–Ω—Ü—ñ `TASK_ID`:
- –£–≤—ñ–π–¥–∏ –≤ –∞—Ç—Ä–∏–±—É—Ç–∏ –∫–æ–ª–æ–Ω–∫–∏ ‚Üí `HTML Expression`:
```html
<a href="javascript:void(0);" onclick="openTaskCard(&TASK_ID.)">
  <span class="fa fa-info-circle" aria-hidden="true" title="–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—ñ"></span>
</a>
```

> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Font Awesome —ñ–∫–æ–Ω–∫–∞. –ú–æ–∂–µ—à –∑–º—ñ–Ω–∏—Ç–∏ –∫–ª–∞—Å —ñ–∫–æ–Ω–∫–∏ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ.

---

## ‚úÖ 2. JavaScript-—Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –∫–∞—Ä—Ç–∫–∏

### –î–æ–¥–∞–π —É `Page ‚Üí JavaScript ‚Üí Function and Global Variable Declaration`:

```javascript
function openTaskCard(taskId) {
  apex.item("P_CARD_TASK_ID").setValue(taskId);
  apex.region("R_TASK_CARD_MODAL").refresh();
  apex.region("R_TASK_CARD_MODAL").widget().dialog("open");
}
```

---

## ‚úÖ 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–≥—ñ–æ–Ω—É-–∫–∞—Ä—Ç–∫–∏ (Modal Dialog)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
- –°—Ç–≤–æ—Ä–∏—Ç–∏ `Region Type: Static Content`, `Display Point: Inline Dialog`
- Static ID: `R_TASK_CARD_MODAL`
- –í–º—ñ—Å—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `PL/SQL Dynamic Content` –∞–±–æ `Report`

---

### –£ —Ä–µ–≥—ñ–æ–Ω—ñ:

#### ‚öôÔ∏è –î–∞–Ω—ñ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è:
- `SELECT` –ø–æ `TASKS` (–ø–æ `P_CARD_TASK_ID`)
- –í–∏–≤–æ–¥–∏—Ç–∏:
  - `date_create`
  - `planning_date_end`
  - `unit_id ‚Üí –Ω–∞–∑–≤–∞`
  - `task_type`
  - `task_content` ‚Äî —è–∫—â–æ —Ç–∏–ø 1
  - —è–∫—â–æ —Ç–∏–ø 2 ‚Äî `IR (read-only)` –∑ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏

#### üîπ –î–æ–¥–∞–π –∫–Ω–æ–ø–∫–∏:

- –ö–Ω–æ–ø–∫–∞: `–ó–∞–∫—Ä–∏—Ç–∏` ‚Üí `Cancel Dialog`
- –ö–Ω–æ–ø–∫–∞: `–†–µ–¥–∞–≥—É–≤–∞—Ç–∏` ‚Üí –ø–æ–∫–∞–∑—É—î `items`/`fields` —É —Ä–µ–∂–∏–º—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- –ö–Ω–æ–ø–∫–∞: `–û–Ω–æ–≤–∏—Ç–∏` ‚Üí –≤–∏–∫–ª–∏–∫–∞—î –ø—Ä–æ—Ü–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

---

## ‚úÖ 4. –£–º–æ–≤–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ "–†–µ–¥–∞–≥—É–≤–∞—Ç–∏"

### –î–æ–¥–∞–π `Server-side Condition`:

```plsql
:P0_USER_ROLE = 'editor' OR :APP_USER_ID = (SELECT CREATOR_ID FROM TASKS WHERE ID = :P_CARD_TASK_ID)
```

> –ó–∞–º—ñ–Ω–∏ `P0_USER_ROLE` –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∏–π `item` –∞–±–æ –≥–ª–æ–±–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

---

## ‚úÖ 5. –ü—Ä–æ—Ü–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏

### üî∏ `Process Type:` PL/SQL  
**Server-side Condition:** `Request = UPDATE`

```plsql
DECLARE
  v_task_id TASKS.ID%TYPE := :P_CARD_TASK_ID;
BEGIN
  UPDATE TASKS
  SET
    TASK_CONTENT = :P_CARD_TASK_CONTENT,
    PLANNING_DATE_END = :P_CARD_PLANNING_DATE_END,
    UNIT_ID = :P_CARD_UNIT_ID,
    TYPE_ID = :P_CARD_TASK_TYPE
  WHERE ID = v_task_id;

  -- –Ø–∫—â–æ —î –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è - –æ–Ω–æ–≤–ª—é—î–º–æ (—á–µ—Ä–µ–∑ IG –∞–±–æ –æ–∫—Ä–µ–º—É –ª–æ–≥—ñ–∫—É, —è–∫—â–æ —Ç—Ä–µ–±–∞)
  UPDATE TASK_SUBTASKS
  SET SUBTASK_CONTENT = :P_SUBTASK_CONTENT,
      PLANNING_DATE_END = :P_SUBTASK_PLAN_END
  WHERE TASK_ID = v_task_id;
END;
```

---

## ‚úÖ 6. –†–µ–¥–∏—Ä–µ–∫—Ç –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä–∏ `Branch`:
- **Type:** Branch to Page
- **Page:** ID –≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∂—É—Ä–Ω–∞–ª—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `1`)
- **Condition:** `Request = UPDATE`

---

## ‚úÖ –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ:

- –ú–æ–∂–µ—à —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–º–∏–∫–∞—á —Ä–µ–∂–∏–º—É –ø–µ—Ä–µ–≥–ª—è–¥ ‚Üî —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `DA`, —â–æ –ø–æ–∫–∞–∑—É—î/—Ö–æ–≤–∞—î –µ–ª–µ–º–µ–Ω—Ç–∏.
- –ê —Ç–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (AJAX + DA).

---

üîß –•–æ—á–µ—à ‚Äî –¥–æ–ø–æ–º–æ–∂—É –∑ —à–∞–±–ª–æ–Ω–æ–º HTML/PLSQL –¥–ª—è –∫–∞—Ä—Ç–∫–∏ –∞–±–æ –≤–∏–Ω–µ—Å–µ–º–æ —á–∞—Å—Ç–∏–Ω—É –ª–æ–≥—ñ–∫–∏ –≤ –º–æ–¥—É–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É.

–ì–æ—Ç–æ–≤—ñ –ø–µ—Ä–µ–π—Ç–∏ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –¥–æ—Å—Ç—É–ø—É –Ω–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è?