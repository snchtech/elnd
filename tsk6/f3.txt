–î–æ–±—Ä–µ, –¥–∞–≤–∞–π —Ä–µ–∞–ª—ñ–∑—É—î–º–æ —Ü–µ –ø–æ–µ—Ç–∞–ø–Ω–æ ‚Äî –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤—Å—ñ—î—ó –≤–∫–∞–∑–∞–Ω–æ—ó –ª–æ–≥—ñ–∫–∏.

---

## üîß **1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è `Interactive Grid` –¥–ª—è –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å**

### –î–∂–µ—Ä–µ–ª–æ: `TASK_SUBTASKS`
- –î–æ–¥–∞–π **IG region** –∑ SQL-–∑–∞–ø–∏—Ç–æ–º, —è–∫–∏–π –≤–∫–ª—é—á–∞—î —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ `‚Ññ`, —ñ –¥–æ–¥–∞—Ç–∫–æ–≤–µ –ø–æ–ª–µ `actual_date_end`:

```sql
SELECT 
    ROWNUM AS SUBTASK_ROW_NUM, -- –ü–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä (—Ç–∏–º—á–∞—Å–æ–≤–∏–π, –¥–ª—è –≤–∏–≤–æ–¥—É)
    t.ID,
    t.TASK_ID,
    t.SUBTASK_CONTENT,
    t.STATUS_ID,
    t.PLANNING_DATE_END,
    t.PARENT_ID,
    t.SUBTASK_ORDER,
    t.TEMPLATE_SUBTASK_ID,
    t.DRAFT_ID,

    -- –†–µ–∞–ª—å–Ω–µ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è: —à—É–∫–∞—î–º–æ –¥–∞—Ç—É –ø—ñ–¥–ø–∏—Å—É –ø–æ SIGNATURERIGHTS/STAGE=3
    (
        SELECT h.SIGNER_DATE
        FROM SIGNATURERIGHTS r
        JOIN SIGNATUREHISTORY h ON h.SIGNRIGHT_ID = r.ID
        WHERE r.SUBTASK_ID = t.ID
          AND r.TASK_ID = t.TASK_ID
          AND h.NEW_STATUS_ID = 3
          AND ROWNUM = 1
    ) AS ACTUAL_DATE_END

FROM TASK_SUBTASKS t
WHERE t.TASK_ID = :P50_TASK_ID
ORDER BY t.SUBTASK_ORDER
```

> –Ø–∫—â–æ `P50_TASK_ID` –ø–æ—Ä–æ–∂–Ω—ñ–π (—Ç–æ–±—Ç–æ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è), —Ç–æ IG –±—É–¥–µ –ø—É—Å—Ç–∏–º.

---

## üìë **2. –ö–æ–ª–æ–Ω–∫–∏ IG**

- **‚Ññ –ø–æ –ø–æ—Ä—è–¥–∫—É (`SUBTASK_ROW_NUM`)** ‚Äî `Display Only`
- **`SUBTASK_CONTENT`** ‚Äî —Ç–µ–∫—Å—Ç, —Ä–µ–¥–∞–≥–æ–≤–∞–Ω–∏–π
- **`PLANNING_DATE_END`** ‚Äî `Date Picker`
- **`PARENT_ID`** ‚Äî Select List (–±—É–¥–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ –Ω–∏–∂—á–µ)
- **`ACTUAL_DATE_END`** ‚Äî `Display Only`, –Ω–µ —Ä–µ–¥–∞–≥—É—î—Ç—å—Å—è

---

## üß† **3. Select List –¥–ª—è `PARENT_ID`**

### LOV —Ç–∏–ø—É `Dynamic SQL`:
```sql
SELECT TO_CHAR(s.SUBTASK_ROW_NUM) AS display_value, s.ID AS return_value
FROM (
    SELECT ROWNUM AS SUBTASK_ROW_NUM, ID
    FROM TASK_SUBTASKS
    WHERE TASK_ID = :P50_TASK_ID
) s
ORDER BY SUBTASK_ROW_NUM
```

> –¶–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î `‚Ññ –ø–æ –ø–æ—Ä—è–¥–∫—É`, –∞–ª–µ –ø–æ–≤–µ—Ä—Ç–∞—î `ID` –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è.

---

## üõ†Ô∏è **4. –ö–Ω–æ–ø–∫–∏ –Ω–∞–¥ IG: –¥–æ–¥–∞—Ç–∏, —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏, –≤–∏–¥–∞–ª–∏—Ç–∏, –∑–±–µ—Ä–µ–≥—Ç–∏**

–°—Ç–≤–æ—Ä–∏ **4 –∫–Ω–æ–ø–∫–∏** —É **"Static Region"** –Ω–∞–¥ IG (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ —É –æ–∫—Ä–µ–º–æ–º—É —Ä–µ–≥—ñ–æ–Ω—ñ –∑ —à–∞–±–ª–æ–Ω–æ–º "Button Container").

### A. –ö–Ω–æ–ø–∫–∞: **–î–æ–¥–∞—Ç–∏ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è**
- Dynamic Action: `Execute JavaScript`
```js
var ig$ = apex.region("your_ig_static_id").widget();
ig$.interactiveGrid("getActions").invoke("selection-add-row");
```

### B. –ö–Ω–æ–ø–∫–∞: **–í–∏–¥–∞–ª–∏—Ç–∏ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è**
```js
var ig$ = apex.region("your_ig_static_id").widget();
ig$.interactiveGrid("getActions").invoke("selection-delete");
```

### C. –ö–Ω–æ–ø–∫–∞: **–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è**
- IG –º–∞—î –±—É—Ç–∏ –≤ —Ä–µ–∂–∏–º—ñ "Editable"
- –ó–∞ –ø–æ—Ç—Ä–µ–±–∏, –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏: `Start Row Edit`:

```js
var model = apex.region("your_ig_static_id").call("getViews", "grid").model;
var selected = apex.region("your_ig_static_id").call("getSelectedRecords");
if (selected.length > 0) {
  model.editRecord(selected[0]);
}
```

### D. –ö–Ω–æ–ø–∫–∞: **–ó–±–µ—Ä–µ–≥—Ç–∏ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è**
```js
apex.region("your_ig_static_id").call("getActions").invoke("save");
```

> –ó–∞–º—ñ–Ω–∏ `"your_ig_static_id"` –Ω–∞ Static ID IG-–æ–±–ª–∞—Å—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `subtask_ig`).

---

## üß© **5. –ù—É–º–µ—Ä–∞—Ü—ñ—è ‚Äú‚Ññ –ø–æ –ø–æ—Ä—è–¥–∫—É‚Äù –≤ JS (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)**

–©–æ–± —Ü–µ –±—É–ª–æ **–¥–∏–Ω–∞–º—ñ—á–Ω–æ** ‚Äî –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ **JS —É ‚ÄúAfter Refresh‚Äù** IG:

```js
var rows = apex.region("subtask_ig").call("getViews", "grid").view$.find("tr");
rows.each(function(i, row) {
  $(row).find("td[headers='SUBTASK_ROW_NUM']").text(i);
});
```

–ê–±–æ –Ω–∞ —Ä—ñ–≤–Ω—ñ `SQL` –∑–∞–ª–∏—à–∏—Ç–∏ `ROWNUM` ‚Äî –ø—Ä–∞—Ü—é—î –ø—Ä–æ—Å—Ç–æ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ –¥–ª—è read-only –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

---

‚úÖ –¢–µ–ø–µ—Ä –≤ —Ç–µ–±–µ:
- –ü—Ä–∞—Ü—é—é—á–∏–π IG –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å;
- –î–∏–Ω–∞–º—ñ—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ `TASK_ID`;
- –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Ñ–∞–∫—Ç–∏—á–Ω–æ—ó –¥–∞—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑ –ø—ñ–¥–ø–∏—Å—É;
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—ó —á–µ—Ä–µ–∑ `PARENT_ID`;
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏.

üîÅ –ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫ ‚Äî —É–º–æ–≤–Ω–∞ –≤–∏–¥–∏–º—ñ—Å—Ç—å –±–ª–æ–∫–∞ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ/—Ä–æ–∑—à–∏—Ä–µ–Ω–æ–≥–æ –∑–º—ñ—Å—Ç—É –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ `TASK_TYPE`, —á–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏?