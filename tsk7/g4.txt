üîß –ß—É–¥–æ–≤–æ ‚Äî —Ç–∏ —Ö–æ—á–µ—à –º–∞—Ç–∏ **–æ–¥–Ω—É —Å–ø—ñ–ª—å–Ω—É —Ñ–æ—Ä–º—É –≤ Oracle APEX**, —è–∫–∞:

1. ‚úÖ –î–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏—Å—å –º—ñ–∂ **—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ —à–∞–±–ª–æ–Ω—É**
2. ‚úÖ –í –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Ä–µ–∂–∏–º—É, –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ –≤ —Ä—ñ–∑–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ:
   - **TASKS / TASK_SUBTASKS** –¥–ª—è –∑–∞–≤–¥–∞–Ω—å
   - **TASK_TEMPLATES / TASK_TEMPLATE_SUBTASKS** –¥–ª—è —à–∞–±–ª–æ–Ω—ñ–≤
3. ‚úÖ –ü—ñ–∑–Ω—ñ—à–µ –¥–∞—î –∑–º–æ–≥—É –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—É –∫–∞—Ä—Ç–∫—É** —ñ–∑ IR, —è–∫–∞:
   - –í–∏–∑–Ω–∞—á–∞—î —Ç–∏–ø –∑–∞–ø–∏—Å—É
   - –ü–æ–∫–∞–∑—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø–æ–ª—è
   - –î–æ–∑–≤–æ–ª—è—î —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, —è–∫—â–æ –¥–æ–∑–≤–æ–ª–µ–Ω–æ

---

## ‚úÖ –°–¢–†–£–ö–¢–£–†–ê: –û–¥–∏–Ω —Ä–µ–≥—ñ–æ–Ω, –æ–¥–∏–Ω –Ω–∞–±—ñ—Ä –ø–æ–ª—ñ–≤, –ø–µ—Ä–µ–º–∏–∫–∞—á —Ç–∏–ø—É

---

### üîπ –ü–µ—Ä–µ–º–∏–∫–∞—á —Ç–∏–ø—É:

```apex
Item: P50_TASK_MODE
Type: Radio Group
Values:
- STANDARD (–ó–∞–≤–¥–∞–Ω–Ω—è)
- TEMPLATE (–®–∞–±–ª–æ–Ω)
Default: STANDARD
```

---

### üîπ –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∫–∞–∑—É/–ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–ª—ñ–≤:

–°—Ç–≤–æ—Ä–∏ Dynamic Actions:

| –ü–æ–¥—ñ—è             | –£–º–æ–≤–∞                   | –î—ñ—è                                 |
|-------------------|-------------------------|--------------------------------------|
| Change `P50_TASK_MODE` | `= 'STANDARD'`         | Show: –ø–æ–ª—è, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –∑–∞–≤–¥–∞–Ω—å |
| Change `P50_TASK_MODE` | `= 'TEMPLATE'`         | Show: –ø–æ–ª—è —à–∞–±–ª–æ–Ω—É                  |

---

## ‚úÖ –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø:

### üîß –°—Ç–≤–æ—Ä—é—î–º–æ 2 **Server Process** (—Ç–∏–ø: PL/SQL):

---

#### üü¶ Process: `CREATE_TASK`

```plsql
INSERT INTO TASKS (
  TASK_CONTENT, DEPARTMENT_ID, UNIT_ID, STATUS_ID, ...
) VALUES (
  :P50_TASK_CONTENT, :P50_DEPARTMENT_ID, :P50_UNIT_ID, 1, ...
) RETURNING ID INTO :P50_TASK_ID;

-- –ó–∞–ø–∏—Å –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å –≤ TASK_SUBTASKS
FOR i IN 1 .. apex_application.g_f01.count LOOP
  INSERT INTO TASK_SUBTASKS (
    TASK_ID, SUBTASK_CONTENT, PLANNING_DATE_END, STATUS_ID
  ) VALUES (
    :P50_TASK_ID, apex_application.g_f01(i), apex_application.g_f02(i), 1
  );
END LOOP;
```

‚û°Ô∏è –£–º–æ–≤–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É: `:P50_TASK_MODE = 'STANDARD'`

---

#### üü® Process: `CREATE_TEMPLATE`

```plsql
INSERT INTO TASK_TEMPLATES (
  TEMPLATE_CONTENT, DEPARTMENT_ID, UNIT_ID, STATUS_ID, ...
) VALUES (
  :P50_TASK_CONTENT, :P50_DEPARTMENT_ID, :P50_UNIT_ID, 1, ...
) RETURNING ID INTO :P50_TEMPLATE_ID;

-- –ó–∞–ø–∏—Å —à–∞–±–ª–æ–Ω–Ω–∏—Ö –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å
FOR i IN 1 .. apex_application.g_f01.count LOOP
  INSERT INTO TASK_TEMPLATE_SUBTASKS (
    TEMPLATE_ID, SUBTASK_CONTENT, PLANNING_DATE_END, STATUS_ID
  ) VALUES (
    :P50_TEMPLATE_ID, apex_application.g_f01(i), apex_application.g_f02(i), 1
  );
END LOOP;
```

‚û°Ô∏è –£–º–æ–≤–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É: `:P50_TASK_MODE = 'TEMPLATE'`

---

## ‚úÖ –í–Ü–î–ö–†–ò–¢–¢–Ø –ö–ê–†–¢–û–ö –Ü–ó IR

---

### üîß –í IR –¥–æ–¥–∞—î–º–æ –∫–æ–ª–æ–Ω–∫—É:

```sql
CASE 
  WHEN IS_TEMPLATE = 1 THEN 'TEMPLATE'
  ELSE 'STANDARD'
END AS MODE_TYPE
```

---

### üîß –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ / –†–µ–¥–∞–≥—É–≤–∞—Ç–∏" ‚Üí Dynamic Action ‚Üí Redirect ‚Üí Target URL:

```apex
f?p=&APP_ID.:50:&SESSION.::NO::P50_ID,P50_TASK_MODE:#ID#,#MODE_TYPE#
```

---

### üîß –ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ 50 (—Ñ–æ—Ä–º–∞), –¥–æ–¥–∞—î–º–æ —É `Page Load`:

```plsql
IF :P50_TASK_MODE = 'TEMPLATE' THEN
  SELECT ...
  INTO ...
  FROM TASK_TEMPLATES
  WHERE ID = :P50_ID;
ELSIF :P50_TASK_MODE = 'STANDARD' THEN
  SELECT ...
  INTO ...
  FROM TASKS
  WHERE ID = :P50_ID;
END IF;
```

---

## ‚úÖ –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ:

- –í—Å—Ç–∞–Ω–æ–≤–∏ `P50_READ_ONLY_MODE = 'Y'` –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø–æ–ª—ñ–≤
- –î–æ–¥–∞–π —É–º–æ–≤—É –Ω–∞ –∫–Ω–æ–ø–∫—É "–ó–±–µ—Ä–µ–≥—Ç–∏" ‚Üí `P50_READ_ONLY_MODE = 'N'`

---

## üìå –ü—ñ–¥—Å—É–º–æ–∫:

| –ß–∞—Å—Ç–∏–Ω–∞ | –†—ñ—à–µ–Ω–Ω—è |
|---------|---------|
| –§–æ—Ä–º–∞ –æ–¥–Ω–∞ | –ü—Ä–∞—Ü—é—î –Ω–∞ –ø–µ—Ä–µ–º–∏–∫–∞—á—ñ `P50_TASK_MODE` |
| –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è | –î–≤–∞ –ø—Ä–æ—Ü–µ—Å–∏: INSERT –≤ —Ä—ñ–∑–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ |
| –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –∫–∞—Ä—Ç–∫–∏ | –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–∞—á—É ID + —Ç–∏–ø—É |
| –£–º–æ–≤–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è | –ß–µ—Ä–µ–∑ Dynamic Actions |

---

üí¨ –•–æ—á–µ—à ‚Äî –∑–±–µ—Ä–µ–º–æ —Ü–µ —è–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç-–µ–∫—Å–ø–æ—Ä—Ç —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤ APEX?