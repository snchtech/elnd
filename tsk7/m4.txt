üíØ –ö–ª–∞—Å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî —ñ –¥—É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —â–æ —Ö–æ—á–µ—à –º–∞—Ç–∏ **—î–¥–∏–Ω—É —Ñ–æ—Ä–º—É** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥—É **–∑–∞–≤–¥–∞–Ω—å —ñ —à–∞–±–ª–æ–Ω—ñ–≤**, –∑ –ø–µ—Ä–µ–º–∏–∫–∞—á–µ–º, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î, –∫—É–¥–∏ —Å–∞–º–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ. –î–∞–≤–∞–π –ø–æ–µ—Ç–∞–ø–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É—î–º–æ —Å—Ç–∞–±—ñ–ª—å–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é.

---

## ‚úÖ 1. –ü–µ—Ä–µ–º–∏–∫–∞—á —Ä–µ–∂–∏–º—É

```text
Item: P50_TASK_MODE
Values: 
  - STANDARD (–ó–≤–∏—á–∞–π–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è)
  - TEMPLATE (–®–∞–±–ª–æ–Ω)
Default: STANDARD
```

> –¶–µ–π item –±—É–¥–µ –∫–µ—Ä—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫–æ—é: –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏/—Ö–æ–≤–∞—Ç–∏ –ø–æ–ª—è, –∑–∞–ø—É—Å–∫–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏.

---

## ‚úÖ 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ

### üîπ –û—Å–Ω–æ–≤–Ω–∞ —Ñ–æ—Ä–º–∞ (Task/Template):
- Task Content
- Department
- Unit
- Type
- Status
- –ü–ª–∞–Ω–æ–≤—ñ –¥–∞—Ç–∏ (–ø–æ—á–∞—Ç–æ–∫/–∫—ñ–Ω–µ—Ü—å)
- –ü–µ—Ä–µ–º–∏–∫–∞—á (STANDARD / TEMPLATE)

### üîπ –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–ª—è (—è–∫—â–æ TEMPLATE):
- PERIOD_MODE
- PERIOD_INTERVAL
- HOURLY_TIMES
- DATE_END

### üîπ –ü—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è:
- IG-Grid –¥–ª—è TASK_SUBTASKS –∞–±–æ TASK_TEMPLATE_SUBTASKS (–±—É–¥—É—Ç—å 2 –æ–∫—Ä–µ–º—ñ, –∑ —É–º–æ–≤–æ—é –Ω–∞ `P50_TASK_MODE`)

---

## ‚úÖ 3. –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è

### üîß –°—Ç–≤–æ—Ä–∏—Ç–∏ 2 Server Process:

#### `CREATE_STANDARD_TASK`

```plsql
INSERT INTO TASKS (
  TASK_CONTENT, DEPARTMENT_ID, UNIT_ID, TYPE_ID, STATUS_ID,
  CREATOR_ID, PAGE_LIST_ID, PLANNING_DATE_START, PLANNING_DATE_END, NOTE
)
VALUES (
  :P50_TASK_CONTENT, :P50_DEPARTMENT_ID, :P50_UNIT_ID, :P50_TYPE_ID, :P50_STATUS_ID,
  :APP_USER, :P50_PAGE_LIST_ID, :P50_DATE_START, :P50_DATE_END, :P50_NOTE
)
RETURNING ID INTO :P50_TASK_ID;
```

#### `CREATE_TEMPLATE_TASK`

```plsql
INSERT INTO TASK_TEMPLATES (
  TASK_CONTENT, DEPARTMENT_ID, UNIT_ID, TYPE_ID, STATUS_ID,
  CREATOR_ID, PAGE_LIST_ID, PERIOD_MODE, PERIOD_INTERVAL,
  HOURLY_TIMES, DATE_END
)
VALUES (
  :P50_TASK_CONTENT, :P50_DEPARTMENT_ID, :P50_UNIT_ID, :P50_TYPE_ID, :P50_STATUS_ID,
  :APP_USER, :P50_PAGE_LIST_ID, :P50_PERIOD_MODE, :P50_PERIOD_INTERVAL,
  :P50_HOURLY_TIMES, :P50_DATE_END
)
RETURNING ID INTO :P50_TEMPLATE_ID;
```

> –í—Å—Ç–∞–Ω–æ–≤–∏ —É–º–æ–≤–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:  
> `:P50_TASK_MODE = 'STANDARD'` –¥–ª—è –ø–µ—Ä—à–æ–≥–æ  
> `:P50_TASK_MODE = 'TEMPLATE'` –¥–ª—è –¥—Ä—É–≥–æ–≥–æ

---

## ‚úÖ 4. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å

–ú–æ–∂–µ—à –º–∞—Ç–∏ 2 IG:
- –û–¥–∏–Ω –ø—Ä–∞—Ü—é—î –∑ `TASK_ID`
- –î—Ä—É–≥–∏–π ‚Äî –∑ `TEMPLATE_ID`

### –ü—Ä–∏ `P50_TASK_MODE = 'STANDARD'`:
- –í—ñ–¥–æ–±—Ä–∞–∂–∞–π IG –¥–ª—è TASK_SUBTASKS
- –ü—ñ—Å–ª—è `CREATE_STANDARD_TASK` ‚Äî `:P50_TASK_ID` –≤–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π

### –ü—Ä–∏ `TEMPLATE`:
- –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ ‚Äî –ø—Ä–∞—Ü—é—î IG –¥–ª—è TASK_TEMPLATE_SUBTASKS

---

## ‚úÖ 5. –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –Ω–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

### –í IR –ø–µ—Ä–µ–¥–∞–≤–∞–π:

```apex
f?p=&APP_ID.:50:&SESSION.::NO::P50_MODE,P50_ID:#MODE#,#ID#
```

> –£ `MODE`: `STANDARD` –∞–±–æ `TEMPLATE`  
> –£ `ID`: –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ `TASK_ID` –∞–±–æ `TEMPLATE_ID`

---

### –£ `Before Header` –¥–æ–¥–∞–π –ª–æ–≥—ñ–∫—É:

```plsql
IF :P50_TASK_MODE = 'STANDARD' THEN
  SELECT ...
  INTO ...
  FROM TASKS WHERE ID = :P50_ID;
ELSIF :P50_TASK_MODE = 'TEMPLATE' THEN
  SELECT ...
  INTO ...
  FROM TASK_TEMPLATES WHERE ID = :P50_ID;
END IF;
```

---

## ‚úÖ 6. –ü–µ—Ä–µ–≥–ª—è–¥ / —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

–ú–æ–∂–µ—à –∫–µ—Ä—É–≤–∞—Ç–∏:
- `P50_EDIT_MODE = Y/N`
- –†–æ–±–∏—Ç–∏ –ø–æ–ª—è read-only –∞–±–æ editable

---

## ‚úÖ 7. UI: –ü–æ–∫–∞–∑/–ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–ª—ñ–≤

Dynamic Actions:
- `When P50_TASK_MODE = STANDARD` ‚Üí Show/Hide –ø–æ–ª—ñ–≤ –¥–ª—è —à–∞–±–ª–æ–Ω—É
- –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ ‚Äî –¥–ª—è –ø–æ–ª—ñ–≤ —à–∞–±–ª–æ–Ω—É

---

## ‚úÖ 8. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å

- –£ `Process After Submit`, –ø–µ—Ä–µ–≤—ñ—Ä `P50_TASK_MODE`
- –ó–∞–ø–∏—Å—É–π –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è –≤ —Ç—É —á–∏ —ñ–Ω—à—É —Ç–∞–±–ª–∏—Ü—é (–º–æ–∂–Ω–∞ –Ω–∞–≤—ñ—Ç—å –¥–∏–Ω–∞–º—ñ—á–Ω–æ —á–µ—Ä–µ–∑ `PL/SQL Dynamic Content`, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

---

## ‚úÖ 9. –ú–æ–∂–ª–∏–≤—ñ –¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è

- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–∞–≤–¥–∞–Ω–Ω—è –∑ —à–∞–±–ª–æ–Ω—É
- –ü—ñ–¥—Ç—è–≥—É–≤–∞–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å
- –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —à–∞–±–ª–æ–Ω—É —É –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –∫–Ω–æ–ø–∫–∏

---

üí¨ –•–æ—á–µ—à ‚Äî –º–æ–∂—É —Å–∫–ª–∞—Å—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥ `.sql`-–µ–∫—Å–ø–æ—Ä—Ç—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ —É—Å—ñ—î—é –ª–æ–≥—ñ–∫–æ—é –∞–±–æ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —á–∞—Å—Ç–∏–Ω—É —Ü—ñ—î—ó –ª–æ–≥—ñ–∫–∏ —É PL/SQL –ø–∞–∫–µ—Ç.