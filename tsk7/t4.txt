–¢–∏ –¥—É–∂–µ —Ç–æ—á–Ω–æ —Ñ–æ—Ä–º—É–ª—é—î—à –∫–ª—é—á–æ–≤—É –ø—Ä–æ–±–ª–µ–º—É, –∑ —è–∫–æ—é —á–∞—Å—Ç–æ —Å—Ç–∏–∫–∞—é—Ç—å—Å—è –≤ APEX-–ø—Ä–æ—î–∫—Ç–∞—Ö: **–ø—Ä–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—ñ –¥–µ—è–∫–∏—Ö –∑–Ω–∞—á–µ–Ω—å —á–µ—Ä–µ–∑ JavaScript** (–∞ –Ω–µ –≤—Ä—É—á–Ω—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º), —Ü—ñ –∑–Ω–∞—á–µ–Ω–Ω—è **–Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î**, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ç–∏ –Ω–∞—Ç–∏—Å–∫–∞—î—à `"Save"` –Ω–∞ IG.

–†–æ–∑–±–µ—Ä–µ–º–æ –ø–æ–µ—Ç–∞–ø–Ω–æ:

---

## ‚ùóÔ∏è–ß–æ–º—É –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è?

> APEX IG –∑–±–µ—Ä—ñ–≥–∞—î **—Ç—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–µ–Ω—ñ –≤—Ä—É—á–Ω—É –∑–Ω–∞—á–µ–Ω–Ω—è**, —è–∫—ñ –≤—ñ–¥–º—ñ—á–µ–Ω—ñ —è–∫ "dirty" (–∑–º—ñ–Ω–µ–Ω–∏–º–∏ –≤ –º–æ–¥–µ–ª—ñ).

–Ø–∫—â–æ —Ç–∏ –∑–º—ñ–Ω—é—î—à –ø–æ–ª–µ —á–µ—Ä–µ–∑:

```js
model.setValue(record, "COLUMN_NAME", newValue);
```

‚úÖ ‚Äî –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è

–ê —è–∫—â–æ –Ω–∞–ø—Ä—è–º—É:
```js
record.COLUMN_NAME = "value"; // ‚ùå –Ω–µ –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è
```

üìå –ê —Ç–∞–∫–æ–∂: —è–∫—â–æ —Ç–∏ –¥–æ–¥–∞—î—à –Ω–æ–≤–∏–π —Ä—è–¥–æ–∫, –∞–ª–µ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏—à –π–æ–≥–æ —è–≤–Ω–æ –≤ —Ä–µ–∂–∏–º "edited" ‚Äî –≤—ñ–Ω –º–æ–∂–µ –Ω–µ –∑–±–µ—Ä–µ–≥—Ç–∏—Å—å.

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è 1: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `model.setValue(...)`

> –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π API –¥–ª—è –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö:

```js
var model = apex.region("subtask_ig").call("getViews", "grid").model;
var records = model.getRecords();

records.forEach(function(rec) {
  model.setValue(rec, "CREATOR_ID", $v("G_USER_ID"));
});
```

‚úÖ –¢–∞–∫—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å —É –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ `"Save"`.

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è 2: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω–∏–π `Submit` —ñ–∑ REQUEST

–¢–∏ –º–æ–∂–µ—à –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:

### üîπ –ö—Ä–æ–∫–∏:

1. –°—Ç–≤–æ—Ä–∏ **–∫–Ω–æ–ø–∫—É "–ó–±–µ—Ä–µ–≥—Ç–∏"** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `BTN_SAVE_ALL`)
2. –£ –∫–Ω–æ–ø—Ü—ñ:
   - Action: `Defined by Dynamic Action`

3. –î–æ–¥–∞–π **Dynamic Action "Submit page with request"**:
   - True Action: `Submit Page`
   - Request: `SAVE_ALL`

4. –°—Ç–≤–æ—Ä–∏ Process:
   - Type: `PL/SQL`
   - Condition: `:REQUEST = 'SAVE_ALL'`
   - –¢–∏ –º–æ–∂–µ—à –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏, —è–∫ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∑–∞–ø–∏—Å–∏:
     - –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏/–º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ
     - –≤—Å—Ç–∞–≤–ª—è—Ç–∏ –≤ —ñ–Ω—à—ñ —Ç–∞–±–ª–∏—Ü—ñ
     - –ª–æ–≥—É–≤–∞—Ç–∏ –ø–æ–¥—ñ—ó

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è 3: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `apex.server.process` —ñ `model.getChanges()` (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å)

> –Ø–∫—â–æ —Ö–æ—á–µ—à **–ø–æ–≤–Ω—ñ—Å—Ç—é –≤—Ä—É—á–Ω—É –∫–µ—Ä—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Å–∞–º–∏ –∑ JS**, —Ç–∏ –º–æ–∂–µ—à –∑—ñ–±—Ä–∞—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–∏ –∑ IG —ñ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ —ó—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ AJAX.

```js
var model = apex.region("subtask_ig").call("getViews", "grid").model;
var changes = model.getChanges();

apex.server.process("SAVE_SUBTASKS", {
  x01: JSON.stringify(changes),
  pageItems: "#P50_TASK_ID"
}, {
  success: function(pData) {
    apex.message.alert("–ó–±–µ—Ä–µ–∂–µ–Ω–æ");
  }
});
```

–ê –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ (`SAVE_SUBTASKS`):

```plsql
DECLARE
  v_json CLOB := apex_application.g_x01;
BEGIN
  -- –¢—É—Ç —Ç–∏ –º–æ–∂–µ—à –ø–∞—Ä—Å–∏—Ç–∏ JSON —ñ –≤—Å—Ç–∞–≤–ª—è—Ç–∏ –¥–∞–Ω—ñ –≤—Ä—É—á–Ω—É
  -- –∞–±–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—É –ø—Ä–æ—Ü–µ–¥—É—Ä—É
END;
```

---

## üü¢ –©–æ –æ–±—Ä–∞—Ç–∏?

| –ü–æ—Ç—Ä—ñ–±–Ω–æ...                                      | –†—ñ—à–µ–Ω–Ω—è                      |
|--------------------------------------------------|------------------------------|
| –ü—Ä–æ—Å—Ç–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑ –∞–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–∏–º–∏ –ø–æ–ª—è–º–∏       | ‚úÖ `model.setValue()`        |
| –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é, –ª–æ–≥—ñ–∫—É –¥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è           | ‚úÖ Custom Submit + REQUEST   |
| –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –∫–∞—Å—Ç–æ–º–Ω–∏–π –∑–∞–ø–∏—Å                 | ‚úÖ `apex.server.process()`   |

---

‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É—é**: —è–∫—â–æ —Ç–æ–±—ñ –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∑–±–µ—Ä–µ–≥—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —á–µ—Ä–µ–∑ JS**, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **`model.setValue(...)`**.

–ê —è–∫—â–æ —Ö–æ—á–µ—à –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ–¥–∞–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –¥–æ `TEMP_ROW_ID`, —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ø–æ `DRAFT_ID`, –≤—Å—Ç–∞–≤–ª—è—Ç–∏ –≤ —Ä—ñ–∑–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ) ‚Äî —Ç–æ–¥—ñ –ø—ñ–¥–∫–ª—é—á–∞–π `REQUEST = 'SAVE_ALL'`.

üîÅ –•–æ—á–µ—à ‚Äî —è –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –ø—ñ–¥ —Ç–≤—ñ–π IG.