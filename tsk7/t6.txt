–¢–∞–∫, –¥—É–∂–µ –≤–∞–∂–ª–∏–≤–µ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è! üëá

> –ù–∞–≤—ñ—Ç—å —è–∫—â–æ `model.setValue(...)` –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è —É IG, **–≤–æ–Ω–æ –º–æ–∂–µ –Ω–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –¥–æ –ë–î**, —è–∫—â–æ:
- –∫–æ–ª–æ–Ω–∫–∞ –≤ IG –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (`Type = Hidden`),
- –∞–±–æ –Ω–µ –±–µ—Ä–µ —É—á–∞—Å—Ç—ñ —É –ø—Ä–æ—Ü–µ—Å—ñ –≤—Å—Ç–∞–≤–∫–∏ (Insert Allowed),
- –∞–±–æ –Ω–µ –≤—Ö–æ–¥–∏—Ç—å –¥–æ Submit-–¥–∞–Ω–∏—Ö (–Ω–µ –∑–º—ñ–Ω–µ–Ω–∞ –≤—Ä—É—á–Ω—É),
- –∞–±–æ Maintain Session State = No.

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–º–æ –ø–æ–µ—Ç–∞–ø–Ω–æ, **—â–æ —Å–∞–º–µ —Ç—Ä–µ–±–∞ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è —É IG –≤ APEX 22**

---

### ‚úÖ 1. **–ü–µ—Ä–µ–≤—ñ—Ä —Ç–∏–ø –∫–æ–ª–æ–Ω–∫–∏ –≤ IG**

üî¥ **–ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `Hidden` type** ‚Äî APEX —á–∞—Å—Ç–æ **–Ω–µ –≤–∫–ª—é—á–∞—î —Ç–∞–∫—ñ –ø–æ–ª—è —É –º–æ–¥–µ–ª—å**.

‚úÖ **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π:**
- `Text Field` –∞–±–æ
- `Display Only`
- `Escape special characters = No`
- `Visible: No` ‚Äî —É –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è—Ö **Appearance**

---

### ‚úÖ 2. **–ü–æ–ª–µ –º–∞—î –±—É—Ç–∏ –¥–æ–∑–≤–æ–ª–µ–Ω–µ –¥–ª—è –∑–∞–ø–∏—Å—É**

–£ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è—Ö –∫–æ–ª–æ–Ω–∫–∏:

- **Save Always** = `Yes`
- **Insert Allowed** = `Yes`
- **Update Allowed** = `Yes` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

---

### ‚úÖ 3. **Maintain Session State** = `Yes`

–¶–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ, —ñ–Ω–∞–∫—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ Submit.

---

### ‚úÖ 4. **–†—è–¥–æ–∫ –º–∞—î –±—É—Ç–∏ ‚Äúdirty‚Äù –∞–±–æ –Ω–æ–≤–∏–º**

`model.setValue(...)` –º–∞—î –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—å:
- **–ø—ñ—Å–ª—è** —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É (—á–µ—Ä–µ–∑ `selection-add-row`)
- –∞–±–æ –¥–ª—è –≤–∂–µ —ñ—Å–Ω—É—é—á–æ–≥–æ, **—è–∫–∏–π –±—É–≤ –∑–º—ñ–Ω–µ–Ω–∏–π**

‚ÑπÔ∏è `model.setValue(...)` –≤–∏–∫–ª–∏–∫–∞—î internal `change`, –∞–ª–µ —ñ–Ω–æ–¥—ñ (–≤ –æ—Å–æ–±–ª–∏–≤–æ –∫–∞—Å—Ç–æ–º–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö) **–≤—ñ–Ω –Ω–µ –≤—ñ–¥–º—ñ—á–∞—î —Ä—è–¥–æ–∫ —è–∫ dirty**, —è–∫—â–æ:
- –ø–æ–ª–µ –Ω–µ –±—É–ª–æ –≤ –º–æ–¥–µ–ª—ñ –Ω–∞ –º–æ–º–µ–Ω—Ç –¥–æ–¥–∞–≤–∞–Ω–Ω—è
- –∞–±–æ –±—É–ª–æ `null` —ñ –∑–∞–ª–∏—à–∏–ª–æ—Å—å `null`

üìå –¢–æ–º—É: –±–∞–∂–∞–Ω–æ **–≤–∏–∫–ª–∏–∫–∞—Ç–∏ `model.setValue()` –ø—ñ—Å–ª—è –ø–æ—è–≤–∏ –∑–∞–ø–∏—Å—É**, –∞ –Ω–µ –≤—ñ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –≤–∏–∫–ª–∏–∫—É `add-row`.

---

### üõ†Ô∏è **–©–æ –∑—Ä–æ–±–∏—Ç–∏ –ø—Ä—è–º–æ –∑–∞—Ä–∞–∑:**

#### ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–ª–æ–Ω–∫–∏ `DRAFT_ID` –≤ IG:

| –í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å               | –ó–Ω–∞—á–µ–Ω–Ω—è             |
|---------------------------|----------------------|
| Type                      | `Text Field`         |
| Visible                   | `No`                 |
| Save Always               | `Yes`                |
| Maintain Session State    | `Yes`                |
| Insert Allowed            | `Yes`                |
| Update Allowed            | `Yes`                |

---

#### ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª—é–π –∑–Ω–∞—á–µ–Ω–Ω—è **–ø—ñ—Å–ª—è —Ç–æ–≥–æ —è–∫ –∑–∞–ø–∏—Å —Ç–æ—á–Ω–æ –∑‚Äô—è–≤–∏–≤—Å—è**:

```js
apex.region("subtask_ig").call("getViews", "grid").view$
  .interactiveGrid("getActions").invoke("selection-add-row");

setTimeout(function () {
  var ig$ = apex.region("subtask_ig").call("getViews", "grid");
  var model = ig$.model;
  var records = model.getRecords();
  var newRec = records[records.length - 1];

  // –ü—Ä–∏–º—É—Å–æ–≤–æ –∑–º—ñ–Ω—é—î–º–æ, —â–æ–± –≤—ñ–¥–∑–Ω–∞—á–∏—Ç–∏ –∑–∞–ø–∏—Å —è–∫ dirty
  model.setValue(newRec, "DRAFT_ID", $v("P50_DRAFT_ID"));
  model.setValue(newRec, "TEMP_ROW_ID", "tmp_" + new Date().getTime());

  // –î–æ–¥–∞–π –ø–æ–ª–µ, —è–∫–µ —è–≤–Ω–æ –∑–º—ñ–Ω–∏—Ç—å—Å—è:
  model.setValue(newRec, "SUBTASK_CONTENT", " "); // –Ω–∞–≤—ñ—Ç—å –ø—Ä–æ–±—ñ–ª ‚Äî –≤–∏–∫–ª–∏–∫–∞—î save

}, 100);
```

---

## üîÅ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Ä—É—á–Ω—É): —É Submit Process –¥–æ–¥–∞–π —Ç–∏–º—á–∞—Å–æ–≤–æ:

```plsql
APEX_DEBUG.MESSAGE('DRAFT_ID: ' || :DRAFT_ID);
```

–©–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å, —á–∏ –≤–∑–∞–≥–∞–ª—ñ –≤–æ–Ω–æ –¥—ñ–π—à–ª–æ –¥–æ —Å–µ—Ä–≤–µ—Ä–∞.

---

‚úÖ –Ø–∫—â–æ –≤—Å–µ –≤–∫–∞–∑–∞–Ω–µ –∑—Ä–æ–±–ª–µ–Ω–æ ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–æ—á–Ω–æ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å —É –ë–î. –Ø–∫—â–æ –Ω—ñ ‚Äî —è –º–æ–∂—É –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–≤—ñ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ IG (–Ω–∞–¥—Å–∏–ª–∞–π –ø—Ä–∏–∫–ª–∞–¥). –•–æ—á–µ—à?