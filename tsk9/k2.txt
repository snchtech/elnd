–î–æ–±—Ä–µ, –¥–∞–≤–∞–π —á—ñ—Ç–∫–æ —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è.  
–ü–æ–º–∏–ª–∫–∞ **"unsupported RETURNING"** —É PL/SQL –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ –≤–∫–∞–∑—É—î –Ω–∞ –æ–¥–Ω—É –∑ —Ç–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:

---

# üìã –ü—Ä–∏—á–∏–Ω–∏, —á–æ–º—É –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–º–∏–ª–∫–∞ RETURNING:

| –ü—Ä–∏—á–∏–Ω–∞ | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
|---------|-----------|
| ‚ùå 1. –¢–∏ –≤–∏–∫–æ–Ω—É—î—à INSERT —á–µ—Ä–µ–∑ SELECT –±–µ–∑ –ø—Ä—è–º–æ–≥–æ VALUES | –ê Oracle –¥–æ–∑–≤–æ–ª—è—î RETURNING —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ `INSERT ... VALUES (...)` |
| ‚ùå 2. –°—Ç–∞—Ä–∏–π —Ä–µ–∂–∏–º APEX –∞–±–æ —Å—Ç–∞—Ä–∏–π –¥—Ä–∞–π–≤–µ—Ä –ë–î | –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ —Å–µ—Ä–≤–µ—Ä–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ REST Data Source –∞–±–æ —Å—Ç–∞—Ä—É –≤–µ—Ä—Å—ñ—é APEX Engine |
| ‚ùå 3. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∞–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–±–æ—Ä–æ–Ω—è—é—Ç—å RETURNING –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∞–Ω–æ–Ω—ñ–º–Ω–∏—Ö –±–ª–æ–∫—ñ–≤ | –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Proxy-—Å—Ö–µ–º–∞ –∞–±–æ —Ç–æ–Ω–∫–∏–π –∫–ª—ñ—î–Ω—Ç Oracle |

---

# üî• –ì–æ–ª–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–≤–æ—î–º—É –∫–æ–¥—ñ:

–¢–∏ –≤–∏–∫–æ–Ω—É—î—à `INSERT INTO ... SELECT ... RETURNING INTO ...`  

–ê Oracle **–Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î RETURNING INTO –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó `INSERT ... SELECT ...`!**  
‚úÖ `RETURNING INTO` –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤ `INSERT ... VALUES (...)`.

> **Oracle –ø—Ä–∞–≤–∏–ª–æ:**  
> –Ø–∫—â–æ —Ç–∏ —Ä–æ–±–∏—à `INSERT INTO ... SELECT ...`, —Ç–∏ –ù–ï –º–æ–∂–µ—à –Ω–∞–ø–∏—Å–∞—Ç–∏ `RETURNING INTO`.

---

# üìà –Ø–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ —Ç–≤—ñ–π –∫–æ–¥:

–ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ø–æ—á–∞—Ç–∫—É –≤—Å—Ç–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Å, –∞ –ø–æ—Ç—ñ–º —á–µ—Ä–µ–∑ `SELECT` –¥—ñ—Å—Ç–∞—Ç–∏ ID –Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É.

## 1Ô∏è‚É£ –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Ä–æ–±–æ—á–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç:

```plsql
-- –û—Ç—Ä–∏–º—É—î–º–æ –Ω–æ–≤–∏–π ID –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å
SELECT TASKS_SEQ.NEXTVAL INTO v_new_task_id FROM DUAL;

-- –í–∏–∫–æ–Ω—É—î–º–æ INSERT, —è–≤–Ω–æ –≤–∫–∞–∑—É—é—á–∏ –Ω–æ–≤–∏–π ID
INSERT INTO TASKS (
    ID, DATE_CREATE, TASK_CONTENT, CREATOR_ID, PLANNING_DATE_START,
    PLANNING_DATE_END, STATUS_ID, DEPARTMENT_ID, UNIT_ID, TYPE_ID,
    PAGE_LIST_ID, IS_GENERATED, GENERATED_DATE, TEMPLATE_ID, NOTE
)
SELECT
    v_new_task_id,
    SYSDATE,
    TASK_CONTENT,
    CREATOR_ID,
    SYSDATE,
    PLANNING_DATE_END,
    STATUS_ID,
    DEPARTMENT_ID,
    UNIT_ID,
    TYPE_ID,
    PAGE_LIST_ID,
    IS_GENERATED,
    GENERATED_DATE,
    TEMPLATE_ID,
    NOTE
FROM TASKS
WHERE ID = :P5_TASK_ID;
```

–¢–æ–±—Ç–æ:
- –ü–µ—Ä—à–∏–π –∫—Ä–æ–∫: `SELECT NEXTVAL INTO –∑–º—ñ–Ω–Ω—É`
- –î—Ä—É–≥–∏–π –∫—Ä–æ–∫: `INSERT INTO` –∑ –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ—é —Ü—ñ—î—ó –∑–º—ñ–Ω–Ω–æ—ó –≤ `ID`

---

# üìã –¢–∞–∫ —Å–∞–º–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –¥–ª—è —à–∞–±–ª–æ–Ω—É:

```plsql
SELECT TASK_TEMPLATE_SEQ.NEXTVAL INTO v_new_template_id FROM DUAL;

INSERT INTO TASK_TEMPLATES (
    ID, DATE_CREATE, TASK_CONTENT, CREATOR_ID, STATUS_ID,
    DEPARTMENT_ID, UNIT_ID, TYPE_ID, PAGE_LIST_ID,
    PERIOD_MODE, PERIOD_INTERVAL, PERIOD_TIME,
    HOURLY_TIMES, NEXT_RUN_DATE, DATE_END
)
SELECT
    v_new_template_id,
    SYSDATE,
    TASK_CONTENT,
    CREATOR_ID,
    STATUS_ID,
    DEPARTMENT_ID,
    UNIT_ID,
    TYPE_ID,
    PAGE_LIST_ID,
    PERIOD_MODE,
    PERIOD_INTERVAL,
    PERIOD_TIME,
    HOURLY_TIMES,
    NEXT_RUN_DATE,
    DATE_END
FROM TASK_TEMPLATES
WHERE ID = :P5_TASK_ID;
```

---

# üõ† –ß–æ–º—É —Ç–∞–∫ —Ç—Ä–µ–±–∞:

- `RETURNING INTO` –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –¥–ª—è `INSERT INTO ... VALUES (...)`
- –Ø–∫—â–æ –º–∏ —Ä–æ–±–∏–º–æ `INSERT INTO ... SELECT ...`, —Ç–æ —Ç—Ä–µ–±–∞ —Å–ø–æ—á–∞—Ç–∫—É –æ–∫—Ä–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ ID

---

# üìà –¢–æ–±—Ç–æ —Ç–≤—ñ–π –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π –±–ª–æ–∫ –¥–ª—è TASK –±—É–¥–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —Ç–∞–∫:

```plsql
DECLARE
  v_new_task_id TASKS.ID%TYPE;
BEGIN
  SELECT TASKS_SEQ.NEXTVAL INTO v_new_task_id FROM DUAL;

  INSERT INTO TASKS (...)
  SELECT
    v_new_task_id, SYSDATE, TASK_CONTENT, ... 
  FROM TASKS
  WHERE ID = :P5_TASK_ID;

  -- –î–∞–ª—ñ –ª–æ–≥—ñ–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å —ñ —Ç–∞–∫ –¥–∞–ª—ñ...
END;
```

–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–ª—è —à–∞–±–ª–æ–Ω—ñ–≤.

---

# üöÄ –•–æ—á–µ—à ‚Äî —è —â–µ —à–≤–∏–¥–∫–æ —Å—Ñ–æ—Ä–º—É—é –¥–ª—è —Ç–µ–±–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∏–π "–ø–æ—Ñ—ñ–∫—à–µ–Ω–∏–π" –æ–±'—î–¥–Ω–∞–Ω–∏–π –∫–æ–¥ –±–µ–∑ RETURNING –¥–ª—è TASK + TEMPLATE?  
–°–∫–∞–∂–∏ "—Ç–∞–∫", —ñ —è –≤—ñ–¥—Ä–∞–∑—É —Å–∫–ª–∞–¥—É ‚úÖ
